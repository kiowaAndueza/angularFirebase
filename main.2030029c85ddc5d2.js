"use strict";(self.webpackChunkcrud_fireBase=self.webpackChunkcrud_fireBase||[]).push([[179],{2011:(rt,De,F)=>{F.d(De,{Dh:()=>X,GT:()=>fe,cc:()=>Se,hO:()=>$e,on:()=>q,pX:()=>Y,xv:()=>ge});var h=F(5e3),de=F(7554),x=F(2823);rt=F.hmd(rt);const se=["ngOnDestroy"],Y=(ke,Je,ze,Oe={})=>new Proxy(ke,{get:(Te,ve)=>ze.runOutsideAngular(()=>{var Ie;if(ke[ve])return(null===(Ie=null==Oe?void 0:Oe.spy)||void 0===Ie?void 0:Ie.get)&&Oe.spy.get(ve,ke[ve]),ke[ve];if(se.indexOf(ve)>-1)return()=>{};const _e=Je.toPromise().then(Ve=>{const qe=Ve&&Ve[ve];return"function"==typeof qe?qe.bind(Ve):qe&&qe.then?qe.then(ne=>ze.run(()=>ne)):ze.run(()=>qe)});return new Proxy(()=>{},{get:(Ve,qe)=>_e[qe],apply:(Ve,qe,ne)=>_e.then(oe=>{var re;const ye=oe&&oe(...ne);return(null===(re=null==Oe?void 0:Oe.spy)||void 0===re?void 0:re.apply)&&Oe.spy.apply(ve,ne,ye),ye})})})}),fe=(ke,Je)=>{Je.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Oe=>{Object.defineProperty(ke.prototype,Oe,Object.getOwnPropertyDescriptor(ze.prototype||ze,Oe))})})};class Q{constructor(Je){return Je}}const X=new h.OlP("angularfire2.app.options"),ge=new h.OlP("angularfire2.app.name");function q(ke,Je,ze){const Te="object"==typeof ze&&ze||{};Te.name=Te.name||"string"==typeof ze&&ze||"[DEFAULT]";const Ie=de.Z.apps.filter(_e=>_e&&_e.name===Te.name)[0]||Je.runOutsideAngular(()=>de.Z.initializeApp(ke,Te));try{JSON.stringify(ke)!==JSON.stringify(Ie.options)&&ee("error",`${Ie.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_e){}return new Q(Ie)}const ee=(ke,...Je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ke](...Je)},ie={provide:Q,useFactory:q,deps:[X,h.R0b,[new h.FiY,ge]]};let $e=(()=>{class ke{constructor(ze){de.Z.registerVersion("angularfire",x.q4.full,"core"),de.Z.registerVersion("angularfire",x.q4.full,"app-compat"),de.Z.registerVersion("angular",h.q4F.full,ze.toString())}static initializeApp(ze,Oe){return{ngModule:ke,providers:[{provide:X,useValue:ze},{provide:ge,useValue:Oe}]}}}return ke.\u0275fac=function(ze){return new(ze||ke)(h.LFG(h.Lbi))},ke.\u0275mod=h.oAB({type:ke}),ke.\u0275inj=h.cJS({providers:[ie]}),ke})();function Se(ke,Je,ze,Oe,Te){const[,ve,Ie]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===ke)||[];if(ve)return function Re(ke,Je){try{return ke.toString()===Je.toString()}catch(ze){return ke===Je}}(Te,Ie)||(Ee("error",`${Je} was already initialized on the ${ze} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Te,was:Ie})),ve;{const _e=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ke,_e,Te]),_e}}const He=!!rt.hot,Ee=(ke,...Je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ke](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2823:(rt,De,F)=>{F.d(De,{q4:()=>Wd,iC:()=>ol,HU:()=>as,vb:()=>os,JM:()=>No});var h=F(5e3),de=F(5694),x=F(5861),Y=(F(9182),F(2090));function sa(){return Md.apply(this,arguments)}function Md(){return(Md=(0,x.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(w){return!1}})).apply(this,arguments)}function Nd(){return fc.apply(this,arguments)}function fc(){return(fc=(0,x.Z)(function*(){try{yield(0,Y.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Hd(){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,x.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(w){return!1}})).apply(this,arguments)}F(4859);var li=F(4408),iu=F(7565);const zs=new class Ws extends iu.v{}(class ui extends li.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(D,R,U):D.flush(this)}});var $d=F(4986),ba=F(8505),su=F(9468),Gd=F(5363);const Wd=new h.GfV("7.3.0"),Yn="__angularfire_symbol__analyticsIsSupportedValue",ss="__angularfire_symbol__analyticsIsSupported",Ar="__angularfire_symbol__remoteConfigIsSupportedValue",ou="__angularfire_symbol__remoteConfigIsSupported",il="__angularfire_symbol__messagingIsSupportedValue",sl="__angularfire_symbol__messagingIsSupported";function No(w,D,R){if(D){if(1===D.length)return D[0];const ae=D.filter(Ae=>Ae.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(w).getImmediate({optional:!0})}globalThis[ss]||(globalThis[ss]=Hd().then(w=>globalThis[Yn]=w).catch(()=>globalThis[Yn]=!1)),globalThis[sl]||(globalThis[sl]=Nd().then(w=>globalThis[il]=w).catch(()=>globalThis[il]=!1)),globalThis[ou]||(globalThis[ou]=sa().then(w=>globalThis[Ar]=w).catch(()=>globalThis[Ar]=!1));const os=(w,D)=>{const R=D?[D]:(0,de.C6)(),U=[];return R.forEach(K=>{K.container.getProvider(w).instances.forEach(Ae=>{U.includes(Ae)||U.push(Ae)})}),U};function Hr(){}class uu{constructor(D,R=zs){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,U){const K=this.zone;return this.delegate.schedule(function(Ae){K.runGuarded(()=>{D.apply(this,[Ae])})},R,U)}}class qs{constructor(D){this.zone=D,this.task=null}call(D,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hr,{},Hr,Hr)),R.pipe((0,ba.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let as=(()=>{class w{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new uu(Zone.current)),this.insideAngular=R.run(()=>new uu(Zone.current,$d.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(R){return new(R||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function jr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ol(w){return jr(),function Po(w){return function(R){return(R=R.lift(new qs(w.ngZone))).pipe((0,su.R)(w.outsideAngular),(0,Gd.Q)(w.insideAngular))}}(jr())(w)}},5694:(rt,De,F)=>{F.d(De,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=F(9182)},7554:(rt,De,F)=>{F.d(De,{Z:()=>h.Z});var h=F(2412)},3755:(rt,De,F)=>{F.r(De);var h=F(5861),de=F(2412),x=F(2090),se=F(9182),Y=F(655);const fe=[];var Q=(()=>{return(_=Q||(Q={}))[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT",Q;var _})();const X={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ge=Q.INFO,q={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ee=(_,d,...g)=>{if(d<_.logLevel)return;const v=(new Date).toISOString(),T=q[d];if(!T)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);console[T](`[${v}]  ${_.name}:`,...g)};var Re=F(4859);const ve=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ie=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new class ie{constructor(d){this.name=d,this._logLevel=ge,this._logHandler=ee,this._userLogHandler=null,fe.push(this)}get logLevel(){return this._logLevel}set logLevel(d){if(!(d in Q))throw new TypeError(`Invalid value "${d}" assigned to \`logLevel\``);this._logLevel=d}setLogLevel(d){this._logLevel="string"==typeof d?X[d]:d}get logHandler(){return this._logHandler}set logHandler(d){if("function"!=typeof d)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=d}get userLogHandler(){return this._userLogHandler}set userLogHandler(d){this._userLogHandler=d}debug(...d){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...d),this._logHandler(this,Q.DEBUG,...d)}log(...d){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...d),this._logHandler(this,Q.VERBOSE,...d)}info(...d){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...d),this._logHandler(this,Q.INFO,...d)}warn(...d){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...d),this._logHandler(this,Q.WARN,...d)}error(...d){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...d),this._logHandler(this,Q.ERROR,...d)}}("@firebase/auth");function ne(_,...d){qe.logLevel<=Q.ERROR&&qe.error(`Auth (${se.SDK_VERSION}): ${_}`,...d)}function oe(_,...d){throw we(_,...d)}function re(_,...d){return we(_,...d)}function ye(_,d,g){const v=Object.assign(Object.assign({},Ie()),{[d]:g});return new x.LL("auth","Firebase",v).create(d,{appName:_.name})}function le(_,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&oe(_,"argument-error"),ye(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function we(_,...d){if("string"!=typeof _){const g=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return _e.create(_,...d)}function ue(_,d,...g){if(!_)throw we(d,...g)}function ut(_){const d="INTERNAL ASSERTION FAILED: "+_;throw ne(d),new Error(d)}function pt(_,d){_||ut(d)}const Be=new Map;function xt(_){pt(_ instanceof Function,"Expected a class definition");let d=Be.get(_);return d?(pt(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Be.set(_,d),d)}function Vt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function _r(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Bn{constructor(d,g){this.shortDelay=d,this.longDelay=g,pt(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function kn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_r()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yr(_,d){pt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class Qi{static initialize(d,g,v){this.fetchImpl=d,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ji=new Bn(3e4,6e4);function Kt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function dn(_,d,g,v){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(_,d,g,v,T={}){return Xn(_,T,(0,h.Z)(function*(){let O={},z={};v&&("GET"===d?z=v:O={body:JSON.stringify(v)});const he=(0,x.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Me=yield _._getAdditionalHeaders();return Me["Content-Type"]="application/json",_.languageCode&&(Me["X-Firebase-Locale"]=_.languageCode),Qi.fetch()(Yr(_,_.config.apiHost,g,he),Object.assign({method:d,headers:Me,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Xn(_,d,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(_,d,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},Zr),d);try{const T=new Un(_),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield O.json();if("needConfirmation"in z)throw An(_,"account-exists-with-different-credential",z);if(O.ok&&!("errorMessage"in z))return z;{const he=O.ok?z.errorMessage:z.error.message,[Me,Ge]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw An(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Me)throw An(_,"email-already-in-use",z);const ht=v[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw ye(_,ht,Ge);oe(_,ht)}}catch(T){if(T instanceof x.ZR)throw T;oe(_,"network-request-failed")}})).apply(this,arguments)}function hn(_,d,g,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(_,d,g,v,T={}){const O=yield dn(_,d,g,v,T);return"mfaPendingCredential"in O&&oe(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Yr(_,d,g,v){const T=`${d}${g}?${v}`;return _.config.emulator?yr(_.config,T):`${_.config.apiScheme}://${T}`}class Un{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(re(this.auth,"network-request-failed")),Ji.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(_,d,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const T=re(_,d,v);return T.customData._tokenResponse=g,T}function Qr(){return(Qr=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Bt(_,d){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function dt(_,d){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Hn(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function er(){return(er=(0,h.Z)(function*(_,d=!1){const g=(0,x.m9)(_),v=yield g.getIdToken(d),T=tt(v);ue(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,z=null==O?void 0:O.sign_in_provider;return{claims:T,token:v,authTime:Hn(or(T.auth_time)),issuedAtTime:Hn(or(T.iat)),expirationTime:Hn(or(T.exp)),signInProvider:z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function or(_){return 1e3*Number(_)}function tt(_){const[d,g,v]=_.split(".");if(void 0===d||void 0===g||void 0===v)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,x.tV)(g);return T?JSON.parse(T):(ne("Failed to decode base64 JWT payload"),null)}catch(T){return ne("Caught error parsing JWT payload as JSON",T),null}}function gt(_,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,h.Z)(function*(_,d,g=!1){if(g)return d;try{return yield d}catch(v){throw v instanceof x.ZR&&Xr(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function Xr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class lr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),v)}iteration(){var d=this;return(0,h.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&d.schedule(!0))}d.schedule()})()}}class ur{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(_){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(_){var d;const g=_.auth,v=yield _.getIdToken(),T=yield gt(_,dt(g,{idToken:v}));ue(null==T?void 0:T.users.length,g,"internal-error");const O=T.users[0];_._notifyReloadListener(O);const z=(null===(d=O.providerUserInfo)||void 0===d?void 0:d.length)?B(O.providerUserInfo):[],he=L(_.providerData,z),ht=!!_.isAnonymous&&!(_.email&&O.passwordHash||(null==he?void 0:he.length)),Qe={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:he,metadata:new ur(O.createdAt,O.lastLoginAt),isAnonymous:ht};Object.assign(_,Qe)})).apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(_){const d=(0,x.m9)(_);yield ei(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function L(_,d){return[..._.filter(v=>!d.some(T=>T.providerId===v.providerId)),...d]}function B(_){return _.map(d=>{var{providerId:g}=d,v=(0,Y._T)(d,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function pe(){return(pe=(0,h.Z)(function*(_,d){const g=yield Xn(_,{},(0,h.Z)(function*(){const v=(0,x.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:T,apiKey:O}=_.config,z=Yr(_,T,"/v1/token",`key=${O}`),he=yield _._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",Qi.fetch()(z,{method:"POST",headers:he,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ue(d.idToken,"internal-error"),ue(void 0!==d.idToken,"internal-error"),ue(void 0!==d.refreshToken,"internal-error");const g="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function ar(_){const d=tt(_);return ue(d,"internal-error"),ue(void 0!==d.exp,"internal-error"),ue(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var v=this;return(0,h.Z)(function*(){return ue(!v.accessToken||v.refreshToken,d,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var v=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:z}=yield function $(_,d){return pe.apply(this,arguments)}(d,g);v.updateTokensAndExpiration(T,O,Number(z))})()}updateTokensAndExpiration(d,g,v){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,g){const{refreshToken:v,accessToken:T,expirationTime:O}=g,z=new Pe;return v&&(ue("string"==typeof v,"internal-error",{appName:d}),z.refreshToken=v),T&&(ue("string"==typeof T,"internal-error",{appName:d}),z.accessToken=T),O&&(ue("number"==typeof O,"internal-error",{appName:d}),z.expirationTime=O),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Pe,this.toJSON())}_performRefresh(){return ut("not implemented")}}function Ze(_,d){ue("string"==typeof _||void 0===_,"internal-error",{appName:d})}class kt{constructor(d){var{uid:g,auth:v,stsTokenManager:T}=d,O=(0,Y._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new ur(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,h.Z)(function*(){const v=yield gt(g,g.stsTokenManager.getToken(g.auth,d));return ue(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(d){return function Xi(_){return er.apply(this,arguments)}(this,d)}reload(){return function W(_){return H.apply(this,arguments)}(this)}_assign(d){this!==d&&(ue(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new kt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var v=this;return(0,h.Z)(function*(){let T=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),T=!0),g&&(yield ei(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,h.Z)(function*(){const g=yield d.getIdToken();return yield gt(d,function vr(_,d){return Qr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var v,T,O,z,he,Me,Ge,ht;const Qe=null!==(v=g.displayName)&&void 0!==v?v:void 0,Pn=null!==(T=g.email)&&void 0!==T?T:void 0,Mi=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,mu=null!==(z=g.photoURL)&&void 0!==z?z:void 0,Dt=null!==(he=g.tenantId)&&void 0!==he?he:void 0,wh=null!==(Me=g._redirectEventId)&&void 0!==Me?Me:void 0,Ta=null!==(Ge=g.createdAt)&&void 0!==Ge?Ge:void 0,Dh=null!==(ht=g.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:_u,emailVerified:op,isAnonymous:ap,providerData:Pc,stsTokenManager:di}=g;ue(_u&&di,d,"internal-error");const Ih=Pe.fromJSON(this.name,di);ue("string"==typeof _u,d,"internal-error"),Ze(Qe,d.name),Ze(Pn,d.name),ue("boolean"==typeof op,d,"internal-error"),ue("boolean"==typeof ap,d,"internal-error"),Ze(Mi,d.name),Ze(mu,d.name),Ze(Dt,d.name),Ze(wh,d.name),Ze(Ta,d.name),Ze(Dh,d.name);const gl=new kt({uid:_u,auth:d,email:Pn,emailVerified:op,displayName:Qe,isAnonymous:ap,photoURL:mu,phoneNumber:Mi,tenantId:Dt,stsTokenManager:Ih,createdAt:Ta,lastLoginAt:Dh});return Pc&&Array.isArray(Pc)&&(gl.providerData=Pc.map(lp=>Object.assign({},lp))),wh&&(gl._redirectEventId=wh),gl}static _fromIdTokenResponse(d,g,v=!1){return(0,h.Z)(function*(){const T=new Pe;T.updateFromServerResponse(g);const O=new kt({uid:g.localId,auth:d,stsTokenManager:T,isAnonymous:v});return yield ei(O),O})()}}const Ft=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,v){var T=this;return(0,h.Z)(function*(){T.storage[g]=v})()}_get(g){var v=this;return(0,h.Z)(function*(){const T=v.storage[g];return void 0===T?null:T})()}_remove(g){var v=this;return(0,h.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function mt(_,d,g){return`firebase:${_}:${d}:${g}`}class Ut{constructor(d,g,v){this.persistence=d,this.auth=g,this.userKey=v;const{config:T,name:O}=this.auth;this.fullUserKey=mt(this.userKey,T.apiKey,O),this.fullPersistenceKey=mt("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,h.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?kt._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,h.Z)(function*(){if(g.persistence===d)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,v="authUser"){return(0,h.Z)(function*(){if(!g.length)return new Ut(xt(Ft),d,v);const T=(yield Promise.all(g.map(function(){var Ge=(0,h.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let O=T[0]||xt(Ft);const z=mt(v,d.config.apiKey,d.name);let he=null;for(const Ge of g)try{const ht=yield Ge._get(z);if(ht){const Qe=kt._fromJSON(d,ht);Ge!==O&&(he=Qe),O=Ge;break}}catch(ht){}const Me=T.filter(Ge=>Ge._shouldAllowMigration);return O._shouldAllowMigration&&Me.length?(O=Me[0],he&&(yield O._set(z,he.toJSON())),yield Promise.all(g.map(function(){var Ge=(0,h.Z)(function*(ht){if(ht!==O)try{yield ht._remove(z)}catch(Qe){}});return function(ht){return Ge.apply(this,arguments)}}())),new Ut(O,d,v)):new Ut(O,d,v)})()}}function Kn(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ti(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ao(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(lo(d))return"Blackberry";if(Er(d))return"Webos";if(xi(d))return"Safari";if((d.includes("chrome/")||Is(d))&&!d.includes("edge/"))return"Chrome";if(En(d))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function ao(_=(0,x.z$)()){return/firefox\//i.test(_)}function xi(_=(0,x.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Is(_=(0,x.z$)()){return/crios\//i.test(_)}function ti(_=(0,x.z$)()){return/iemobile/i.test(_)}function En(_=(0,x.z$)()){return/android/i.test(_)}function lo(_=(0,x.z$)()){return/blackberry/i.test(_)}function Er(_=(0,x.z$)()){return/webos/i.test(_)}function Fe(_=(0,x.z$)()){return/iphone|ipad|ipod/i.test(_)}function es(_=(0,x.z$)()){return Fe(_)||En(_)||Er(_)||lo(_)||/windows phone/i.test(_)||ti(_)}function ni(_,d=[]){let g;switch(_){case"Browser":g=Kn((0,x.z$)());break;case"Worker":g=`${Kn((0,x.z$)())}-${_}`;break;default:g=_}const v=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${v}`}class sn{constructor(d,g,v){this.app=d,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ts(this),this.idTokenSubscription=new Ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(d,g){var v=this;return g&&(this._popupRedirectResolver=xt(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,O;if(!v._deleted&&(v.persistenceManager=yield Ut.create(v,d),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(z){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(O=v.currentUser)||void 0===O?void 0:O.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,h.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g)}})()}initializeCurrentUser(d){var g=this;return(0,h.Z)(function*(){var v;let T=yield g.assertedPersistence.getCurrentUser();if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,z=null==T?void 0:T._redirectEventId,he=yield g.tryRedirectSignIn(d);(!O||O===z)&&(null==he?void 0:he.user)&&(T=he.user)}return T?T._redirectEventId?(ue(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var g=this;return(0,h.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch(T){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,h.Z)(function*(){try{yield ei(d)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Jn(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,h.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,h.Z)(function*(){const v=d?(0,x.m9)(d):null;return v&&ue(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(d){var g=this;return(0,h.Z)(function*(){if(!g._deleted)return d&&ue(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),g.queue((0,h.Z)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,h.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(xt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new x.LL("auth","Firebase",d())}onAuthStateChanged(d,g,v){return this.registerStateListener(this.authStateSubscription,d,g,v)}onIdTokenChanged(d,g,v){return this.registerStateListener(this.idTokenSubscription,d,g,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var v=this;return(0,h.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(g);return null===d?T.removeCurrentUser():T.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const v=d&&xt(d)||g._popupRedirectResolver;ue(v,g,"argument-error"),g.redirectPersistenceManager=yield Ut.create(g,[xt(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,h.Z)(function*(){var v,T;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===d?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,h.Z)(function*(){if(d===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,v,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(z,this,"internal-error"),z.then(()=>O(this.currentUser)),"function"==typeof g?d.addObserver(g,v,T):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==d&&(g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh()),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=ni(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,h.Z)(function*(){var g;const v={"X-Client-Version":d.clientVersion};d.app.options.appId&&(v["X-Firebase-gmpid"]=d.app.options.appId);const T=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function on(_){return(0,x.m9)(_)}class Ts{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,x.ne)(g=>this.observer=g)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function As(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Ba(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class Cn{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return ut("not implemented")}_getIdTokenResponse(d){return ut("not implemented")}_linkToIdToken(d,g){return ut("not implemented")}_getReauthenticationResolver(d){return ut("not implemented")}}function wn(_,d){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:resetPassword",Kt(_,d))})).apply(this,arguments)}function br(_,d){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Fl(_,d){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:update",Kt(_,d))})).apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signInWithPassword",Kt(_,d))})).apply(this,arguments)}function uo(_,d){return Os.apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:sendOobCode",Kt(_,d))})).apply(this,arguments)}function ra(_,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(_,d){return uo(_,d)})).apply(this,arguments)}function Ll(_,d){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,h.Z)(function*(_,d){return uo(_,d)})).apply(this,arguments)}function tm(_,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(_,d){return uo(_,d)})).apply(this,arguments)}function nm(_,d){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(_,d){return uo(_,d)})).apply(this,arguments)}function rc(){return(rc=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signInWithEmailLink",Kt(_,d))})).apply(this,arguments)}function ic(){return(ic=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signInWithEmailLink",Kt(_,d))})).apply(this,arguments)}class Ua extends Cn{constructor(d,g,v,T=null){super("password",v),this._email=d,this._password=g,this._tenantId=T}static _fromEmailAndPassword(d,g){return new Ua(d,g,"password")}static _fromEmailAndCode(d,g,v=null){return new Ua(d,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function cr(_,d){return Fr.apply(this,arguments)}(d,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function rm(_,d){return rc.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:oe(d,"internal-error")}})()}_linkToIdToken(d,g){var v=this;return(0,h.Z)(function*(){switch(v.signInMethod){case"password":return br(d,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Pf(_,d){return ic.apply(this,arguments)}(d,{idToken:g,email:v._email,oobCode:v._password});default:oe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ts(_,d){return sc.apply(this,arguments)}function sc(){return(sc=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signInWithIdp",Kt(_,d))})).apply(this,arguments)}class ki extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new ki(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):oe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T}=g,O=(0,Y._T)(g,["providerId","signInMethod"]);if(!v||!T)return null;const z=new ki(v,T);return z.idToken=O.idToken||void 0,z.accessToken=O.accessToken||void 0,z.secret=O.secret,z.nonce=O.nonce,z.pendingToken=O.pendingToken||null,z}_getIdTokenResponse(d){return ts(d,this.buildRequest())}_linkToIdToken(d,g){const v=this.buildRequest();return v.idToken=g,ts(d,v)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,ts(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,x.xO)(g)}return d}}function kf(_,d){return oc.apply(this,arguments)}function oc(){return(oc=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:sendVerificationCode",Kt(_,d))})).apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",Kt(_,d))})).apply(this,arguments)}function ac(){return(ac=(0,h.Z)(function*(_,d){const g=yield hn(_,"POST","/v1/accounts:signInWithPhoneNumber",Kt(_,d));if(g.temporaryProof)throw An(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Sd={USER_NOT_FOUND:"user-not-found"};function Fi(){return(Fi=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",Kt(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Sd)})).apply(this,arguments)}class Ns extends Cn{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new Ns({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new Ns({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function Vl(_,d){return _i.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Bl(_,d){return ac.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ff(_,d){return Fi.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:v,verificationCode:T}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:v,code:T}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:O}=d;return v||g||T||O?new Ns({verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:O}):null}}class sa{constructor(d){var g,v,T,O,z,he;const Me=(0,x.zd)((0,x.pd)(d)),Ge=null!==(g=Me.apiKey)&&void 0!==g?g:null,ht=null!==(v=Me.oobCode)&&void 0!==v?v:null,Qe=function Ha(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Me.mode)&&void 0!==T?T:null);ue(Ge&&ht&&Qe,"argument-error"),this.apiKey=Ge,this.operation=Qe,this.code=ht,this.continueUrl=null!==(O=Me.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(z=Me.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(he=Me.tenantId)&&void 0!==he?he:null}static parseLink(d){const g=function co(_){const d=(0,x.zd)((0,x.pd)(_)).link,g=d?(0,x.zd)((0,x.pd)(d)).deep_link_id:null,v=(0,x.zd)((0,x.pd)(_)).deep_link_id;return(v?(0,x.zd)((0,x.pd)(v)).link:null)||v||g||d||_}(d);try{return new sa(g)}catch(v){return null}}}let ja=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return Ua._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const T=sa.parseLink(v);return ue(T,"argument-error"),Ua._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ri{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Ps extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class ns extends Ps{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return ue("providerId"in g&&"signInMethod"in g,"argument-error"),ki._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ue(d.idToken||d.accessToken,"argument-error"),ki._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return ns.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return ns.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:O,nonce:z,providerId:he}=d;if(!v&&!T&&!g&&!O||!he)return null;try{return new ns(he)._credential({idToken:g,accessToken:v,nonce:z,pendingToken:O})}catch(Me){return null}}}let Ul=(()=>{class _ extends Ps{constructor(){super("facebook.com")}static credential(g){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),wr=(()=>{class _ extends Ps{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:T}=g;if(!v&&!T)return null;try{return _.credential(v,T)}catch(O){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),$a=(()=>{class _ extends Ps{constructor(){super("github.com")}static credential(g){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ho extends Cn{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return ts(d,this.buildRequest())}_linkToIdToken(d,g){const v=this.buildRequest();return v.idToken=g,ts(d,v)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,ts(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T,pendingToken:O}=g;return v&&T&&O&&v===T?new ho(v,O):null}static _create(d,g){return new ho(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vr extends ri{constructor(d){ue(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Vr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Vr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=ho.fromJSON(d);return ue(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:v}=d;if(!g||!v)return null;try{return ho._create(v,g)}catch(T){return null}}}let Ga=(()=>{class _ extends Ps{constructor(){super("twitter.com")}static credential(g,v){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=g;if(!v||!T)return null;try{return _.credential(v,T)}catch(O){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function oa(_,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signUp",Kt(_,d))})).apply(this,arguments)}class ii{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,v,T=!1){return(0,h.Z)(function*(){const O=yield kt._fromIdTokenResponse(d,v,T),z=an(v);return new ii({user:O,providerId:z,_tokenResponse:v,operationType:g})})()}static _forOperation(d,g,v){return(0,h.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const T=an(v);return new ii({user:d,providerId:T,_tokenResponse:v,operationType:g})})()}}function an(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function la(){return(la=(0,h.Z)(function*(_){var d;const g=on(_);if(yield g._initializationPromise,null===(d=g.currentUser)||void 0===d?void 0:d.isAnonymous)return new ii({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield oa(g,{returnSecureToken:!0}),T=yield ii._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Wt extends x.ZR{constructor(d,g,v,T){var O;super(g.code,g.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Wt.prototype),this.customData={appName:d.name,tenantId:null!==(O=d.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,g,v,T){return new Wt(d,g,v,T)}}function lc(_,d,g,v){return("reauthenticate"===d?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Wt._fromErrorAndOperation(_,O,d,v):O})}function yi(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function jn(){return(jn=(0,h.Z)(function*(_,d){const g=(0,x.m9)(_);yield Dr(!0,g,d);const{providerUserInfo:v}=yield Bt(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),T=yi(v||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function za(_,d){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(_,d,g=!1){const v=yield gt(_,d._linkToIdToken(_.auth,yield _.getIdToken()),g);return ii._forOperation(_,"link",v)})).apply(this,arguments)}function Dr(_,d,g){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(_,d,g){yield ei(d);const T=!1===_?"provider-already-linked":"no-such-provider";ue(yi(d.providerData).has(g)===_,d.auth,T)})).apply(this,arguments)}function po(_,d){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(_,d,g=!1){const{auth:v}=_,T="reauthenticate";try{const O=yield gt(_,lc(v,T,d,_),g);ue(O.idToken,v,"internal-error");const z=tt(O.idToken);ue(z,v,"internal-error");const{sub:he}=z;return ue(_.uid===he,v,"user-mismatch"),ii._forOperation(_,T,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&oe(v,"user-mismatch"),O}})).apply(this,arguments)}function ua(_,d){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(_,d,g=!1){const v="signIn",T=yield lc(_,v,d),O=yield ii._fromIdTokenResponse(_,v,T);return g||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Jt(_,d){return go.apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(_,d){return ua(on(_),d)})).apply(this,arguments)}function lt(_,d){return qa.apply(this,arguments)}function qa(){return(qa=(0,h.Z)(function*(_,d){const g=(0,x.m9)(_);return yield Dr(!1,g,d.providerId),za(g,d)})).apply(this,arguments)}function ca(_,d){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(_,d){return po((0,x.m9)(_),d)})).apply(this,arguments)}function Hl(_,d){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(_,d){return hn(_,"POST","/v1/accounts:signInWithCustomToken",Kt(_,d))})).apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(_,d){const g=on(_),v=yield Hl(g,{token:d,returnSecureToken:!0}),T=yield ii._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class be{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?At._fromServerResponse(d,g):oe(d,"internal-error")}}class At extends be{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new At(g)}}function Ka(_,d,g){var v;ue((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),ue(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ue(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(ue(g.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function Fs(){return(Fs=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_),T={requestType:"PASSWORD_RESET",email:d};g&&Ka(v,T,g),yield Ll(v,T)})).apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,d,g){yield wn((0,x.m9)(_),{oobCode:d,newPassword:g})})).apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(_,d){yield Fl((0,x.m9)(_),{oobCode:d})})).apply(this,arguments)}function $l(_,d){return Za.apply(this,arguments)}function Za(){return(Za=(0,h.Z)(function*(_,d){const g=(0,x.m9)(_),v=yield wn(g,{oobCode:d}),T=v.requestType;switch(ue(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(v.mfaInfo,g,"internal-error");default:ue(v.email,g,"internal-error")}let O=null;return v.mfaInfo&&(O=be._fromServerResponse(on(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(_,d){const{data:g}=yield $l((0,x.m9)(_),d);return g.email})).apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(_,d,g){const v=on(_),T=yield oa(v,{returnSecureToken:!0,email:d,password:g}),O=yield ii._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_),T={requestType:"EMAIL_SIGNIN",email:d};ue(g.handleCodeInApp,v,"argument-error"),g&&Ka(v,T,g),yield tm(v,T)})).apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_),T=ja.credentialWithLink(d,g||Vt());return ue(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Jt(v,T)})).apply(this,arguments)}function Rd(_,d){return bo.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:createAuthUri",Kt(_,d))})).apply(this,arguments)}function Gl(){return(Gl=(0,h.Z)(function*(_,d){const v={identifier:d,continueUri:_r()?Vt():"http://localhost"},{signinMethods:T}=yield Rd((0,x.m9)(_),v);return T||[]})).apply(this,arguments)}function hc(){return(hc=(0,h.Z)(function*(_,d){const g=(0,x.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&Ka(g.auth,T,d);const{email:O}=yield ra(g.auth,T);O!==_.email&&(yield _.reload())})).apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};g&&Ka(v.auth,O,g);const{email:z}=yield nm(v.auth,O);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ya(_,d){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,h.Z)(function*(_,d){return dn(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ql(){return(ql=(0,h.Z)(function*(_,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const v=(0,x.m9)(_),O={idToken:yield v.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},z=yield gt(v,Ya(v.auth,O));v.displayName=z.displayName||null,v.photoURL=z.photoUrl||null;const he=v.providerData.find(({providerId:Me})=>"password"===Me);he&&(he.displayName=v.displayName,he.photoURL=v.photoURL),yield v._updateTokensIfNecessary(z)})).apply(this,arguments)}function Kl(_,d,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(_,d,g){const{auth:v}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(O.email=d),g&&(O.password=g);const z=yield gt(_,br(v,O));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Gt{constructor(d,g,v={}){this.isNewUser=d,this.providerId=g,this.profile=v}}class Od extends Gt{constructor(d,g,v,T){super(d,g,v),this.username=T}}class Nd extends Gt{constructor(d,g){super(d,"facebook.com",g)}}class fc extends Od{constructor(d,g){super(d,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Pd extends Gt{constructor(d,g){super(d,"google.com",g)}}class pc extends Od{constructor(d,g,v){super(d,"twitter.com",g,v)}}function xd(_){const{user:d,_tokenResponse:g}=_;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function bi(_){var d,g;if(!_)return null;const{providerId:v}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const z=null===(g=null===(d=tt(_.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new Gt(O,"anonymous"!==z&&"custom"!==z?z:null)}if(!v)return null;switch(v){case"facebook.com":return new Nd(O,T);case"github.com":return new fc(O,T);case"google.com":return new Pd(O,T);case"twitter.com":return new pc(O,T,_.screenName||null);case"custom":case"anonymous":return new Gt(O,null);default:return new Gt(O,v,T)}}(g)}class Io{constructor(d,g){this.type=d,this.credential=g}static _fromIdtoken(d){return new Io("enroll",d)}static _fromMfaPendingCredential(d){return new Io("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,v;if(null==d?void 0:d.multiFactorSession){if(null===(g=d.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Io._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return Io._fromIdtoken(d.multiFactorSession.idToken)}return null}}class mc{constructor(d,g,v){this.session=d,this.hints=g,this.signInResolver=v}static _fromError(d,g){const v=on(d),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(he=>be._fromServerResponse(v,he));ue(T.mfaPendingCredential,v,"internal-error");const z=Io._fromMfaPendingCredential(T.mfaPendingCredential);return new mc(z,O,function(){var he=(0,h.Z)(function*(Me){const Ge=yield Me._process(v,z);delete T.mfaInfo,delete T.mfaPendingCredential;const ht=Object.assign(Object.assign({},T),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(g.operationType){case"signIn":const Qe=yield ii._fromIdTokenResponse(v,g.operationType,ht);return yield v._updateCurrentUser(Qe.user),Qe;case"reauthenticate":return ue(g.user,v,"internal-error"),ii._forOperation(g.user,g.operationType,ht);default:oe(v,"internal-error")}});return function(Me){return he.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,h.Z)(function*(){return g.signInResolver(d)})()}}function Sn(_,d){return dn(_,"POST","/v2/accounts/mfaEnrollment:start",Kt(_,d))}class Mn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>be._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new Mn(d)}getSession(){var d=this;return(0,h.Z)(function*(){return Io._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,g){var v=this;return(0,h.Z)(function*(){const T=d,O=yield v.getSession(),z=yield gt(v.user,T._process(v.user.auth,O,g));return yield v.user._updateTokensIfNecessary(z),v.user.reload()})()}unenroll(d){var g=this;return(0,h.Z)(function*(){const v="string"==typeof d?d:d.uid,T=yield g.user.getIdToken(),O=yield gt(g.user,function Vf(_,d){return dn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(_,d))}(g.user.auth,{idToken:T,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==v),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Ci=new WeakMap,_a="__sak";class Ao{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const fn=(()=>{class _ extends Ao{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xa(){const _=(0,x.z$)();return xi(_)||Fe(_)}()&&function bn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=es(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),O=this.localCache[v];T!==O&&g(v,O,T)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((he,Me,Ge)=>{this.notifyListeners(he,Ge)});const T=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(T);if(g.newValue!==he)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!v)return}const O=()=>{const he=this.storage.getItem(T);!v&&this.localCache[T]===he||this.notifyListeners(T,he)},z=this.storage.getItem(T);!function kr(){return(0,x.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var T=()=>super._set,O=this;return(0,h.Z)(function*(){yield T().call(O,g,v),O.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,T=this;return(0,h.Z)(function*(){const O=yield v().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var v=()=>super._remove,T=this;return(0,h.Z)(function*(){yield v().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),ot=(()=>{class _ extends Ao{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let Vd=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(O=>O.isListeningto(g));if(v)return v;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,h.Z)(function*(){const T=g,{eventId:O,eventType:z,data:he}=T.data,Me=v.handlersMap[z];if(!(null==Me?void 0:Me.size))return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:z});const Ge=Array.from(Me).map(function(){var Qe=(0,h.Z)(function*(Pn){return Pn(T.origin,he)});return function(Pn){return Qe.apply(this,arguments)}}()),ht=yield function el(_){return Promise.all(_.map(function(){var d=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return d.apply(this,arguments)}}()))}(Ge);T.ports[0].postMessage({status:"done",eventId:O,eventType:z,response:ht})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Bs(_="",d=10){let g="";for(let v=0;v<d;v++)g+=Math.floor(10*Math.random());return _+g}class Ql{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,v=50){var T=this;return(0,h.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let z,he;return new Promise((Me,Ge)=>{const ht=Bs("",20);O.port1.start();const Qe=setTimeout(()=>{Ge(new Error("unsupported_event"))},v);he={messageChannel:O,onMessage(Pn){const Mi=Pn;if(Mi.data.eventId===ht)switch(Mi.data.status){case"ack":clearTimeout(Qe),z=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Me(Mi.data.response);break;default:clearTimeout(Qe),clearTimeout(z),Ge(new Error("invalid_response"))}}},T.handlers.add(he),O.port1.addEventListener("message",he.onMessage),T.target.postMessage({eventType:d,eventId:ht,data:g},[O.port2])}).finally(()=>{he&&T.removeMessageHandler(he)})})()}}function pn(){return window}function tr(){return void 0!==pn().WorkerGlobalScope&&"function"==typeof pn().importScripts}function Us(){return(Us=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const vc="firebaseLocalStorageDb",Di="firebaseLocalStorage",Ii="fbase_key";class Li{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Rn(_,d){return _.transaction([Di],d?"readwrite":"readonly").objectStore(Di)}function Hs(){const _=indexedDB.open(vc,1);return new Promise((d,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Di,{keyPath:Ii})}catch(T){g(T)}}),_.addEventListener("success",(0,h.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Di)?d(v):(v.close(),yield function Zn(){const _=indexedDB.deleteDatabase(vc);return new Li(_).toPromise()}(),d(yield Hs()))}))})}function So(_,d,g){return js.apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(_,d,g){const v=Rn(_,!0).put({[Ii]:d,value:g});return new Li(v).toPromise()})).apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(_,d){const g=Rn(_,!1).get(d),v=yield new Li(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Br(_,d){const g=Rn(_,!0).delete(d);return new Li(g).toPromise()}const Ur=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield Hs()),g.db})()}_withRetries(g){var v=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const O=yield v._openDb();return yield g(O)}catch(O){if(T++>3)throw O;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return tr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=Vd._getInstance(function tl(){return tr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,h.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,h.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var v,T;if(g.activeServiceWorker=yield function Tr(){return Us.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ql(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(v=O[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=O[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,h.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ya(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Hs();return yield So(g,_a,"1"),yield Br(g,_a),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,h.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(O=>So(O,g,v)),T.localCache[g]=v,T.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,h.Z)(function*(){const T=yield v._withRetries(O=>function nl(_,d){return Mo.apply(this,arguments)}(O,g));return v.localCache[g]=T,T})()}_remove(g){var v=this;return(0,h.Z)(function*(){return v._withPendingWrite((0,h.Z)(function*(){return yield v._withRetries(T=>Br(T,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const v=yield g._withRetries(z=>{const he=Rn(z,!1).getAll();return new Li(he).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:z,value:he}of v)O.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(he)&&(g.notifyListeners(z,he),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!O.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Vi(_,d){return dn(_,"POST","/v2/accounts/mfaSignIn:start",Kt(_,d))}function is(){return(is=(0,h.Z)(function*(_){return(yield dn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tu(_){return new Promise((d,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=d,v.onerror=T=>{const O=re("internal-error");O.customData=T,g(O)},v.type="text/javascript",v.charset="UTF-8",function $s(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(v)})}function nu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ro=1e12;class Bd{constructor(d){this.auth=d,this.counter=Ro,this._widgets=new Map}render(d,g){const v=this.counter;return this._widgets.set(v,new Ud(d,this.auth.name,g||{})),this.counter++,v}reset(d){var g;const v=d||Ro;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(d){var g;return(null===(g=this._widgets.get(d||Ro))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,h.Z)(function*(){var v;return null===(v=g._widgets.get(d||Ro))||void 0===v||v.execute(),""})()}}class Ud{constructor(d,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof d?document.getElementById(d):d;ue(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hd(_){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ea=nu("rcb"),jd=new Bn(3e4,6e4);class Bf{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pn().grecaptcha}load(d,g=""){return ue(function On(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),d,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(pn().grecaptcha):new Promise((v,T)=>{const O=pn().setTimeout(()=>{T(re(d,"network-request-failed"))},jd.get());pn()[Ea]=()=>{pn().clearTimeout(O),delete pn()[Ea];const he=pn().grecaptcha;if(!he)return void T(re(d,"internal-error"));const Me=he.render;he.render=(Ge,ht)=>{const Qe=Me(Ge,ht);return this.counter++,Qe},this.hostLanguage=g,v(he)},tu(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:Ea,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(re(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!pn().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rl{load(d){return(0,h.Z)(function*(){return new Bd(d)})()}clearedOneInstance(){}}const dr="recaptcha",nr={theme:"light",type:"image"};class bc{constructor(d,g=Object.assign({},nr),v){this.parameters=g,this.type=dr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=on(v),this.isInvisible="invisible"===this.parameters.size,ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof d?document.getElementById(d):d;ue(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rl:new Bf,this.validateStartingState()}verify(){var d=this;return(0,h.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(g)||new Promise(O=>{const z=he=>{!he||(d.tokenChangeListeners.delete(z),O(he))};d.tokenChangeListeners.add(z),d.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof d)d(g);else if("string"==typeof d){const v=pn()[d];"function"==typeof v&&v(g)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,h.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,h.Z)(function*(){ue(_r()&&!tr(),d.auth,"internal-error"),yield function li(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function eu(_){return is.apply(this,arguments)}(d.auth);ue(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ui{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=Ns._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function Ws(){return(Ws=(0,h.Z)(function*(_,d,g){const v=on(_),T=yield su(v,d,(0,x.m9)(g));return new ui(T,O=>Jt(v,O))})).apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_);yield Dr(!1,v,"phone");const T=yield su(v.auth,d,(0,x.m9)(g));return new ui(T,O=>lt(v,O))})).apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_),T=yield su(v.auth,d,(0,x.m9)(g));return new ui(T,O=>ca(v,O))})).apply(this,arguments)}function su(_,d,g){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,h.Z)(function*(_,d,g){var v;const T=yield g.verify();try{let O;if(ue("string"==typeof T,_,"argument-error"),ue(g.type===dr,_,"argument-error"),O="string"==typeof d?{phoneNumber:d}:d,"session"in O){const z=O.session;if("phoneNumber"in O)return ue("enroll"===z.type,_,"internal-error"),(yield Sn(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ue("signin"===z.type,_,"internal-error");const he=(null===(v=O.multiFactorHint)||void 0===v?void 0:v.uid)||O.multiFactorUid;return ue(he,_,"missing-multi-factor-info"),(yield Vi(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield kf(_,{phoneNumber:O.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}})).apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(_,d){yield za((0,x.m9)(_),d)})).apply(this,arguments)}let ss=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=on(g)}verifyPhoneNumber(g,v){return su(this.auth,g,(0,x.m9)(v))}static credential(g,v){return Ns._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:T}=g;return v&&T?Ns._fromTokenResponse(v,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ar(_,d){return d?xt(d):(ue(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ou extends Cn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ts(d,this._buildIdpRequest())}_linkToIdToken(d,g){return ts(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return ts(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function il(_){return ua(_.auth,new ou(_),_.bypassAuthState)}function sl(_){const{auth:d,user:g}=_;return ue(g,d,"internal-error"),po(g,new ou(_),_.bypassAuthState)}function au(_){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,h.Z)(function*(_){const{auth:d,user:g}=_;return ue(g,d,"internal-error"),za(g,new ou(_),_.bypassAuthState)})).apply(this,arguments)}class zd{constructor(d,g,v,T,O=!1){this.auth=d,this.resolver=v,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,h.Z)(function*(v,T){d.pendingPromise={resolve:v,reject:T};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(O){d.reject(O)}});return function(v,T){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,h.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:O,tenantId:z,error:he,type:Me}=d;if(he)return void g.reject(he);const Ge={auth:g.auth,requestUri:v,sessionId:T,tenantId:z||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Me)(Ge))}catch(ht){g.reject(ht)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return il;case"linkViaPopup":case"linkViaRedirect":return au;case"reauthViaPopup":case"reauthViaRedirect":return sl;default:oe(this.auth,"internal-error")}}resolve(d){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lu=new Bn(2e3,1e4);function os(){return(os=(0,h.Z)(function*(_,d,g){const v=on(_);le(_,d,ri);const T=Ar(v,g);return new jr(v,"signInViaPopup",d,T).executeNotNull()})).apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_);le(v.auth,d,ri);const T=Ar(v.auth,g);return new jr(v.auth,"reauthViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}function as(){return(as=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_);le(v.auth,d,ri);const T=Ar(v.auth,g);return new jr(v.auth,"linkViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}let jr=(()=>{class _ extends zd{constructor(g,v,T,O,z){super(g,v,O,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const v=yield g.execute();return ue(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,h.Z)(function*(){pt(1===g.filter.length,"Popup operations only handle one event");const v=Bs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,lu.get())};g()}}return _.currentPopupAction=null,_})();const ci=new Map;class Uf extends zd{constructor(d,g,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,h.Z)(function*(){let v=ci.get(g.auth._key());if(!v){try{const O=(yield function wc(_,d){return ol.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;v=()=>Promise.resolve(O)}catch(T){v=()=>Promise.reject(T)}ci.set(g.auth._key(),v)}return g.bypassAuthState||ci.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,v=this;return(0,h.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(v,d);if("unknown"!==d.type){if(d.eventId){const T=yield v.auth._redirectUserForId(d.eventId);if(T)return v.user=T,g().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ol(){return(ol=(0,h.Z)(function*(_,d){const g=D(d),v=w(_);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(g));return yield v._remove(g),T})).apply(this,arguments)}function Po(_,d){return al.apply(this,arguments)}function al(){return(al=(0,h.Z)(function*(_,d){return w(_)._set(D(d),"true")})).apply(this,arguments)}function w(_){return xt(_._redirectPersistence)}function D(_){return mt("pendingRedirect",_.config.apiKey,_.name)}function K(){return(K=(0,h.Z)(function*(_,d,g){const v=on(_);le(_,d,ri);const T=Ar(v,g);return yield Po(T,v),T._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function Ue(){return(Ue=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_);le(v.auth,d,ri);const T=Ar(v.auth,g);yield Po(T,v.auth);const O=yield Hi(v);return T._openRedirect(v.auth,d,"reauthViaRedirect",O)})).apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(_,d,g){const v=(0,x.m9)(_);le(v.auth,d,ri);const T=Ar(v.auth,g);yield Dr(!1,v,d.providerId),yield Po(T,v.auth);const O=yield Hi(v);return T._openRedirect(v.auth,d,"linkViaRedirect",O)})).apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(_,d){return yield on(_)._initializationPromise,ln(_,d,!1)})).apply(this,arguments)}function ln(_,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(_,d,g=!1){const v=on(_),T=Ar(v,d),z=yield new Uf(v,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield v._persistUserIfCurrent(z.user),yield v._setRedirectUser(null,d)),z})).apply(this,arguments)}function Hi(_){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(_){const d=Bs(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class ls{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(g=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Hf(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ll(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var v;if(d.error&&!ll(d)){const T=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(re(this.auth,T))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const v=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ai(d))}saveEventToCache(d){this.cachedEventUids.add(Ai(d)),this.lastProcessedEventTime=Date.now()}}function Ai(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function ll({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function jf(_){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(_,d={}){return dn(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Zd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sm=/^https?/;function Qd(){return(Qd=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield jf(_);for(const g of d)try{if(om(g))return}catch(v){}oe(_,"unauthorized-domain")})).apply(this,arguments)}function om(_){const d=Vt(),{protocol:g,hostname:v}=new URL(d);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===v}if(!sm.test(g))return!1;if(Zd.test(_))return v===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const xo=new Bn(3e4,6e4);function Ca(){const _=pn().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Jd=null;function Xy(_){return Jd=Jd||function wa(_){return new Promise((d,g)=>{var v,T,O;function z(){Ca(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ca(),g(re(_,"network-request-failed"))},timeout:xo.get()})}if(null===(T=null===(v=pn().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)d(gapi.iframes.getContext());else{if(!(null===(O=pn().gapi)||void 0===O?void 0:O.load)){const he=nu("iframefcb");return pn()[he]=()=>{gapi.load?z():g(re(_,"network-request-failed"))},tu(`https://apis.google.com/js/api.js?onload=${he}`).catch(Me=>g(Me))}z()}}).catch(d=>{throw Jd=null,d})}(_),Jd}const WC=new Bn(5e3,15e3),th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$f=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nh(_){const d=_.config;ue(d.authDomain,_,"auth-domain-config-required");const g=d.emulator?yr(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:_.name,v:se.SDK_VERSION},T=$f.get(_.config.apiHost);T&&(v.eid=T);const O=_._getFrameworks();return O.length&&(v.fw=O.join(",")),`${g}?${(0,x.xO)(v).slice(1)}`}function Dc(){return Dc=(0,h.Z)(function*(_){const d=yield Xy(_),g=pn().gapi;return ue(g,_,"internal-error"),d.open({where:document.body,url:nh(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:th,dontclear:!0},v=>new Promise(function(){var T=(0,h.Z)(function*(O,z){yield v.restyle({setHideOnLeave:!1});const he=re(_,"network-request-failed"),Me=pn().setTimeout(()=>{z(he)},WC.get());function Ge(){pn().clearTimeout(Me),O(v)}v.ping(Ge).then(Ge,()=>{z(he)})});return function(O,z){return T.apply(this,arguments)}}()))}),Dc.apply(this,arguments)}const am={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Da{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function sh(_,d,g,v,T,O){ue(_.config.authDomain,_,"auth-domain-config-required"),ue(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:se.SDK_VERSION,eventId:T};if(d instanceof ri){d.setDefaultLanguage(_.languageCode),z.providerId=d.providerId||"",(0,x.xb)(d.getCustomParameters())||(z.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Me,Ge]of Object.entries(O||{}))z[Me]=Ge}if(d instanceof Ps){const Me=d.getScopes().filter(Ge=>""!==Ge);Me.length>0&&(z.scopes=Me.join(","))}_.tenantId&&(z.tid=_.tenantId);const he=z;for(const Me of Object.keys(he))void 0===he[Me]&&delete he[Me];return`${function zf({config:_}){return _.emulator?yr(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,x.xO)(he).slice(1)}`}const Ic="webStorageSupport";class lh extends class ah{constructor(d){this.factorId=d}_process(d,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,v);case"signin":return this._finalizeSignIn(d,g.credential);default:return ut("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new lh(d)}_finalizeEnroll(d,g,v){return function Zl(_,d){return dn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(_,d))}(d,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function Bi(_,d){return dn(_,"POST","/v2/accounts/mfaSignIn:finalize",Kt(_,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kf=(()=>{class _{constructor(){}static assertion(g){return lh._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var uh="@firebase/auth",ul="0.19.12";class ch{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(v=>{var T;d((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);!g||(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ds(){return window}function dh(){return(dh=(0,h.Z)(function*(_,d,g){var v;const{BuildInfo:T}=ds();pt(d.sessionId,"AuthEvent did not contain a session ID");const O=yield ph(d.sessionId),z={};return Fe()?z.ibi=T.packageName:En()?z.apn=T.packageName:oe(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=O,sh(_,g,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,z)})).apply(this,arguments)}function Tc(){return(Tc=(0,h.Z)(function*(_){const{BuildInfo:d}=ds(),g={};Fe()?g.iosBundleId=d.packageName:En()?g.androidPackageName=d.packageName:oe(_,"operation-not-supported-in-this-environment"),yield jf(_,g)})).apply(this,arguments)}function fh(){return(fh=(0,h.Z)(function*(_,d,g){const{cordova:v}=ds();let T=()=>{};try{yield new Promise((O,z)=>{let he=null;function Me(){var Qe;O();const Pn=null===(Qe=v.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof Pn&&Pn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ge(){he||(he=window.setTimeout(()=>{z(re(_,"redirect-cancelled-by-user"))},2e3))}function ht(){"visible"===(null==document?void 0:document.visibilityState)&&Ge()}d.addPassiveListener(Me),document.addEventListener("resume",Ge,!1),En()&&document.addEventListener("visibilitychange",ht,!1),T=()=>{d.removePassiveListener(Me),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",ht,!1),he&&window.clearTimeout(he)}})}finally{T()}})).apply(this,arguments)}function ph(_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_){const d=dm(_),g=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dm(_){if(pt(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),g=new Uint8Array(d);for(let v=0;v<_.length;v++)g[v]=_.charCodeAt(v);return g}!function cl(_){(0,se._registerComponent)(new Re.wA("auth",(d,{options:g})=>{const v=d.getProvider("app").getImmediate(),T=d.getProvider("heartbeat"),{apiKey:O,authDomain:z}=v.options;return((he,Me)=>{ue(O&&!O.includes(":"),"invalid-api-key",{appName:he.name}),ue(!(null==z?void 0:z.includes(":")),"argument-error",{appName:he.name});const Ge={apiKey:O,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ni(_)},ht=new sn(he,Me,Ge);return function vn(_,d){const g=(null==d?void 0:d.persistence)||[],v=(Array.isArray(g)?g:[g]).map(xt);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(ht,g),ht})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,v)=>{d.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new Re.wA("auth-internal",d=>{const g=on(d.getProvider("auth").getImmediate());return new ch(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(uh,ul,function cs(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(uh,ul,"esm2017")}("Browser");class hm extends ls{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(d)),super.onEvent(d)}initialized(){var d=this;return(0,h.Z)(function*(){yield d.initPromise})()}}function mh(_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,h.Z)(function*(_){const d=yield Sc()._get(_h(_));return d&&(yield Sc()._remove(_h(_))),d})).apply(this,arguments)}function Nn(){const _=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*d.length);_.push(d.charAt(v))}return _.join("")}function Sc(){return xt(fn)}function _h(_){return mt("authEvent",_.config.apiKey,_.name)}function hu(_){if(!(null==_?void 0:_.includes("?")))return{};const[d,...g]=_.split("?");return(0,x.zd)(g.join("?"))}function pm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:re("no-auth-event")}}function pu(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ep(_=(0,x.z$)()){return!("file:"!==pu()&&"ionic:"!==pu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function tp(){try{const _=self.localStorage,d=Bs();if(_)return _.setItem(d,"1"),_.removeItem(d),!function dl(_=(0,x.z$)()){return function $r(){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Gr(_=(0,x.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,x.hl)()}catch(_){return Rc()&&(0,x.hl)()}return!1}function Rc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function yh(){return(function mm(){return"http:"===pu()||"https:"===pu()}()||(0,x.ru)()||ep())&&!function je(){return(0,x.b$)()||(0,x.UG)()}()&&tp()&&!Rc()}function Oc(){return ep()&&"undefined"!=typeof document}function ko(){return(ko=(0,h.Z)(function*(){return!!Oc()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const fr={LOCAL:"local",NONE:"none",SESSION:"session"},hs=ue,np="persistence";function hl(_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,h.Z)(function*(_){yield _._initializationPromise;const d=Wn(),g=mt(np,_.config.apiKey,_.name);d&&d.setItem(g,_._getPersistence())})).apply(this,arguments)}function Wn(){var _;try{return(null===(_=function _m(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(d){return null}}const rp=ue;class Lo{constructor(){this.browserResolver=xt(class oh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ot,this._completeRedirectFn=ln}_openPopup(d,g,v,T){var O=this;return(0,h.Z)(function*(){var z;pt(null===(z=O.eventManagers[d._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const he=sh(d,g,v,Vt(),T);return function rh(_,d,g,v=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-v)/2,0).toString();let he="";const Me=Object.assign(Object.assign({},am),{width:v.toString(),height:T.toString(),top:O,left:z}),Ge=(0,x.z$)().toLowerCase();g&&(he=Is(Ge)?"_blank":g),ao(Ge)&&(d=d||"http://localhost",Me.scrollbars="yes");const ht=Object.entries(Me).reduce((Pn,[Mi,mu])=>`${Pn}${Mi}=${mu},`,"");if(function Qt(_=(0,x.z$)()){var d;return Fe(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Ge)&&"_self"!==he)return function um(_,d){const g=document.createElement("a");g.href=_,g.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(d||"",he),new Da(null);const Qe=window.open(d||"",he,ht);ue(Qe,_,"popup-blocked");try{Qe.focus()}catch(Pn){}return new Da(Qe)}(d,he,Bs())})()}_openRedirect(d,g,v,T){var O=this;return(0,h.Z)(function*(){return yield O._originValidation(d),function yc(_){pn().location.href=_}(sh(d,g,v,Vt(),T)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(pt(O,"If manager is not set, promise should be"),O)}const v=this.initAndGetManager(d);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(d){var g=this;return(0,h.Z)(function*(){const v=yield function Ks(_){return Dc.apply(this,arguments)}(d),T=new ls(d);return v.register("authEvent",O=>(ue(null==O?void 0:O.authEvent,d,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:T},g.iframes[d._key()]=v,T})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Ic,{type:Ic},T=>{var O;const z=null===(O=null==T?void 0:T[0])||void 0===O?void 0:O[Ic];void 0!==z&&g(!!z),oe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Yd(_){return Qd.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return es()||xi()||Fe()}}),this.cordovaResolver=xt(class Xf{constructor(){this._redirectPersistence=ot,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ln}_initialize(d){var g=this;return(0,h.Z)(function*(){const v=d._key();let T=g.eventManagers.get(v);return T||(T=new hm(d),g.eventManagers.set(v,T),g.attachCallbackListeners(d,T)),T})()}_openPopup(d){oe(d,"operation-not-supported-in-this-environment")}_openRedirect(d,g,v,T){var O=this;return(0,h.Z)(function*(){!function rv(_){var d,g,v,T,O,z,he,Me,Ge,ht;const Qe=ds();ue("function"==typeof(null===(d=null==Qe?void 0:Qe.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ue(void 0!==(null===(g=null==Qe?void 0:Qe.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ue("function"==typeof(null===(O=null===(T=null===(v=null==Qe?void 0:Qe.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(Me=null===(he=null===(z=null==Qe?void 0:Qe.cordova)||void 0===z?void 0:z.plugins)||void 0===he?void 0:he.browsertab)||void 0===Me?void 0:Me.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(ht=null===(Ge=null==Qe?void 0:Qe.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===ht?void 0:ht.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const z=yield O._initialize(d);yield z.initialized(),z.resetRedirect(),function Kd(){ci.clear()}(),yield O._originValidation(d);const he=function gh(_,d,g=null){return{type:d,eventId:g,urlResponse:null,sessionId:Nn(),postBody:null,tenantId:_.tenantId,error:re(_,"no-auth-event")}}(d,v,T);yield function Ac(_,d){return Sc()._set(_h(_),d)}(d,he);const Me=yield function tv(_,d,g){return dh.apply(this,arguments)}(d,he,g),Ge=yield function du(_){const{cordova:d}=ds();return new Promise(g=>{d.plugins.browsertab.isAvailable(v=>{let T=null;v?d.plugins.browsertab.openUrl(_):T=d.InAppBrowser.open(_,function Et(_=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(T)})})}(Me);return function hh(_,d,g){return fh.apply(this,arguments)}(d,z,Ge)})()}_isIframeWebStorageSupported(d,g){throw new Error("Method not implemented.")}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function nv(_){return Tc.apply(this,arguments)}(d)),this.originValidationPromises[g]}attachCallbackListeners(d,g){const{universalLinks:v,handleOpenURL:T,BuildInfo:O}=ds(),z=setTimeout((0,h.Z)(function*(){yield mh(d),g.onEvent(pm())}),500),he=function(){var ht=(0,h.Z)(function*(Qe){clearTimeout(z);const Pn=yield mh(d);let Mi=null;Pn&&(null==Qe?void 0:Qe.url)&&(Mi=function Qf(_,d){var g,v;const T=function Jf(_){const d=hu(_),g=d.link?decodeURIComponent(d.link):void 0,v=hu(g).link,T=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return hu(T).link||T||v||g||_}(d);if(T.includes("/__/auth/callback")){const O=hu(T),z=O.firebaseError?function Mc(_){try{return JSON.parse(_)}catch(d){return null}}(decodeURIComponent(O.firebaseError)):null,he=null===(v=null===(g=null==z?void 0:z.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Me=he?re(he):null;return Me?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Pn,Qe.url)),g.onEvent(Mi||pm())});return function(Pn){return ht.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,he);const Me=T,Ge=`${O.packageName.toLowerCase()}://`;ds().handleOpenURL=function(){var ht=(0,h.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(Ge)&&he({url:Qe}),"function"==typeof Me)try{Me(Qe)}catch(Pn){console.error(Pn)}});return function(Qe){return ht.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ot,this._completeRedirectFn=ln}_initialize(d){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,g,v,T){var O=this;return(0,h.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(d,g,v,T)})()}_openRedirect(d,g,v,T){var O=this;return(0,h.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(d,g,v,T)})()}_isIframeWebStorageSupported(d,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,g)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Oc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,h.Z)(function*(){if(d.underlyingResolver)return;const g=yield function vh(){return ko.apply(this,arguments)}();d.underlyingResolver=g?d.cordovaResolver:d.browserResolver})()}}function rr(_){return _.unwrap()}function ym(_){return gu(_)}function gu(_){const{_tokenResponse:d}=_ instanceof x.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof x.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ss.credentialFromResult(_);const g=d.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=wr;break;case"facebook.com":v=Ul;break;case"github.com":v=$a;break;case"twitter.com":v=Ga;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:z,pendingToken:he,nonce:Me}=d;return O||z||T||he?he?g.startsWith("saml.")?ho._create(g,he):ki._fromParams({providerId:g,signInMethod:g,pendingToken:he,idToken:T,accessToken:O}):new ns(g).credential({idToken:T,accessToken:O,rawNonce:Me}):null}return _ instanceof x.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function Dn(_,d){return d.catch(g=>{throw g instanceof x.ZR&&function ip(_,d){var g;const v=null===(g=d.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new fl(_,function rs(_,d){var g;const v=(0,x.m9)(_),T=d;return ue(d.customData.operationType,v,"argument-error"),ue(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),mc._fromError(v,T)}(_,d));else if(v){const T=gu(d),O=d;T&&(O.credential=T,O.tenantId=v.tenantId||void 0,O.email=v.email||void 0,O.phoneNumber=v.phoneNumber||void 0)}}(_,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:ym(g),additionalUserInfo:xd(g),user:Gi.getOrCreate(T)}})}function $i(_,d){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(_,d){const g=yield d;return{verificationId:g.verificationId,confirm:v=>Dn(_,g.confirm(v))}})).apply(this,arguments)}class fl{constructor(d,g){this.resolver=g,this.auth=function Nc(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Dn(rr(this.auth),this.resolver.resolveSignIn(d))}}class Gi{constructor(d){this._delegate=d,this.multiFactor=function To(_){const d=(0,x.m9)(_);return Ci.has(d)||Ci.set(d,Mn._fromUser(d)),Ci.get(d)}(d)}static getOrCreate(d){return Gi.USER_MAP.has(d)||Gi.USER_MAP.set(d,new Gi(d)),Gi.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var g=this;return(0,h.Z)(function*(){return Dn(g.auth,lt(g._delegate,d))})()}linkWithPhoneNumber(d,g){var v=this;return(0,h.Z)(function*(){return $i(v.auth,function zs(_,d,g){return Oo.apply(this,arguments)}(v._delegate,d,g))})()}linkWithPopup(d){var g=this;return(0,h.Z)(function*(){return Dn(g.auth,function qs(_,d,g){return as.apply(this,arguments)}(g._delegate,d,Lo))})()}linkWithRedirect(d){var g=this;return(0,h.Z)(function*(){return yield hl(on(g.auth)),function We(_,d,g){return function at(_,d,g){return Ct.apply(this,arguments)}(_,d,g)}(g._delegate,d,Lo)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var g=this;return(0,h.Z)(function*(){return Dn(g.auth,ca(g._delegate,d))})()}reauthenticateWithPhoneNumber(d,g){return $i(this.auth,function $d(_,d,g){return ba.apply(this,arguments)}(this._delegate,d,g))}reauthenticateWithPopup(d){return Dn(this.auth,function Hr(_,d,g){return uu.apply(this,arguments)}(this._delegate,d,Lo))}reauthenticateWithRedirect(d){var g=this;return(0,h.Z)(function*(){return yield hl(on(g.auth)),function ae(_,d,g){return function Ae(_,d,g){return Ue.apply(this,arguments)}(_,d,g)}(g._delegate,d,Lo)})()}sendEmailVerification(d){return function ga(_,d){return hc.apply(this,arguments)}(this._delegate,d)}unlink(d){var g=this;return(0,h.Z)(function*(){return yield function fo(_,d){return jn.apply(this,arguments)}(g._delegate,d),g})()}updateEmail(d){return function ma(_,d){return Kl((0,x.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function Ei(_,d){return Kl((0,x.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Wd(_,d){return Yn.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function zl(_,d){return ql.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,g){return function Wl(_,d,g){return Vs.apply(this,arguments)}(this._delegate,d,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gi.USER_MAP=new WeakMap;const pl=ue;let sp=(()=>{class _{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;pl(T,"invalid-api-key",{appName:g.name}),pl(T,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Lo:void 0;this._delegate=v.initialize({options:{persistence:fs(T,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function bt(_,d,g){const v=on(_);ue(v._canInitEmulator,v,"emulator-config-failed"),ue(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),O=As(d),{host:z,port:he}=function Ss(_){const d=As(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const O=T[1];return{host:O,port:Ba(v.substr(O.length+1))}}{const[O,z]=v.split(":");return{host:O,port:Ba(z)}}}(d);v.config.emulator={url:`${O}//${z}${null===he?"":`:${he}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:z,port:he,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ms(){function _(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,v)}applyActionCode(g){return function fa(_,d){return _o.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $l(this._delegate,g)}confirmPasswordReset(g,v){return function Ls(_,d,g){return Ir.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var T=this;return(0,h.Z)(function*(){return Dn(T._delegate,function Gn(_,d,g){return oi.apply(this,arguments)}(T._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Co(_,d){return Gl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function cc(_,d){const g=sa.parseLink(d);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){pl(yh(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function ct(_,d){return hr.apply(this,arguments)}(g._delegate,Lo);return v?Dn(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function zC(_,d){on(_)._logFramework(d)}(this._delegate,g)}onAuthStateChanged(g,v,T){const{next:O,error:z,complete:he}=Vo(g,v,T);return this._delegate.onAuthStateChanged(O,z,he)}onIdTokenChanged(g,v,T){const{next:O,error:z,complete:he}=Vo(g,v,T);return this._delegate.onIdTokenChanged(O,z,he)}sendSignInLinkToEmail(g,v){return function Eo(_,d,g){return ai.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function tn(_,d,g){return Fs.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,h.Z)(function*(){let T;switch(function Eh(_,d){hs(Object.values(fr).includes(d),_,"invalid-persistence-type"),(0,x.b$)()?hs(d!==fr.SESSION,_,"unsupported-persistence-type"):(0,x.UG)()?hs(d===fr.NONE,_,"unsupported-persistence-type"):Rc()?hs(d===fr.NONE||d===fr.LOCAL&&(0,x.hl)(),_,"unsupported-persistence-type"):hs(d===fr.NONE||tp(),_,"unsupported-persistence-type")}(v._delegate,g),g){case fr.SESSION:T=ot;break;case fr.LOCAL:T=(yield xt(Ur)._isAvailable())?Ur:fn;break;case fr.NONE:T=Ft;break;default:return oe("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Dn(this._delegate,function Wa(_){return la.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Dn(this._delegate,Jt(this._delegate,g))}signInWithCustomToken(g){return Dn(this._delegate,function jl(_,d){return ha.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Dn(this._delegate,function uc(_,d,g){return Jt((0,x.m9)(_),ja.credential(d,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Dn(this._delegate,function dc(_,d,g){return pa.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return $i(this._delegate,function iu(_,d,g){return Ws.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,h.Z)(function*(){return pl(yh(),v._delegate,"operation-not-supported-in-this-environment"),Dn(v._delegate,function No(_,d,g){return os.apply(this,arguments)}(v._delegate,g,Lo))})()}signInWithRedirect(g){var v=this;return(0,h.Z)(function*(){return pl(yh(),v._delegate,"operation-not-supported-in-this-environment"),yield hl(v._delegate),function R(_,d,g){return function U(_,d,g){return K.apply(this,arguments)}(_,d,g)}(v._delegate,g,Lo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function yo(_,d){return vo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=fr,_})();function Vo(_,d,g){let v=_;"function"!=typeof _&&({next:v,error:d,complete:g}=_);const T=v;return{next:z=>T(z&&Gi.getOrCreate(z)),error:d,complete:g}}function fs(_,d){const g=function bh(_,d){const g=Wn();if(!g)return[];const v=mt(np,_,d);switch(g.getItem(v)){case fr.NONE:return[Ft];case fr.LOCAL:return[Ur,ot];case fr.SESSION:return[ot];default:return[]}}(_,d);if("undefined"!=typeof self&&!g.includes(Ur)&&g.push(Ur),"undefined"!=typeof window)for(const v of[fn,ot])g.includes(v)||g.push(v);return g.includes(Ft)||g.push(Ft),g}class Bo{constructor(){this.providerId="phone",this._delegate=new ss(rr(de.Z.auth()))}static credential(d,g){return ss.credential(d,g)}verifyPhoneNumber(d,g){return this._delegate.verifyPhoneNumber(d,g)}unwrap(){return this._delegate}}Bo.PHONE_SIGN_IN_METHOD=ss.PHONE_SIGN_IN_METHOD,Bo.PROVIDER_ID=ss.PROVIDER_ID;const Mr=ue;class Ch{constructor(d,g,v=de.Z.app()){var T;Mr(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new bc(d,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Si(_){_.INTERNAL.registerComponent(new Re.wA("auth-compat",d=>{const g=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new sp(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ja,FacebookAuthProvider:Ul,GithubAuthProvider:$a,GoogleAuthProvider:wr,OAuthProvider:ns,SAMLAuthProvider:Vr,PhoneAuthProvider:Bo,PhoneMultiFactorGenerator:Kf,RecaptchaVerifier:Ch,TwitterAuthProvider:Ga,Auth:sp,AuthCredential:Cn,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(de.Z)},2090:(rt,De,F)=>{F.d(De,{$s:()=>Xi,BH:()=>Se,DV:()=>kn,Dv:()=>Yr,GJ:()=>_r,L:()=>ge,LL:()=>we,Lj:()=>ei,Pz:()=>Be,Sg:()=>Re,UG:()=>ke,UI:()=>Bn,US:()=>Q,Wj:()=>vr,X3:()=>ur,Yr:()=>_e,ZB:()=>ie,ZR:()=>le,b$:()=>Oe,cI:()=>pt,dS:()=>Bt,eu:()=>ne,g5:()=>se,gK:()=>Un,gQ:()=>dn,h$:()=>X,hl:()=>qe,hu:()=>x,jU:()=>Je,lb:()=>Qr,m9:()=>tt,ne:()=>et,p$:()=>ee,pd:()=>Kt,r3:()=>Tn,ru:()=>ze,tV:()=>q,uI:()=>Ee,ug:()=>Xe,vZ:()=>yr,w1:()=>ve,w9:()=>Vt,xO:()=>Zr,xb:()=>Jn,z$:()=>He,zI:()=>oe,zd:()=>Ji});var h=F(5861);const x=function(W,H){if(!W)throw se(H)},se=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},Y=function(W){const H=[];let L=0;for(let B=0;B<W.length;B++){let $=W.charCodeAt(B);$<128?H[L++]=$:$<2048?(H[L++]=$>>6|192,H[L++]=63&$|128):55296==(64512&$)&&B+1<W.length&&56320==(64512&W.charCodeAt(B+1))?($=65536+((1023&$)<<10)+(1023&W.charCodeAt(++B)),H[L++]=$>>18|240,H[L++]=$>>12&63|128,H[L++]=$>>6&63|128,H[L++]=63&$|128):(H[L++]=$>>12|224,H[L++]=$>>6&63|128,H[L++]=63&$|128)}return H},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let $=0;$<W.length;$+=3){const pe=W[$],Pe=$+1<W.length,Ze=Pe?W[$+1]:0,kt=$+2<W.length,yt=kt?W[$+2]:0;let Ut=(15&Ze)<<2|yt>>6,Kn=63&yt;kt||(Kn=64,Pe||(Ut=64)),B.push(L[pe>>2],L[(3&pe)<<4|Ze>>4],L[Ut],L[Kn])}return B.join("")},encodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(Y(W),H)},decodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){const H=[];let L=0,B=0;for(;L<W.length;){const $=W[L++];if($<128)H[B++]=String.fromCharCode($);else if($>191&&$<224){const pe=W[L++];H[B++]=String.fromCharCode((31&$)<<6|63&pe)}else if($>239&&$<365){const kt=((7&$)<<18|(63&W[L++])<<12|(63&W[L++])<<6|63&W[L++])-65536;H[B++]=String.fromCharCode(55296+(kt>>10)),H[B++]=String.fromCharCode(56320+(1023&kt))}else{const pe=W[L++],Pe=W[L++];H[B++]=String.fromCharCode((15&$)<<12|(63&pe)<<6|63&Pe)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray(W,H){this.init_();const L=H?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let $=0;$<W.length;){const pe=L[W.charAt($++)],Ze=$<W.length?L[W.charAt($)]:0;++$;const yt=$<W.length?L[W.charAt($)]:64;++$;const mt=$<W.length?L[W.charAt($)]:64;if(++$,null==pe||null==Ze||null==yt||null==mt)throw Error();B.push(pe<<2|Ze>>4),64!==yt&&(B.push(Ze<<4&240|yt>>2),64!==mt&&B.push(yt<<6&192|mt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},X=function(W){const H=Y(W);return Q.encodeByteArray(H,!0)},ge=function(W){return X(W).replace(/\./g,"")},q=function(W){try{return Q.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ee(W){return ie(void 0,W)}function ie(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(const L in H)!H.hasOwnProperty(L)||!$e(L)||(W[L]=ie(W[L],H[L]));return W}function $e(W){return"__proto__"!==W}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,L)=>{this.resolve=H,this.reject=L})}wrapCallback(H){return(L,B)=>{L?this.reject(L):this.resolve(B),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(L):H(L,B))}}}function Re(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=H||"demo-project",$=W.iat||0,pe=W.sub||W.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:$,exp:$+3600,auth_time:$,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Pe)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Je(){return"object"==typeof self&&self.self===self}function ze(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const W=He();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function _e(){return!1}function qe(){return"object"==typeof indexedDB}function ne(){return new Promise((W,H)=>{try{let L=!0;const B="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(B);$.onsuccess=()=>{$.result.close(),L||self.indexedDB.deleteDatabase(B),W(!0)},$.onupgradeneeded=()=>{L=!1},$.onerror=()=>{var pe;H((null===(pe=$.error)||void 0===pe?void 0:pe.message)||"")}}catch(L){H(L)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(H,L,B){super(L),this.code=H,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(H,L,B){this.service=H,this.serviceName=L,this.errors=B}create(H,...L){const B=L[0]||{},$=`${this.service}/${H}`,pe=this.errors[H],Pe=pe?function ue(W,H){return W.replace(ut,(L,B)=>{const $=H[B];return null!=$?String($):`<${B}?>`})}(pe,B):"Error";return new le($,`${this.serviceName}: ${Pe} (${$}).`,B)}}const ut=/\{\$([^}]+)}/g;function pt(W){return JSON.parse(W)}function Be(W){return JSON.stringify(W)}const xt=function(W){let H={},L={},B={},$="";try{const pe=W.split(".");H=pt(q(pe[0])||""),L=pt(q(pe[1])||""),$=pe[2],B=L.d||{},delete L.d}catch(pe){}return{header:H,claims:L,data:B,signature:$}},Vt=function(W){const L=xt(W).claims;return!!L&&"object"==typeof L&&L.hasOwnProperty("iat")},_r=function(W){const H=xt(W).claims;return"object"==typeof H&&!0===H.admin};function Tn(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function kn(W,H){if(Object.prototype.hasOwnProperty.call(W,H))return W[H]}function Jn(W){for(const H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function Bn(W,H,L){const B={};for(const $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(B[$]=H.call(L,W[$],$,W));return B}function yr(W,H){if(W===H)return!0;const L=Object.keys(W),B=Object.keys(H);for(const $ of L){if(!B.includes($))return!1;const pe=W[$],Pe=H[$];if(Qi(pe)&&Qi(Pe)){if(!yr(pe,Pe))return!1}else if(pe!==Pe)return!1}for(const $ of B)if(!L.includes($))return!1;return!0}function Qi(W){return null!==W&&"object"==typeof W}function Zr(W){const H=[];for(const[L,B]of Object.entries(W))Array.isArray(B)?B.forEach($=>{H.push(encodeURIComponent(L)+"="+encodeURIComponent($))}):H.push(encodeURIComponent(L)+"="+encodeURIComponent(B));return H.length?"&"+H.join("&"):""}function Ji(W){const H={};return W.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[$,pe]=B.split("=");H[decodeURIComponent($)]=decodeURIComponent(pe)}}),H}function Kt(W){const H=W.indexOf("?");if(!H)return"";const L=W.indexOf("#",H);return W.substring(H,L>0?L:void 0)}class dn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,L){L||(L=0);const B=this.W_;if("string"==typeof H)for(let mt=0;mt<16;mt++)B[mt]=H.charCodeAt(L)<<24|H.charCodeAt(L+1)<<16|H.charCodeAt(L+2)<<8|H.charCodeAt(L+3),L+=4;else for(let mt=0;mt<16;mt++)B[mt]=H[L]<<24|H[L+1]<<16|H[L+2]<<8|H[L+3],L+=4;for(let mt=16;mt<80;mt++){const Ut=B[mt-3]^B[mt-8]^B[mt-14]^B[mt-16];B[mt]=4294967295&(Ut<<1|Ut>>>31)}let yt,Ft,$=this.chain_[0],pe=this.chain_[1],Pe=this.chain_[2],Ze=this.chain_[3],kt=this.chain_[4];for(let mt=0;mt<80;mt++){mt<40?mt<20?(yt=Ze^pe&(Pe^Ze),Ft=1518500249):(yt=pe^Pe^Ze,Ft=1859775393):mt<60?(yt=pe&Pe|Ze&(pe|Pe),Ft=2400959708):(yt=pe^Pe^Ze,Ft=3395469782);const Ut=($<<5|$>>>27)+yt+kt+Ft+B[mt]&4294967295;kt=Ze,Ze=Pe,Pe=4294967295&(pe<<30|pe>>>2),pe=$,$=Ut}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+pe&4294967295,this.chain_[2]=this.chain_[2]+Pe&4294967295,this.chain_[3]=this.chain_[3]+Ze&4294967295,this.chain_[4]=this.chain_[4]+kt&4294967295}update(H,L){if(null==H)return;void 0===L&&(L=H.length);const B=L-this.blockSize;let $=0;const pe=this.buf_;let Pe=this.inbuf_;for(;$<L;){if(0===Pe)for(;$<=B;)this.compress_(H,$),$+=this.blockSize;if("string"==typeof H){for(;$<L;)if(pe[Pe]=H.charCodeAt($),++Pe,++$,Pe===this.blockSize){this.compress_(pe),Pe=0;break}}else for(;$<L;)if(pe[Pe]=H[$],++Pe,++$,Pe===this.blockSize){this.compress_(pe),Pe=0;break}}this.inbuf_=Pe,this.total_+=L}digest(){const H=[];let L=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&L,L/=256;this.compress_(this.buf_);let B=0;for(let $=0;$<5;$++)for(let pe=24;pe>=0;pe-=8)H[B]=this.chain_[$]>>pe&255,++B;return H}}function et(W,H){const L=new Xn(W,H);return L.subscribe.bind(L)}class Xn{constructor(H,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{H(this)}).catch(B=>{this.error(B)})}next(H){this.forEachObserver(L=>{L.next(H)})}error(H){this.forEachObserver(L=>{L.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,L,B){let $;if(void 0===H&&void 0===L&&void 0===B)throw new Error("Missing Observer.");$=function hn(W,H){if("object"!=typeof W||null===W)return!1;for(const L of H)if(L in W&&"function"==typeof W[L])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:L,complete:B},void 0===$.next&&($.next=mi),void 0===$.error&&($.error=mi),void 0===$.complete&&($.complete=mi);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(Pe){}}),this.observers.push($),pe}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,H)}sendOne(H,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{L(this.observers[H])}catch(B){"undefined"!=typeof console&&console.error&&console.error(B)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mi(){}const Yr=function(W,H,L,B){let $;if(B<H?$="at least "+H:B>L&&($=0===L?"none":"no more than "+L),$)throw new Error(W+" failed: Was called with "+B+(1===B?" argument.":" arguments.")+" Expects "+$+".")};function Un(W,H){return`${W} failed: ${H} argument `}function vr(W,H,L,B){if((!B||L)&&"function"!=typeof L)throw new Error(Un(W,H)+"must be a valid function.")}function Qr(W,H,L,B){if((!B||L)&&("object"!=typeof L||null===L))throw new Error(Un(W,H)+"must be a valid context object.")}const Bt=function(W){const H=[];let L=0;for(let B=0;B<W.length;B++){let $=W.charCodeAt(B);if($>=55296&&$<=56319){const pe=$-55296;B++,x(B<W.length,"Surrogate pair missing trail surrogate."),$=65536+(pe<<10)+(W.charCodeAt(B)-56320)}$<128?H[L++]=$:$<2048?(H[L++]=$>>6|192,H[L++]=63&$|128):$<65536?(H[L++]=$>>12|224,H[L++]=$>>6&63|128,H[L++]=63&$|128):(H[L++]=$>>18|240,H[L++]=$>>12&63|128,H[L++]=$>>6&63|128,H[L++]=63&$|128)}return H},Xe=function(W){let H=0;for(let L=0;L<W.length;L++){const B=W.charCodeAt(L);B<128?H++:B<2048?H+=2:B>=55296&&B<=56319?(H+=4,L++):H+=3}return H};function Xi(W,H=1e3,L=2){const B=H*Math.pow(L,W),$=Math.round(.5*B*(Math.random()-.5)*2);return Math.min(144e5,B+$)}function tt(W){return W&&W._delegate?W._delegate:W}function ar(W,H){return new Promise((L,B)=>{W.onsuccess=$=>{L($.target.result)},W.onerror=$=>{var pe;B(`${H}: ${null===(pe=$.target.error)||void 0===pe?void 0:pe.message}`)}})}class gt{constructor(H){this._db=H,this.objectStoreNames=this._db.objectStoreNames}transaction(H,L="readonly"){return new Jr(this._db.transaction.call(this._db,H,L))}createObjectStore(H,L){return new Xr(this._db.createObjectStore(H,L))}close(){this._db.close()}}class Jr{constructor(H){this._transaction=H,this.complete=new Promise((L,B)=>{this._transaction.oncomplete=function(){L()},this._transaction.onerror=()=>{B(this._transaction.error)},this._transaction.onabort=()=>{B(this._transaction.error)}})}objectStore(H){return new Xr(this._transaction.objectStore(H))}}class Xr{constructor(H){this._store=H}index(H){return new lr(this._store.index(H))}createIndex(H,L,B){return new lr(this._store.createIndex(H,L,B))}get(H){return ar(this._store.get(H),"Error reading from IndexedDB")}put(H,L){return ar(this._store.put(H,L),"Error writing to IndexedDB")}delete(H){return ar(this._store.delete(H),"Error deleting from IndexedDB")}clear(){return ar(this._store.clear(),"Error clearing IndexedDB object store")}}class lr{constructor(H){this._index=H}get(H){return ar(this._index.get(H),"Error reading from IndexedDB")}}function ur(W,H,L){return new Promise((B,$)=>{try{const pe=indexedDB.open(W,H);pe.onsuccess=Pe=>{B(new gt(Pe.target.result))},pe.onerror=Pe=>{var Ze;$(`Error opening indexedDB: ${null===(Ze=Pe.target.error)||void 0===Ze?void 0:Ze.message}`)},pe.onupgradeneeded=Pe=>{L(new gt(pe.result),Pe.oldVersion,Pe.newVersion,new Jr(pe.transaction))}}catch(pe){$(`Error opening indexedDB: ${pe.message}`)}})}function ei(W){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(W){return new Promise((H,L)=>{try{const B=indexedDB.deleteDatabase(W);B.onsuccess=()=>{H()},B.onerror=$=>{var pe;L(`Error deleting indexedDB database "${W}": ${null===(pe=$.target.error)||void 0===pe?void 0:pe.message}`)}}catch(B){L(`Error deleting indexedDB database "${W}": ${B.message}`)}})})).apply(this,arguments)}},5765:(rt,De,F)=>{var h=F(5e3);let de=null;function x(){return de}const Q=new h.OlP("DocumentToken");let X=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ge(){return(0,h.LFG)(ee)}()},providedIn:"platform"}),n})();const q=new h.OlP("Location Initialized");let ee=(()=>{class n extends X{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){ie()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){ie()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Q))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function $e(){return new ee((0,h.LFG)(Q))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Re(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ke(n){const t=(0,h.LFG)(Q).location;return new ze((0,h.LFG)(X),t&&t.origin||"")}()},providedIn:"root"}),n})();const Je=new h.OlP("appBaseHref");let ze=(()=>{class n extends Ee{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,u){const f=this.prepareExternalUrl(o+He(u));this._platformLocation.pushState(e,r,f)}replaceState(e,r,o,u){const f=this.prepareExternalUrl(o+He(u));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(X),h.LFG(Je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends Ee{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Se(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,u){let f=this.prepareExternalUrl(o+He(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,o,u){let f=this.prepareExternalUrl(o+He(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(X),h.LFG(Je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Re(_e(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+He(r))}normalize(e){return n.stripTrailingSlash(function Ie(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,_e(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._platformStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(r)),o)}replaceState(e,r="",o=null){this._platformStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=He,n.joinWithSlash=Se,n.stripTrailingSlash=Re,n.\u0275fac=function(e){return new(e||n)(h.LFG(Ee),h.LFG(X))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ve(){return new Te((0,h.LFG)(Ee),(0,h.LFG)(X))}()},providedIn:"root"}),n})();function _e(n){return n.replace(/\/index.html$/,"")}class Ms{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cn=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,u,f)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Ms(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,f),wn(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{wn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function wn(n,t){n.context.$implicit=t.item}let br=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function Fl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(t)}'.`)}let ja=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const ri="browser";let Vr=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Ga((0,h.LFG)(Q),window)}),n})();class Ga{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function aa(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=oa(this.window.history)||oa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function oa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class la extends class Wa extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Y(n){de||(de=n)}(new la)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function lc(){return Wt=Wt||document.querySelector("base"),Wt?Wt.getAttribute("href"):null}();return null==e?null:function fo(n){yi=yi||document.createElement("a"),yi.setAttribute("href",n);const t=yi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Wt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function As(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,u]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}(document.cookie,t)}}let yi,Wt=null;const jn=new h.OlP("TRANSITION_ID"),ks=[{provide:h.ip1,useFactory:function za(n,t,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const r=x(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[jn,Q,h.zs3],multi:!0}];class Dr{static init(){(0,h.VLi)(new Dr)}addToWindow(t){h.dqk.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,f=!1;const m=function(E){f=f||E,u--,0==u&&r(f)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $n=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const po=new h.OlP("EventManagerPlugins");let vi=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const f=o[u];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(po),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ua{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=x().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let si=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Jt=(()=>{class n extends si{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,o.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(go),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(go))}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Q))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function go(n){x().remove(n)}const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qa=/%COMP%/g;function be(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?be(n,o,e):(o=o.replace(qa,n),e.push(o))}return e}function At(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let tn=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Fs(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new fa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case h.ifc.ShadowDom:return new _o(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=be(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(vi),h.LFG(Jt),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Fs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(lt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const u=lt[o];u?t.setAttributeNS(u,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=lt[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(h.JOm.DashCase|h.JOm.Important)?t.style.setProperty(e,r,o&h.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&h.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,At(r)):this.eventManager.addEventListener(t,e,At(r))}}class fa extends Fs{constructor(t,e,r,o){super(t),this.component=r;const u=be(o+"-"+r.id,r.styles,[]);e.addStyles(u),this.contentAttr=function jl(n){return"_ngcontent-%COMP%".replace(qa,n)}(o+"-"+r.id),this.hostAttr=function ha(n){return"_nghost-%COMP%".replace(qa,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class _o extends Fs{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=be(o.id,o.styles,[]);for(let f=0;f<u.length;f++){const m=document.createElement("style");m.textContent=u[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let $l=(()=>{class n extends ua{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Q))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=["alt","control","meta","shift"],vo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let uc=(()=>{class n extends ua{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const u=n.parseEventName(r),f=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,u.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let f="";if(Za.forEach(E=>{const I=r.indexOf(E);I>-1&&(r.splice(I,1),f+=E+".")}),f+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=f,m}static getEventFullKey(e){let r="",o=function Eo(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Gn.hasOwnProperty(t)&&(t=Gn[t]))}return vo[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Za.forEach(u=>{u!=o&&oi[u](e)&&(r+=u+".")}),r+=o,r}static eventCallback(e,r,o){return u=>{n.getEventFullKey(u)===e&&o.runGuarded(()=>r(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Q))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Rd=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:ri},{provide:h.g9A,useValue:function ai(){la.makeCurrent(),Dr.init()},multi:!0},{provide:Q,useFactory:function dc(){return(0,h.RDi)(document),document},deps:[]}]),bo=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function cc(){return new h.qLn},deps:[]},{provide:po,useClass:$l,multi:!0,deps:[Q,h.R0b,h.Lbi]},{provide:po,useClass:uc,multi:!0,deps:[Q]},{provide:tn,useClass:tn,deps:[vi,Jt,h.AFp]},{provide:h.FYo,useExisting:tn},{provide:si,useExisting:Jt},{provide:Jt,useClass:Jt,deps:[Q]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:vi,useClass:vi,deps:[po,h.R0b]},{provide:class an{},useClass:$n,deps:[]}];let Co=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:h.AFp,useValue:e.appId},{provide:jn,useExisting:h.AFp},ks]}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:bo,imports:[ja,h.hGG]}),n})();"undefined"!=typeof window&&window;let rs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):h.LFG(Zl),r},providedIn:"root"}),n})(),Zl=(()=>{class n extends rs{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(r),(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,h.JVY)(e)}bypassSecurityTrustStyle(e){return(0,h.L6k)(e)}bypassSecurityTrustScript(e){return(0,h.eBb)(e)}bypassSecurityTrustUrl(e){return(0,h.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,h.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Q))},n.\u0275prov=h.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Sn(n){return new Zl(n.get(Q))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var Mn=F(8996),Ci=F(8306);const{isArray:To}=Array,{getPrototypeOf:_a,prototype:Ao,keys:Xa}=Object;function Yl(n){if(1===n.length){const t=n[0];if(To(t))return{args:t,keys:null};if(function _c(n){return n&&"object"==typeof n&&_a(n)===Ao}(t)){const e=Xa(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var wi=F(8421),fn=F(7669),_n=F(5403),ot=F(4004);const{isArray:el}=Array;function Bs(n){return(0,ot.U)(t=>function Vd(n,t){return el(t)?n(...t):n(t)}(n,t))}function Ql(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}function pn(...n){const t=(0,fn.jO)(n),{args:e,keys:r}=Yl(n),o=new Ci.y(u=>{const{length:f}=e;if(!f)return void u.complete();const m=new Array(f);let E=f,I=f;for(let P=0;P<f;P++){let N=!1;(0,wi.Xf)(e[P]).subscribe((0,_n.x)(u,G=>{N||(N=!0,I--),m[P]=G},()=>E--,void 0,()=>{(!E||!N)&&(I||u.next(r?Ql(r,m):m),u.complete())}))}});return t?o.pipe(Bs(t)):o}let yc=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),tr=(()=>{class n extends yc{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Tr=new h.OlP("NgValueAccessor"),tl={provide:Tr,useExisting:(0,h.Gpc)(()=>Di),multi:!0},Ec=new h.OlP("CompositionEventMode");let Di=(()=>{class n extends yc{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vc(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ec,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([tl]),h.qOj]}),n})();const Rn=new h.OlP("NgValidators"),Zn=new h.OlP("NgAsyncValidators");function Bi(n){return null!=n}function eu(n){const t=(0,h.QGY)(n)?(0,Mn.D)(n):n;return(0,h.CqO)(t),t}function is(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function $s(n,t){return t.map(e=>e(n))}function nu(n){return n.map(t=>function tu(n){return!n.validate}(t)?t:e=>t.validate(e))}function ru(n){return null!=n?function Xt(n){if(!n)return null;const t=n.filter(Bi);return 0==t.length?null:function(e){return is($s(e,t))}}(nu(n)):null}function Bd(n){return null!=n?function Ro(n){if(!n)return null;const t=n.filter(Bi);return 0==t.length?null:function(e){return pn($s(e,t).map(eu)).pipe((0,ot.U)(is))}}(nu(n)):null}function Ud(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jd(n){return n?Array.isArray(n)?n:[n]:[]}function Gs(n,t){return Array.isArray(n)?n.includes(t):n===t}function Bf(n,t){const e=jd(t);return jd(n).forEach(o=>{Gs(e,o)||e.push(o)}),e}function On(n,t){return jd(t).filter(e=>!Gs(n,e))}class rl{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ru(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class dr extends rl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr extends rl{get formDirective(){return null}get path(){return null}}class bc{constructor(t){this._cd=t}is(t){var e,r,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[t])}}let iu=(()=>{class n extends bc{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(dr,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),Ws=(()=>{class n extends bc{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(nr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function No(n,t){qs(n,t),t.valueAccessor.writeValue(n.value),function jr(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ci(n,t)})}(n,t),function Uf(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function qd(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ci(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function uu(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Hr(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qs(n,t){const e=function Hd(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Ud(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function Ea(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Ud(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Hr(t._rawValidators,o),Hr(t._rawAsyncValidators,o)}function ci(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ae(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const We="VALID",at="INVALID",Ct="PENDING",ct="DISABLED";function ln(n){return(Ti(n)?n.validators:n)||null}function Ui(n){return Array.isArray(n)?ru(n):n||null}function Hi(n,t){return(Ti(t)?t.asyncValidators:n)||null}function ji(n){return Array.isArray(n)?Bd(n):n||null}function Ti(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Ai=n=>n instanceof Yd;function Hf(n){return(n=>n instanceof sm)(n)?n.value:n.getRawValue()}function jf(n,t){const e=Ai(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function cu(n,t){Ai(n),n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.vHH(1002,"")})}class Zd{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ui(this._rawValidators),this._composedAsyncValidatorFn=ji(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===We}get invalid(){return this.status===at}get pending(){return this.status==Ct}get disabled(){return this.status===ct}get enabled(){return this.status!==ct}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ui(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ji(t)}addValidators(t){this.setValidators(Bf(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Bf(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(On(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(On(t,this._rawAsyncValidators))}hasValidator(t){return Gs(this._rawValidators,t)}hasAsyncValidator(t){return Gs(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ct,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ct,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=We,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===We||this.status===Ct)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ct:We}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ct,this._hasOwnPendingAsyncValidator=!0;const e=eu(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function hr(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(o=>{r=Ai(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof Qd)(r)&&r.at(o)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?ct:this.errors?at:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ct)?Ct:this._anyControlsHaveStatus(at)?at:We}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ti(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class sm extends Zd{constructor(t=null,e,r){super(ln(e),Hi(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ti(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ae(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ae(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Yd extends Zd{constructor(t,e,r){super(ln(e),Hi(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){cu(this,t),Object.keys(t).forEach(r=>{jf(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=Hf(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,u)=>{r=e(r,o,u)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Qd extends Zd{constructor(t,e,r){super(ln(e),Hi(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){cu(this,t),t.forEach((r,o)=>{jf(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Hf(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const om={provide:nr,useExisting:(0,h.Gpc)(()=>Ca)},xo=(()=>Promise.resolve(null))();let Ca=(()=>{class n extends nr{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Yd({},ru(e),Bd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){xo.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),No(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){xo.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){xo.then(()=>{const r=this._findContainer(e.path),o=new Yd({});(function wc(n,t){qs(n,t)})(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){xo.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){xo.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function U(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Rn,10),h.Y36(Zn,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([om]),h.qOj]}),n})();const $f={provide:dr,useExisting:(0,h.Gpc)(()=>Ks)},nh=(()=>Promise.resolve(null))();let Ks=(()=>{class n extends dr{constructor(e,r,o,u,f){super(),this._changeDetectorRef=f,this.control=new sm,this._registered=!1,this.update=new h.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function K(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(u=>{u.constructor===Di?e=u:function R(n){return Object.getPrototypeOf(n.constructor)===tr}(u)?r=u:o=u}),o||r||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function D(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){No(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){nh.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=""===r||r&&"false"!==r;nh.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(e){return this._parent?function lu(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(nr,9),h.Y36(Rn,10),h.Y36(Zn,10),h.Y36(Tr,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([$f]),h.qOj,h.TTD]}),n})(),Dc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),us=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const ih=new h.OlP("NgModelWithFormControlWarning");let gm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[us]]}),n})(),fu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gm]}),n})(),Sr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ih,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gm]}),n})();function je(...n){const t=(0,fn.yG)(n);return(0,Mn.D)(n,t)}var $r=F(7579);class Gr extends $r.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var dl=F(4671),tp=F(9672);function Oc(n,t,e){n?(0,tp.f)(e,n,t):t()}var vh=F(576);function ko(n,t){const e=(0,vh.m)(n)?n:()=>n,r=o=>o.error(e());return new Ci.y(t?o=>t.schedule(r,0,o):r)}const fr=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hs=F(8189);function Eh(...n){return function np(){return(0,hs.J)(1)}()((0,Mn.D)(n,(0,fn.yG)(n)))}function hl(n){return new Ci.y(t=>{(0,wi.Xf)(n()).subscribe(t)})}var Fo=F(515),bh=F(727),Wn=F(4482);function rp(){return(0,Wn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,_n.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,u=e;e=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Lo extends Ci.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Wn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bh.w0;const e=this.getSubject();t.add(this.source.subscribe((0,_n.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bh.w0.EMPTY)}return t}refCount(){return rp()(this)}}function rr(n,t){return(0,Wn.e)((e,r)=>{let o=null,u=0,f=!1;const m=()=>f&&!o&&r.complete();e.subscribe((0,_n.x)(r,E=>{null==o||o.unsubscribe();let I=0;const P=u++;(0,wi.Xf)(n(E,P)).subscribe(o=(0,_n.x)(r,N=>r.next(t?t(E,N,P,I++):N),()=>{o=null,m()}))},()=>{f=!0,m()}))})}var Nc=F(5698);function ip(n,t,e,r,o){return(u,f)=>{let m=e,E=t,I=0;u.subscribe((0,_n.x)(f,P=>{const N=I++;E=m?n(E,P,N):(m=!0,P),r&&f.next(E)},o&&(()=>{m&&f.next(E),f.complete()})))}}function gu(n,t){return(0,Wn.e)(ip(n,t,arguments.length>=2,!0))}function Dn(n,t){return(0,Wn.e)((e,r)=>{let o=0;e.subscribe((0,_n.x)(r,u=>n.call(t,u,o++)&&r.next(u)))})}function $i(n){return(0,Wn.e)((t,e)=>{let u,r=null,o=!1;r=t.subscribe((0,_n.x)(e,void 0,void 0,f=>{u=(0,wi.Xf)(n(f,$i(n)(t))),r?(r.unsubscribe(),r=null,u.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(e))})}var Qn=F(5577);function fl(n,t){return(0,vh.m)(t)?(0,Qn.z)(n,t,1):(0,Qn.z)(n,1)}function Gi(n){return n<=0?()=>Fo.E:(0,Wn.e)((t,e)=>{let r=[];t.subscribe((0,_n.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function pl(n=sp){return(0,Wn.e)((t,e)=>{let r=!1;t.subscribe((0,_n.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function sp(){return new fr}function Vo(n){return(0,Wn.e)((t,e)=>{let r=!1;t.subscribe((0,_n.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function Bo(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Dn((o,u)=>n(o,u,r)):dl.y,(0,Nc.q)(1),e?Vo(t):pl(()=>new fr))}var Mr=F(8505);function Ch(n){return(0,Wn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Uo{constructor(t,e){this.id=t,this.url=e}}class Si extends Uo{constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _ extends Uo{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class d extends Uo{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class g extends Uo{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class v extends Uo{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T extends Uo{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O extends Uo{constructor(t,e,r,o,u){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z extends Uo{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class he extends Uo{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ge{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ht{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mu{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class wh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ta(n){return new wh(n)}const Dh="ngNavigationCancelingError";function _u(n){const t=Error("NavigationCancelingError: "+n);return t[Dh]=!0,t}function ap(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const f=r[u],m=n[u];if(f.startsWith(":"))o[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function di(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let u=0;u<e.length;u++)if(o=e[u],!Ih(n[o],t[o]))return!1;return!0}function Ih(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,u)=>r[u]===o)}return n===t}function gl(n){return Array.prototype.concat.apply([],n)}function lp(n){return n.length>0?n[n.length-1]:null}function pr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ys(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Mn.D)(Promise.resolve(n)):je(n)}const sv={exact:function av(n,t,e){if(!Aa(n.segments,t.segments)||!xc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!av(n.children[r],t.children[r],e))return!1;return!0},subset:Em},vm={exact:function up(n,t){return di(n,t)},subset:function lv(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ih(n[e],t[e]))},ignored:()=>!0};function ov(n,t,e){return sv[e.paths](n.root,t.root,e.matrixParams)&&vm[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Em(n,t,e){return bm(n,t,t.segments,e)}function bm(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Aa(o,e)||t.hasChildren()||!xc(o,e,r))}if(n.segments.length===e.length){if(!Aa(n.segments,e)||!xc(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!Em(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(Aa(n.segments,o)&&xc(n.segments,o,r)&&n.children[Dt])&&bm(n.children[Dt],t,u,r)}}function xc(n,t,e){return t.every((r,o)=>vm[e](n[o].parameters,r.parameters))}class ml{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}toString(){return qC.serialize(this)}}class Ot{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pr(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Th(this)}}class _l{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ta(this.parameters)),this._parameterMap}toString(){return hv(this)}}function Aa(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class cp{}class kc{parse(t){const e=new XC(t);return new ml(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ah(t.root,!0)}`,r=function KC(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${Sh(e)}=${Sh(o)}`).join("&"):`${Sh(e)}=${Sh(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Cm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const qC=new kc;function Th(n){return n.segments.map(t=>hv(t)).join("/")}function Ah(n,t){if(!n.hasChildren())return Th(n);if(t){const e=n.children[Dt]?Ah(n.children[Dt],!1):"",r=[];return pr(n.children,(o,u)=>{u!==Dt&&r.push(`${u}:${Ah(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function cv(n,t){let e=[];return pr(n.children,(r,o)=>{o===Dt&&(e=e.concat(t(r,o)))}),pr(n.children,(r,o)=>{o!==Dt&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===Dt?[Ah(n.children[Dt],!1)]:[`${o}:${Ah(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Th(n)}/${e[0]}`:`${Th(n)}/(${e.join("//")})`}}function dv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sh(n){return dv(n).replace(/%3B/gi,";")}function dp(n){return dv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wm(n){return decodeURIComponent(n)}function Dm(n){return wm(n.replace(/\+/g,"%20"))}function hv(n){return`${dp(n.path)}${function fv(n){return Object.keys(n).map(t=>`;${dp(t)}=${dp(n[t])}`).join("")}(n.parameters)}`}const ZC=/^[^\/()?;=#]+/;function Ri(n){const t=n.match(ZC);return t?t[0]:""}const YC=/^[^=?&#]+/,QC=/^[^&#]+/;class XC{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Dt]=new Ot(t,e)),r}parseSegment(){const t=Ri(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new _l(wm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ri(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Ri(this.remaining);o&&(r=o,this.capture(r))}t[wm(e)]=wm(r)}parseQueryParam(t){const e=function pv(n){const t=n.match(YC);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function JC(n){const t=n.match(QC);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=Dm(e),u=Dm(r);if(t.hasOwnProperty(o)){let f=t[o];Array.isArray(f)||(f=[f],t[o]=f),f.push(u)}else t[o]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ri(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=Dt);const f=this.parseChildren();e[u]=1===Object.keys(f).length?f[Dt]:new Ot([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=hp(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=hp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Im(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Im(t,this._root).map(e=>e.value)}}function hp(n,t){if(n===t.value)return t;for(const e of t.children){const r=hp(n,e);if(r)return r}return null}function Im(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Im(n,e);if(r.length)return r.unshift(t),r}return[]}class Sa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vt extends gv{constructor(t,e){super(t),this.snapshot=e,Oh(this,t)}toString(){return this.snapshot.toString()}}function Tm(n,t){const e=function mv(n,t){const f=new Rh([],{},{},"",{},Dt,t,null,n.root,-1,{});return new _v("",new Sa(f,[]))}(n,t),r=new Gr([new _l("",{})]),o=new Gr({}),u=new Gr({}),f=new Gr({}),m=new Gr(""),E=new Ma(r,o,f,m,u,Dt,t,e.root);return E.snapshot=e.root,new vt(new Sa(E,[]),e)}class Ma{constructor(t,e,r,o,u,f,m,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=f,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(t=>Ta(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(t=>Ta(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mh(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],u=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Qs(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Rh{constructor(t,e,r,o,u,f,m,E,I,P,N){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=f,this.component=m,this.routeConfig=E,this._urlSegment=I,this._lastPathIndex=P,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _v extends gv{constructor(t,e){super(e),this.url=t,Oh(this,e)}toString(){return Ho(this._root)}}function Oh(n,t){t.value._routerState=n,t.children.forEach(e=>Oh(n,e))}function Ho(n){const t=n.children.length>0?` { ${n.children.map(Ho).join(", ")} } `:"";return`${n.value}${t}`}function Nh(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,di(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),di(t.params,e.params)||n.params.next(e.params),function Pc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!di(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),di(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fp(n,t){const e=di(n.params,t.params)&&function uv(n,t){return Aa(n,t)&&n.every((e,r)=>di(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||fp(n.parent,t.parent))}function pp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function yv(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return pp(n,r,o);return pp(n,r)})}(n,t,e);return new Sa(r,o)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const f=u.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(m=>pp(n,m)),f}}const r=function UI(n){return new Ma(new Gr(n.url),new Gr(n.params),new Gr(n.queryParams),new Gr(n.fragment),new Gr(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(u=>pp(n,u));return new Sa(r,o)}}function vu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Eu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ph(n,t,e,r,o){let u={};if(r&&pr(r,(m,E)=>{u[E]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),n===t)return new ml(e,u,o);const f=mp(n,t,e);return new ml(f,u,o)}function mp(n,t,e){const r={};return pr(n.children,(o,u)=>{r[u]=o===t?e:mp(o,t,e)}),new Ot(n.segments,r)}class e0{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&vu(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Eu);if(o&&o!==lp(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sm{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function s0(n,t,e){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return _p(n,t,e);const r=function HI(n,t,e){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return u;const f=n.segments[o],m=e[r];if(Eu(m))break;const E=`${m}`,I=r<e.length-1?e[r+1]:null;if(o>0&&void 0===E)break;if(E&&I&&"object"==typeof I&&void 0===I.outlets){if(!vp(E,I,f))return u;r+=2}else{if(!vp(E,{},f))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ot(n.segments.slice(0,r.pathIndex),{});return u.children[Dt]=new Ot(n.segments.slice(r.pathIndex),n.children),_p(u,0,o)}return r.match&&0===o.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?yp(n,t,e):r.match?_p(n,0,o):yp(n,t,e)}function _p(n,t,e){if(0===e.length)return new Ot(n.segments,{});{const r=function vv(n){return Eu(n[0])?n[0].outlets:{[Dt]:n}}(e),o={};return pr(r,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[f]=s0(n.children[f],t,u))}),pr(n.children,(u,f)=>{void 0===r[f]&&(o[f]=u)}),new Ot(n.segments,o)}}function yp(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const u=e[o];if(Eu(u)){const E=Ev(u.outlets);return new Ot(r,E)}if(0===o&&vu(e[0])){r.push(new _l(n.segments[t].path,bv(e[0]))),o++;continue}const f=Eu(u)?u.outlets[Dt]:`${u}`,m=o<e.length-1?e[o+1]:null;f&&m&&vu(m)?(r.push(new _l(f,bv(m))),o+=2):(r.push(new _l(f,{})),o++)}return new Ot(r,{})}function Ev(n){const t={};return pr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=yp(new Ot([],{}),0,e))}),t}function bv(n){const t={};return pr(n,(e,r)=>t[r]=`${e}`),t}function vp(n,t,e){return n==e.path&&di(t,e.parameters)}class $I{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Nh(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Fc(e);t.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],r),delete o[f]}),pr(o,(u,f)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,e,r){const o=t.value,u=e?e.value:null;if(o===u)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else u&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,u=Fc(t);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,u=Fc(t);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Fc(e);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Mi(u.value.snapshot))}),t.children.length&&this.forwardEvent(new Qe(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,u=e?e.value:null;if(Nh(o),o===u)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),Nh(m.route.value),this.activateChildRoutes(t,null,f.children)}else{const m=function GI(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=E,f.outlet&&f.outlet.activateWith(o,E),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class Cv{constructor(t,e){this.routes=t,this.module=e}}function bu(n){return"function"==typeof n}function Lc(n){return n instanceof ml}const Cu=Symbol("INITIAL_VALUE");function xh(){return rr(n=>function Rc(...n){const t=(0,fn.yG)(n),e=(0,fn.jO)(n),{args:r,keys:o}=Yl(n);if(0===r.length)return(0,Mn.D)([],t);const u=new Ci.y(function yh(n,t,e=dl.y){return r=>{Oc(t,()=>{const{length:o}=n,u=new Array(o);let f=o,m=o;for(let E=0;E<o;E++)Oc(t,()=>{const I=(0,Mn.D)(n[E],t);let P=!1;I.subscribe((0,_n.x)(r,N=>{u[E]=N,P||(P=!0,m--),m||r.next(e(u.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,o?f=>Ql(o,f):dl.y));return e?u.pipe(Bs(e)):u}(n.map(t=>t.pipe((0,Nc.q)(1),function ym(...n){const t=(0,fn.yG)(n);return(0,Wn.e)((e,r)=>{(t?Eh(n,e,t):Eh(n,e)).subscribe(r)})}(Cu)))).pipe(gu((t,e)=>{let r=!1;return e.reduce((o,u,f)=>o!==Cu?o:(u===Cu&&(r=!0),r||!1!==u&&f!==e.length-1&&!Lc(u)?o:u),t)},Cu),Dn(t=>t!==Cu),(0,ot.U)(t=>Lc(t)?t:!0===t),(0,Nc.q)(1)))}class wv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wu,this.attachRef=null}}class wu{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new wv,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ep=(()=>{class n{constructor(e,r,o,u,f){this.parentContexts=e,this.location=r,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||Dt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new Mm(e,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(wu),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Mm{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ma?this.route:t===wu?this.childContexts:this.parent.get(t,e)}}let Dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&h._UZ(0,"router-outlet")},directives:[Ep],encapsulation:2}),n})();function Ra(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Iv(r,o0(t,r))}}function Iv(n,t){n.children&&Ra(n.children,t)}function o0(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function kh(n){const t=n.children&&n.children.map(kh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Dt&&(e.component=Dv),e}function ps(n){return n.outlet||Dt}function Rm(n,t){const e=n.filter(r=>ps(r)===t);return e.push(...n.filter(r=>ps(r)!==t)),e}const Tv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bp(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Tv):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const u=(t.matcher||ap)(e,n,t);if(!u)return Object.assign({},Tv);const f={};pr(u.posParams,(E,I)=>{f[I]=E.path});const m=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,remainingSegments:e.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function vl(n,t,e,r,o="corrected"){if(e.length>0&&function Bc(n,t,e){return e.some(r=>Oa(n,t,r)&&ps(r)!==Dt)}(n,e,r)){const f=new Ot(t,function Om(n,t,e,r){const o={};o[Dt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&ps(u)!==Dt){const f=new Ot([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,o[ps(u)]=f}return o}(n,t,r,new Ot(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function Fh(n,t,e){return e.some(r=>Oa(n,t,r))}(n,e,r)){const f=new Ot(n.segments,function Vc(n,t,e,r,o,u){const f={};for(const m of r)if(Oa(n,e,m)&&!o[ps(m)]){const E=new Ot([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:t.length,f[ps(m)]=E}return Object.assign(Object.assign({},o),f)}(n,t,e,r,n.children,o));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const u=new Ot(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function Oa(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Av(n,t,e,r){return!!(ps(n)===r||r!==Dt&&Oa(t,e,n))&&("**"===n.path||bp(t,n,e).matched)}function Nm(n,t,e){return 0===t.length&&!n.children[e]}class Lh{constructor(t){this.segmentGroup=t||null}}class Cp{constructor(t){this.urlTree=t}}function Du(n){return ko(new Lh(n))}function Pm(n){return ko(new Cp(n))}class ZI{constructor(t,e,r,o,u){this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=t.get(h.h0i)}apply(){const t=vl(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ot(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Dt).pipe((0,ot.U)(u=>this.createUrlTree(Dp(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe($i(u=>{if(u instanceof Cp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Lh?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Dt).pipe((0,ot.U)(o=>this.createUrlTree(Dp(o),t.queryParams,t.fragment))).pipe($i(o=>{throw o instanceof Lh?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new Ot([],{[Dt]:t}):t;return new ml(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ot.U)(u=>new Ot([],u))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Mn.D)(o).pipe(fl(u=>{const f=r.children[u],m=Rm(e,u);return this.expandSegmentGroup(t,m,f,u).pipe((0,ot.U)(E=>({segment:E,outlet:u})))}),gu((u,f)=>(u[f.outlet]=f.segment,u),{}),function fs(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Dn((o,u)=>n(o,u,r)):dl.y,Gi(1),e?Vo(t):pl(()=>new fr))}())}expandSegment(t,e,r,o,u,f){return(0,Mn.D)(r).pipe(fl(m=>this.expandSegmentAgainstRoute(t,e,r,m,o,u,f).pipe($i(I=>{if(I instanceof Lh)return je(null);throw I}))),Bo(m=>!!m),$i((m,E)=>{if(m instanceof fr||"EmptyError"===m.name)return Nm(e,o,u)?je(new Ot([],{})):Du(e);throw m}))}expandSegmentAgainstRoute(t,e,r,o,u,f,m){return Av(o,e,u,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,u,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,u,f):Du(e):Du(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Pm(u):this.lineralizeSegments(r,u).pipe((0,Qn.z)(f=>{const m=new Ot(f,{});return this.expandSegment(t,m,e,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,u,f){const{matched:m,consumedSegments:E,remainingSegments:I,positionalParamSegments:P}=bp(e,o,u);if(!m)return Du(e);const N=this.applyRedirectCommands(E,o.redirectTo,P);return o.redirectTo.startsWith("/")?Pm(N):this.lineralizeSegments(o,N).pipe((0,Qn.z)(G=>this.expandSegment(t,e,r,G.concat(I),f,!1)))}matchSegmentAgainstRoute(t,e,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?je(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,ot.U)(N=>(r._loadedConfig=N,new Ot(o,{})))):je(new Ot(o,{}));const{matched:f,consumedSegments:m,remainingSegments:E}=bp(e,r,o);return f?this.getChildConfig(t,r,o).pipe((0,Qn.z)(P=>{const N=P.module,G=P.routes,{segmentGroup:te,slicedSegments:ce}=vl(e,m,E,G),Ne=new Ot(te.segments,te.children);if(0===ce.length&&Ne.hasChildren())return this.expandChildren(N,G,Ne).pipe((0,ot.U)(Yt=>new Ot(m,Yt)));if(0===G.length&&0===ce.length)return je(new Ot(m,{}));const Ye=ps(r)===u;return this.expandSegment(N,Ne,G,ce,Ye?Dt:u,!0).pipe((0,ot.U)(wt=>new Ot(m.concat(wt.segments),wt.children)))})):Du(e)}getChildConfig(t,e,r){return e.children?je(new Cv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?je(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Qn.z)(o=>o?this.configLoader.load(t.injector,e).pipe((0,ot.U)(u=>(e._loadedConfig=u,u))):function a0(n){return ko(_u(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):je(new Cv([],t))}runCanLoadGuards(t,e,r){const o=e.canLoad;return o&&0!==o.length?je(o.map(f=>{const m=t.get(f);let E;if(function zI(n){return n&&bu(n.canLoad)}(m))E=m.canLoad(e,r);else{if(!bu(m))throw new Error("Invalid CanLoad guard");E=m(e,r)}return Ys(E)})).pipe(xh(),(0,Mr.b)(f=>{if(!Lc(f))return;const m=_u(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,ot.U)(f=>!0===f)):je(!0)}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return je(r);if(o.numberOfChildren>1||!o.children[Dt])return ko(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));o=o.children[Dt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const u=this.createSegmentGroup(t,e.root,r,o);return new ml(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return pr(t,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=e[m]}else r[u]=o}),r}createSegmentGroup(t,e,r,o){const u=this.createSegments(t,e.segments,r,o);let f={};return pr(e.children,(m,E)=>{f[E]=this.createSegmentGroup(t,m,r,o)}),new Ot(u,f)}createSegments(t,e,r,o){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function Dp(n){const t={};for(const r of Object.keys(n.children)){const u=Dp(n.children[r]);(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function Mv(n){if(1===n.numberOfChildren&&n.children[Dt]){const t=n.children[Dt];return new Ot(n.segments.concat(t.segments),t.children)}return n}(new Ot(n.segments,t))}class xm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ip{constructor(t,e){this.component=t,this.route=e}}function u0(n,t,e){const r=n._root;return Ap(r,t?t._root:null,e,[r.value])}function Tp(n,t,e){const r=function c0(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Ap(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Fc(t);return n.children.forEach(f=>{(function YI(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,f=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const E=function Rv(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Aa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Aa(n.url,t.url)||!di(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fp(n,t)||!di(n.queryParams,t.queryParams);default:return!fp(n,t)}}(f,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new xm(r)):(u.data=f.data,u._resolvedData=f._resolvedData),Ap(n,t,u.component?m?m.children:null:e,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Ip(m.outlet.component,f))}else f&&Sp(t,m,o),o.canActivateChecks.push(new xm(r)),Ap(n,null,u.component?m?m.children:null:e,r,o)})(f,u[f.value.outlet],e,r.concat([f.value]),o),delete u[f.value.outlet]}),pr(u,(f,m)=>Sp(f,e.getContext(m),o)),o}function Sp(n,t,e){const r=Fc(n),o=n.value;pr(r,(u,f)=>{Sp(u,o.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new Ip(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class Pv{}function xv(n){return new Ci.y(t=>t.error(n))}class kv{constructor(t,e,r,o,u,f){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const t=vl(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Dt);if(null===e)return null;const r=new Rh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Sa(r,e),u=new _v(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(t){const e=t.value,r=Mh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const u of Object.keys(e.children)){const f=e.children[u],m=Rm(t,u),E=this.processSegmentGroup(m,f,u);if(null===E)return null;r.push(...E)}const o=Mp(r);return function Fv(n){n.sort((t,e)=>t.value.outlet===Dt?-1:e.value.outlet===Dt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,r,o){for(const u of t){const f=this.processSegmentAgainstRoute(u,e,r,o);if(null!==f)return f}return Nm(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!Av(t,e,r,o))return null;let u,f=[],m=[];if("**"===t.path){const te=r.length>0?lp(r).parameters:{};u=new Rh(r,te,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(t),ps(t),t.component,t,Lv(e),y0(e)+r.length,Vv(t))}else{const te=bp(e,t,r);if(!te.matched)return null;f=te.consumedSegments,m=te.remainingSegments,u=new Rh(f,te.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(t),ps(t),t.component,t,Lv(e),y0(e)+f.length,Vv(t))}const E=function _0(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:I,slicedSegments:P}=vl(e,f,m,E.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===P.length&&I.hasChildren()){const te=this.processChildren(E,I);return null===te?null:[new Sa(u,te)]}if(0===E.length&&0===P.length)return[new Sa(u,[])];const N=ps(t)===o,G=this.processSegment(E,I,P,N?Dt:o);return null===G?null:[new Sa(u,G)]}}function jo(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Mp(n){const t=[],e=new Set;for(const r of n){if(!jo(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=Mp(r.children);t.push(new Sa(r.value,o))}return t.filter(r=>!e.has(r))}function Lv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function y0(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Fm(n){return n.data||{}}function Vv(n){return n.resolve||{}}function Bv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Vh(n){return rr(t=>{const e=n(t);return e?(0,Mn.D)(e).pipe((0,ot.U)(()=>t)):je(t)})}class Bm extends class Vm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Op=new h.OlP("ROUTES");class Uv{constructor(t,e,r,o){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,ot.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=u.create(t);return new Cv(gl(f.injector.get(Op,void 0,h.XFs.Self|h.XFs.Optional)).map(kh),f)}),$i(u=>{throw e._loader$=void 0,u}));return e._loader$=new Lo(o,()=>new $r.x).pipe(rp()),e._loader$}loadModuleFactory(t){return Ys(t()).pipe((0,Qn.z)(e=>e instanceof h.YKP?je(e):(0,Mn.D)(this.compiler.compileModuleAsync(e))))}}class Um{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function JI(n){throw n}function D0(n,t,e){return t.parse("/")}function Hm(n,t){return je(null)}const Hv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rr=(()=>{class n{constructor(e,r,o,u,f,m,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $r.x,this.errorHandler=JI,this.malformedUriErrorHandler=D0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hm,afterPreactivation:Hm},this.urlHandlingStrategy=new Um,this.routeReuseStrategy=new Bm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const N=f.get(h.R0b);this.isNgZoneEnabled=N instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function yu(){return new ml(new Ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Uv(f,m,G=>this.triggerEvent(new Me(G)),G=>this.triggerEvent(new Ge(G))),this.routerState=Tm(this.currentUrlTree,this.rootComponentType),this.transitions=new Gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Dn(o=>0!==o.id),(0,ot.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rr(o=>{let u=!1,f=!1;return je(o).pipe((0,Mr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rr(m=>{const E=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return $o(m.source)&&(this.browserUrlTree=m.extractedUrl),je(m).pipe(rr(N=>{const G=this.transitions.getValue();return r.next(new Si(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),G!==this.transitions.getValue()?Fo.E:Promise.resolve(N)}),function l0(n,t,e,r){return rr(o=>function Sv(n,t,e,r,o){return new ZI(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,ot.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mr.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function v0(n,t,e,r,o){return(0,Qn.z)(u=>function m0(n,t,e,r,o="emptyOnly",u="legacy"){try{const f=new kv(n,t,e,r,o,u).recognize();return null===f?xv(new Pv):je(f)}catch(f){return xv(f)}}(n,t,u.urlAfterRedirects,e(u.urlAfterRedirects),r,o).pipe((0,ot.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mr.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(te,N)}this.browserUrlTree=N.urlAfterRedirects}const G=new v(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(G)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:te,source:ce,restoredState:Ne,extras:Ye}=m,Pt=new Si(G,this.serializeUrl(te),ce,Ne);r.next(Pt);const wt=Tm(te,this.rootComponentType).snapshot;return je(Object.assign(Object.assign({},m),{targetSnapshot:wt,urlAfterRedirects:te,extras:Object.assign(Object.assign({},Ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Fo.E}),Vh(m=>{const{targetSnapshot:E,id:I,extractedUrl:P,rawUrl:N,extras:{skipLocationChange:G,replaceUrl:te}}=m;return this.hooks.beforePreactivation(E,{navigationId:I,appliedUrlTree:P,rawUrlTree:N,skipLocationChange:!!G,replaceUrl:!!te})}),(0,Mr.b)(m=>{const E=new T(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,ot.U)(m=>Object.assign(Object.assign({},m),{guards:u0(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function d0(n,t){return(0,Qn.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=e;return 0===f.length&&0===u.length?je(Object.assign(Object.assign({},e),{guardsResult:!0})):function km(n,t,e,r){return(0,Mn.D)(n).pipe((0,Qn.z)(o=>function g0(n,t,e,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?je(u.map(m=>{const E=Tp(m,t,o);let I;if(function yl(n){return n&&bu(n.canDeactivate)}(E))I=Ys(E.canDeactivate(n,t,e,r));else{if(!bu(E))throw new Error("Invalid CanDeactivate guard");I=Ys(E(n,t,e,r))}return I.pipe(Bo())})).pipe(xh()):je(!0)}(o.component,o.route,e,t,r)),Bo(o=>!0!==o,!0))}(f,r,o,n).pipe((0,Qn.z)(m=>m&&function WI(n){return"boolean"==typeof n}(m)?function Ov(n,t,e,r){return(0,Mn.D)(t).pipe(fl(o=>Eh(function f0(n,t){return null!==n&&t&&t(new ht(n)),je(!0)}(o.route.parent,r),function h0(n,t){return null!==n&&t&&t(new Pn(n)),je(!0)}(o.route,r),function Nv(n,t,e){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(f=>function Wi(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>hl(()=>je(f.guards.map(E=>{const I=Tp(E,f.node,e);let P;if(function KI(n){return n&&bu(n.canActivateChild)}(I))P=Ys(I.canActivateChild(r,n));else{if(!bu(I))throw new Error("Invalid CanActivateChild guard");P=Ys(I(r,n))}return P.pipe(Bo())})).pipe(xh())));return je(u).pipe(xh())}(n,o.path,e),function p0(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return je(!0);const o=r.map(u=>hl(()=>{const f=Tp(u,t,e);let m;if(function qI(n){return n&&bu(n.canActivate)}(f))m=Ys(f.canActivate(t,n));else{if(!bu(f))throw new Error("Invalid CanActivate guard");m=Ys(f(t,n))}return m.pipe(Bo())}));return je(o).pipe(xh())}(n,o.route,e))),Bo(o=>!0!==o,!0))}(r,u,n,t):je(m)),(0,ot.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Mr.b)(m=>{if(Lc(m.guardsResult)){const I=_u(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw I.url=m.guardsResult,I}const E=new O(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),Dn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Vh(m=>{if(m.guards.canActivateChecks.length)return je(m).pipe((0,Mr.b)(E=>{const I=new z(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),rr(E=>{let I=!1;return je(E).pipe(function E0(n,t){return(0,Qn.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return je(e);let u=0;return(0,Mn.D)(o).pipe(fl(f=>function Lm(n,t,e,r){return function b0(n,t,e,r){const o=Bv(n);if(0===o.length)return je({});const u={};return(0,Mn.D)(o).pipe((0,Qn.z)(f=>function Rp(n,t,e,r){const o=Tp(n,t,r);return Ys(o.resolve?o.resolve(t,e):o(t,e))}(n[f],t,e,r).pipe((0,Mr.b)(m=>{u[f]=m}))),Gi(1),(0,Qn.z)(()=>Bv(u).length===o.length?je(u):Fo.E))}(n._resolve,n,t,r).pipe((0,ot.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Mh(n,e).resolve),null)))}(f.route,r,n,t)),(0,Mr.b)(()=>u++),Gi(1),(0,Qn.z)(f=>u===o.length?je(e):Fo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mr.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Mr.b)(E=>{const I=new he(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}))}),Vh(m=>{const{targetSnapshot:E,id:I,extractedUrl:P,rawUrl:N,extras:{skipLocationChange:G,replaceUrl:te}}=m;return this.hooks.afterPreactivation(E,{navigationId:I,appliedUrlTree:P,rawUrlTree:N,skipLocationChange:!!G,replaceUrl:!!te})}),(0,ot.U)(m=>{const E=function Am(n,t,e){const r=pp(n,t._root,e?e._root:void 0);return new vt(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,Mr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,ot.U)(r=>(new $I(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Mr.b)({next(){u=!0},complete(){u=!0}}),Ch(()=>{var m;u||f||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),$i(m=>{if(f=!0,function op(n){return n&&n[Dh]}(m)){const E=Lc(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const I=new d(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(I),E?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$o(o.source)};this.scheduleNavigation(P,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new g(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(I){o.reject(I)}}return Fo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},f=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,r,f,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ra(e),this.config=e.map(kh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:m,preserveFragment:E}=r,I=o||this.routerState.root,P=E?this.currentUrlTree.fragment:f;let N=null;switch(m){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),function gp(n,t,e,r,o){if(0===e.length)return Ph(t.root,t.root,t.root,r,o);const u=function t0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new e0(!0,0,n);let t=0,e=!1;const r=n.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return pr(u.outlets,(E,I)=>{m[I]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?e=!0:".."===m?t++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new e0(e,t,r)}(e);if(u.toRoot())return Ph(t.root,t.root,new Ot([],{}),r,o);const f=function n0(n,t,e){if(n.isAbsolute)return new Sm(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const u=e.snapshot._urlSegment;return new Sm(u,u===t.root,0)}const r=vu(n.commands[0])?0:1;return function r0(n,t,e){let r=n,o=t,u=e;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Sm(r,!1,o-u)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,t,n),m=f.processChildren?_p(f.segmentGroup,f.index,u.commands):s0(f.segmentGroup,f.index,u.commands);return Ph(t.root,f.segmentGroup,m,r,o)}(I,this.currentUrlTree,e,N,null!=P?P:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Lc(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function $v(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?Object.assign({},Hv):!1===r?Object.assign({},jv):r,Lc(e))return ov(this.currentUrlTree,e,o);const u=this.parseUrl(e);return ov(this.currentUrlTree,u,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const u=e[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new _(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,u,f){var m,E;if(this.disposed)return Promise.resolve(!1);let I,P,N;f?(I=f.resolve,P=f.reject,N=f.promise):N=new Promise((ce,Ne)=>{I=ce,P=Ne});const G=++this.navigationId;let te;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),te=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):te=0,this.setTransition({id:G,targetPageId:te,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:I,reject:P,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(ce=>Promise.reject(ce))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(e,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new d(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function $o(n){return"imperative"!==n}let Uc=(()=>{class n{constructor(e,r,o,u,f){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=f,this.commands=null,this.onChanges=new $r.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Hc(this.skipLocationChange),replaceUrl:Hc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Rr),h.Y36(Ma),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})(),Np=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new $r.x,this.subscription=e.events.subscribe(u=>{u instanceof _&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,u,f){if(0!==e||r||o||u||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Hc(this.skipLocationChange),replaceUrl:Hc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Rr),h.Y36(Ma),h.Y36(Ee))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function Hc(n){return""===n||!!n}let I0=(()=>{class n{constructor(e,r,o,u,f,m){this.router=e,this.element=r,this.renderer=o,this.cdr=u,this.link=f,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=e.events.subscribe(E=>{E instanceof _&&this.update()})}ngAfterContentInit(){je(this.links.changes,this.linksWithHrefs.changes,je(null)).pipe((0,hs.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,Mn.D)(r).pipe((0,hs.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function jm(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Rr),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(Uc,8),h.Y36(Np,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,o){if(1&e&&(h.Suo(o,Uc,5),h.Suo(o,Np,5)),2&e){let u;h.iGM(u=h.CRH())&&(r.links=u),h.iGM(u=h.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[h.TTD]}),n})();class $m{}class jc{preload(t,e){return je(null)}}let Gv=(()=>{class n{constructor(e,r,o,u){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=new Uv(o,r,E=>e.triggerEvent(new Me(E)),E=>e.triggerEvent(new Ge(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(e=>e instanceof _),fl(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(h.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(e,u)):u.children&&o.push(this.processRoutes(e,u.children));return(0,Mn.D)(o).pipe((0,hs.J)(),(0,ot.U)(u=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?je(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Qn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Rr),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG($m))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Bh=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new mu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const El=new h.OlP("ROUTER_CONFIGURATION"),Wm=new h.OlP("ROUTER_FORROOT_GUARD"),A0=[Te,{provide:cp,useClass:kc},{provide:Rr,useFactory:function M0(n,t,e,r,o,u,f={},m,E){const I=new Rr(null,n,t,e,r,o,gl(u));return m&&(I.urlHandlingStrategy=m),E&&(I.routeReuseStrategy=E),function R0(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(f,I),f.enableTracing&&I.events.subscribe(P=>{var N,G;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(G=console.groupEnd)||void 0===G||G.call(console)}),I},deps:[cp,wu,Te,h.zs3,h.Sil,Op,El,[class w0{},new h.FiY],[class C0{},new h.FiY]]},wu,{provide:Ma,useFactory:function Gc(n){return n.routerState.root},deps:[Rr]},Gv,jc,class Gm{preload(t,e){return e().pipe($i(()=>je(null)))}},{provide:El,useValue:{enableTracing:!1}}];function zm(){return new h.PXZ("Router",Rr)}let Wv=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[A0,qm(e),{provide:Wm,useFactory:$c,deps:[[Rr,new h.FiY,new h.tp0]]},{provide:El,useValue:r||{}},{provide:Ee,useFactory:zv,deps:[X,[new h.tBr(Je),new h.FiY],El]},{provide:Bh,useFactory:S0,deps:[Rr,Vr,El]},{provide:$m,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:jc},{provide:h.PXZ,multi:!0,useFactory:zm},[Km,{provide:h.ip1,multi:!0,useFactory:O0,deps:[Km]},{provide:qv,useFactory:N0,deps:[Km]},{provide:h.tb,multi:!0,useExisting:qv}]]}}static forChild(e){return{ngModule:n,providers:[qm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Wm,8),h.LFG(Rr,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function S0(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Bh(n,t,e)}function zv(n,t,e={}){return e.useHash?new Oe(n,t):new ze(n,t)}function $c(n){return"guarded"}function qm(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Op,multi:!0,useValue:n}]}let Km=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $r.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(Rr),f=this.injector.get(El);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?je(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(El),o=this.injector.get(Gv),u=this.injector.get(Bh),f=this.injector.get(Rr),m=this.injector.get(h.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),u.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function O0(n){return n.appInitializer.bind(n)}function N0(n){return n.bootstrapListener.bind(n)}const qv=new h.OlP("Router Initializer");var Zv=F(4986),Pp=F(6451),xp=F(3099);function Zm(n,t=dl.y){return n=null!=n?n:P0,(0,Wn.e)((e,r)=>{let o,u=!0;e.subscribe((0,_n.x)(r,f=>{const m=t(f);(u||!n(o,m))&&(u=!1,o=m,r.next(f))}))})}function P0(n,t){return n===t}var Yv=F(5032),zi=F(2823),Wo=F(2011),L0=(F(3755),F(2412)),Iu=F(4859),Wc=F(5861),zc=F(9182),V=F(2090);const Ym=[];var en=(()=>{return(n=en||(en={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",en;var n})();const Qm={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},XI=en.INFO,Js={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},eT=(n,t,...e)=>{if(t<n.logLevel)return;const r=(new Date).toISOString(),o=Js[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${n.name}:`,...e)};class V0{constructor(t){this.name=t,this._logLevel=XI,this._logHandler=eT,this._userLogHandler=null,Ym.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in en))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Qm[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...t),this._logHandler(this,en.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...t),this._logHandler(this,en.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,en.INFO,...t),this._logHandler(this,en.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,en.WARN,...t),this._logHandler(this,en.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,en.ERROR,...t),this._logHandler(this,en.ERROR,...t)}}const Jm="@firebase/database";let Jv="";function Xm(n){Jv=n}class e_{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,V.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,V.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class H0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,V.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const kp=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new e_(t)}}catch(t){}return new H0},Tu=kp("localStorage"),t_=kp("sessionStorage"),qc=new V0("@firebase/database"),Xv=function(){let n=1;return function(){return n++}}(),eE=function(n){const t=(0,V.dS)(n),e=new V.gQ;e.update(t);const r=e.digest();return V.US.encodeByteArray(r)},Uh=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Uh.apply(null,r):t+="object"==typeof r?(0,V.Pz)(r):r,t+=" "}return t};let zo=null,Au=!0;const tE=function(n,t){(0,V.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(qc.logLevel=en.VERBOSE,zo=qc.log.bind(qc),t&&t_.set("logging_enabled",!0)):"function"==typeof n?zo=n:(zo=null,t_.remove("logging_enabled"))},Vn=function(...n){if(!0===Au&&(Au=!1,null===zo&&!0===t_.get("logging_enabled")&&tE(!0)),zo){const t=Uh.apply(null,n);zo(t)}},Hh=function(n){return function(...t){Vn(n,...t)}},n_=function(...n){const t="FIREBASE INTERNAL ERROR: "+Uh(...n);qc.error(t)},gs=function(...n){const t=`FIREBASE FATAL ERROR: ${Uh(...n)}`;throw qc.error(t),new Error(t)},In=function(...n){const t="FIREBASE WARNING: "+Uh(...n);qc.warn(t)},ir=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ms="[MIN_NAME]",zn="[MAX_NAME]",Na=function(n,t){if(n===t)return 0;if(n===ms||t===zn)return-1;if(t===ms||n===zn)return 1;{const e=$h(n),r=$h(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Kc=function(n,t){return n===t?0:n<t?-1:1},qo=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Pz)(t))},bl=function(n){if("object"!=typeof n||null===n)return(0,V.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,V.Pz)(t[r]),e+=":",e+=bl(n[t[r]]);return e+="}",e},Mu=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let o=0;o<e;o+=t)r.push(n.substring(o,o+t>e?e:o+t));return r};function xn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Ru=function(n){(0,V.hu)(!ir(n),"Invalid JSON number");const r=1023;let o,u,f,m,E;0===n?(u=0,f=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=m+r,f=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(u=0,f=Math.round(n/Math.pow(2,-1074))));const I=[];for(E=52;E;E-=1)I.push(f%2?1:0),f=Math.floor(f/2);for(E=11;E;E-=1)I.push(u%2?1:0),u=Math.floor(u/2);I.push(o?1:0),I.reverse();const P=I.join("");let N="";for(E=0;E<64;E+=8){let G=parseInt(P.substr(E,8),2).toString(16);1===G.length&&(G="0"+G),N+=G}return N.toLowerCase()},nE=new RegExp("^-?(0*)\\d{1,10}$"),r_=-2147483648,Fp=2147483647,$h=function(n){if(nE.test(n)){const t=Number(n);if(t>=r_&&t<=Fp)return t}return null},Ou=function(n){try{n()}catch(t){setTimeout(()=>{throw In("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Jc=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class iE{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sE{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(t)}}let Gh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const uE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cE="websocket",dE="long_polling";class hE{constructor(t,e,r,o,u=!1,f="",m=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Tu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vp(n,t,e){let r;if((0,V.hu)("string"==typeof t,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),t===cE)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==dE)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function $0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return xn(e,(u,f)=>{o.push(u+"="+f)}),r+o.join("&")}class o_{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,V.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,V.p$)(this.counters_)}}const a_={},fE={};function pE(n){const t=n.toString();return a_[t]||(a_[t]=new o_),a_[t]}class G0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ou(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ed{constructor(t,e,r,o,u,f,m){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hh(t),this.stats_=pE(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),Vp(e,dE,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new G0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Up((...u)=>{const[f,m,E,I,P]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=m,this.password=E;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[f,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&uE.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ed.forceAllow_=!0}static forceDisallow(){ed.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!ed.forceAllow_&&(ed.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,V.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,V.h$)(e),o=Mu(r,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,V.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Up{constructor(t,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Xv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Up.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){Vn("frame writing exception"),m.stack&&Vn(m.stack),Vn(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Vn("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+o+"="+f.seg+"&ts"+o+"="+f.ts+"&d"+o+"="+f.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),r()})}addTag(t,e){(0,V.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Vn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Hp=null;"undefined"!=typeof MozWebSocket?Hp=MozWebSocket:"undefined"!=typeof WebSocket&&(Hp=WebSocket);let Nu=(()=>{class n{constructor(e,r,o,u,f,m,E){this.connId=e,this.applicationId=o,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hh(this.connId),this.stats_=pE(r),this.connURL=n.connectionURL_(r,m,E,u),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,u){const f={v:"5"};return!(0,V.Yr)()&&"undefined"!=typeof location&&location.hostname&&uE.test(location.hostname)&&(f.r="f"),r&&(f.s=r),o&&(f.ls=o),u&&(f.ac=u),Vp(e,cE,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tu.set("previous_websocket_failure",!0);try{if((0,V.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${Jv}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,m=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;m&&(u.proxy={origin:m}),this.mySock=new Hp(this.connURL,[],u)}else this.mySock=new Hp(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Hp&&!n.forceDisallow_}static previouslyFailed(){return Tu.isInMemoryStorage||!0===Tu.get("previous_websocket_failure")}markConnectionHealthy(){Tu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,V.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,V.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Mu(r,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class d_{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ed,Nu]}initTransports_(t){const e=Nu&&Nu.isAvailable();let r=e&&!Nu.previouslyFailed();if(t.webSocketOnly&&(e||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nu];else{const o=this.transports_=[];for(const u of d_.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class p_{constructor(t,e,r,o,u,f,m,E,I,P){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=E,this.onKill_=I,this.lastSessionId=P,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hh("c:"+this.id+":"),this.transportManager_=new d_(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Jc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=qo("t",t),r=qo("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=qo("t",t),r=qo("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=qo("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?n_("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):n_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Jc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wp{put(t,e,r,o){}merge(t,e,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class g_{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,V.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const o=this.getInitialEvent(t);o&&e.apply(r,o)}off(t,e,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===e&&(!r||r===o[u].context))return void o.splice(u,1)}validateEventType_(t){(0,V.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Zh extends g_{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Zh}getInitialEvent(t){return(0,V.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Zt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function jt(){return new Zt("")}function Mt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ko(n){return n.pieces_.length-n.pieceNum_}function nn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Zt(n.pieces_,t)}function __(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function td(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function qp(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Zt(t,0)}function gn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Zt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new Zt(e,0)}function Rt(n){return n.pieceNum_>=n.pieces_.length}function Wr(n,t){const e=Mt(n),r=Mt(t);if(null===e)return t;if(e===r)return Wr(nn(n),nn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function SE(n,t){const e=td(n,0),r=td(t,0);for(let o=0;o<e.length&&o<r.length;o++){const u=Na(e[o],r[o]);if(0!==u)return u}return e.length===r.length?0:e.length<r.length?-1:1}function Kp(n,t){if(Ko(n)!==Ko(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function qi(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Ko(n)>Ko(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class ME{constructor(t,e){this.errorPrefix_=e,this.parts_=td(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,V.ug)(this.parts_[r]);Q0(this)}}function Q0(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pu(n))}function Pu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class y_ extends g_{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new y_}getInitialEvent(t){return(0,V.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const nd=1e3;let Zp,Cl=(()=>{class n extends Wp{constructor(e,r,o,u,f,m,E,I){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=m,this.appCheckTokenProvider_=E,this.authOverride_=I,this.id=n.nextPersistentConnectionId_++,this.log_=Hh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");y_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Zh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const u=++this.requestNumber_,f={r:u,a:e,b:r};this.log_((0,V.Pz)(f)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),o&&(this.requestCBHash_[u]=o)}get(e){this.initConnection_();const r=new V.BH,o={p:e._path.toString(),q:e._queryObject},u={action:"g",request:o,onComplete:m=>{const E=m.d;"ok"===m.s?(this.onDataUpdate_(o.p,E,!1,null),r.resolve(E)):r.reject(E)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const m=this.outstandingGets_[f];void 0===m||u!==m||(delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+f+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(f),r.promise}listen(e,r,o,u){this.initConnection_();const f=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+f),this.listens.has(m)||this.listens.set(m,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(m).has(f),"listen() called twice for same path/queryId.");const E={onComplete:u,hashFn:r,query:e,tag:o};this.listens.get(m).set(f,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const f={p:o};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,E=>{const I=E.d,P=E.s;n.warnOnListenWarnings_(I,r),(this.listens.get(o)&&this.listens.get(o).get(u))===e&&(this.log_("listen response",E),"ok"!==P&&this.removeListen_(o,u),e.onComplete&&e.onComplete(P,I))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const o=(0,V.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,V.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const f=u.s,m=u.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,e._queryObject,r)}sendUnlisten_(e,r,o,u){this.log_("Unlisten on "+e+" for "+r);const f={p:e};u&&(f.q=o,f.t=u),this.sendRequest("n",f)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,u){const f={p:r,d:o};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,m=>{u&&setTimeout(()=>{u(m.s,m.d)},Math.floor(0))})}put(e,r,o,u){this.putInternal("p",e,r,o,u)}merge(e,r,o,u){this.putInternal("m",e,r,o,u)}putInternal(e,r,o,u,f){this.initConnection_();const m={p:r,d:o};void 0!==f&&(m.h=f),this.outstandingPuts_.push({action:e,request:m,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Pz)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):n_("Unrecognized action received from server: "+(0,V.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Wc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let E=!1,I=null;const P=function(){I?I.close():(E=!0,u())};e.realtime_={close:P,sendRequest:function(te){(0,V.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(te)}};const G=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[te,ce]=yield Promise.all([e.authTokenProvider_.getToken(G),e.appCheckTokenProvider_.getToken(G)]);E?Vn("getToken() completed but was canceled"):(Vn("getToken() completed. Creating connection."),e.authToken_=te&&te.accessToken,e.appCheckToken_=ce&&ce.token,I=new p_(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,u,Ne=>{In(Ne+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(te){e.log_("Failed to get token: "+te),E||(e.repoInfo_.nodeAdmin&&In(te),P())}}})()}interrupt(e){Vn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=nd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(f=>bl(f)).join("$"):"default";const u=this.removeListen_(e,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,r){const o=new Zt(e).toString();let u;if(this.listens.has(o)){const f=this.listens.get(o);u=f.get(r),f.delete(r),0===f.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(e,r){Vn("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Vn("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,V.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Jv.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zh.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Nt(t,e)}}class Pa{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Nt(ms,t),o=new Nt(ms,e);return 0!==this.compare(r,o)}minPost(){return Nt.MIN}}class xE extends Pa{static get __EMPTY_NODE(){return Zp}static set __EMPTY_NODE(t){Zp=t}compare(t,e){return Na(t.name,e.name)}isDefinedOn(t){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(zn,Zp)}makePost(t,e){return(0,V.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,Zp)}toString(){return".key"}}const Xs=new xE;class Yp{constructor(t,e,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=e?r(t.key,e):1,o&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let b_,_s=(()=>{class n{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=null!=o?o:n.RED,this.left=null!=u?u:hi.EMPTY_NODE,this.right=null!=f?f:hi.EMPTY_NODE}copy(e,r,o,u,f){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return hi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,u;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return hi.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class hi{constructor(t,e=hi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new hi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_s.BLACK,null,null))}remove(t){return new hi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_s.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Yp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Yp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Yp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Yp(this.root_,null,this.comparator_,!0,t)}}function E_(n,t){return Na(n.name,t.name)}function ys(n,t){return Na(n,t)}hi.EMPTY_NODE=new class iT{copy(t,e,r,o,u){return this}insert(t,e,r){return new _s(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eo=function(n){return"number"==typeof n?"number:"+Ru(n):"string:"+n},vs=function(n){if(n.isLeafNode()){const t=n.val();(0,V.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,V.r3)(t,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===b_||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===b_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Es,C_,kE,xu=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vs(this.priorityNode_)}static set __childrenNodeConstructor(e){Es=e}static get __childrenNodeConstructor(){return Es}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Rt(e)?this:".priority"===Mt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=Mt(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,V.hu)(".priority"!==o||1===Ko(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(nn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eo(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?Ru(this.value_):this.value_,this.lazyHash_=eE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(o);return(0,V.hu)(u>=0,"Unknown leaf type: "+r),(0,V.hu)(f>=0,"Unknown leaf type: "+o),u===f?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const rn=new class iw extends Pa{compare(t,e){const r=t.node.getPriority(),o=e.node.getPriority(),u=r.compareTo(o);return 0===u?Na(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(zn,new xu("[PRIORITY-POST]",kE))}makePost(t,e){const r=C_(t);return new Nt(e,new xu("[PRIORITY-POST]",r))}toString(){return".priority"}},Yh=Math.log(2);class sw{constructor(t){this.count=parseInt(Math.log(t+1)/Yh,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Qh=function(n,t,e,r){n.sort(t);const o=function(E,I){const P=I-E;let N,G;if(0===P)return null;if(1===P)return N=n[E],G=e?e(N):N,new _s(G,N.node,_s.BLACK,null,null);{const te=parseInt(P/2,10)+E,ce=o(E,te),Ne=o(te+1,I);return N=n[te],G=e?e(N):N,new _s(G,N.node,_s.BLACK,ce,Ne)}},m=function(E){let I=null,P=null,N=n.length;const G=function(ce,Ne){const Ye=N-ce,Pt=N;N-=ce;const wt=o(Ye+1,Pt),Yt=n[Ye],St=e?e(Yt):Yt;te(new _s(St,Yt.node,Ne,null,wt))},te=function(ce){I?(I.left=ce,I=ce):(P=ce,I=ce)};for(let ce=0;ce<E.count;++ce){const Ne=E.nextBitIsOne(),Ye=Math.pow(2,E.count-(ce+1));Ne?G(Ye,_s.BLACK):(G(Ye,_s.BLACK),G(Ye,_s.RED))}return P}(new sw(n.length));return new hi(r||t,m)};let w_;const ku={};class Zo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,V.hu)(ku&&rn,"ChildrenNode.ts has not been loaded"),w_=w_||new Zo({".priority":ku},{".priority":rn}),w_}get(t){const e=(0,V.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof hi?e:null}hasIndex(t){return(0,V.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,V.hu)(t!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=e.getIterator(Nt.Wrap);let m,f=u.getNext();for(;f;)o=o||t.isDefinedOn(f.node),r.push(f),f=u.getNext();m=o?Qh(r,t.getCompare()):ku;const E=t.toString(),I=Object.assign({},this.indexSet_);I[E]=t;const P=Object.assign({},this.indexes_);return P[E]=m,new Zo(P,I)}addToIndexes(t,e){const r=(0,V.UI)(this.indexes_,(o,u)=>{const f=(0,V.DV)(this.indexSet_,u);if((0,V.hu)(f,"Missing index implementation for "+u),o===ku){if(f.isDefinedOn(t.node)){const m=[],E=e.getIterator(Nt.Wrap);let I=E.getNext();for(;I;)I.name!==t.name&&m.push(I),I=E.getNext();return m.push(t),Qh(m,f.getCompare())}return ku}{const m=e.get(t.name);let E=o;return m&&(E=E.remove(new Nt(t.name,m))),E.insert(t,t.node)}});return new Zo(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,V.UI)(this.indexes_,o=>{if(o===ku)return o;{const u=e.get(t.name);return u?o.remove(new Nt(t.name,u)):o}});return new Zo(r,this.indexSet_)}}let wl,It=(()=>{class n{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&vs(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wl||(wl=new n(new hi(ys),null,Zo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wl}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?wl:r}}getChild(e){const r=Mt(e);return null===r?this:this.getImmediateChild(r).getChild(nn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,V.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new Nt(e,r);let u,f;r.isEmpty()?(u=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(o,this.children_));const m=u.isEmpty()?wl:this.priorityNode_;return new n(u,m,f)}}updateChild(e,r){const o=Mt(e);if(null===o)return r;{(0,V.hu)(".priority"!==Mt(e)||1===Ko(e),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(nn(e),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,u=0,f=!0;if(this.forEachChild(rn,(m,E)=>{r[m]=E.val(e),o++,f&&n.INTEGER_REGEXP_.test(m)?u=Math.max(u,Number(m)):f=!1}),!e&&f&&u<2*o){const m=[];for(const E in r)m[E]=r[E];return m}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+eo(this.getPriority().val())+":"),this.forEachChild(rn,(r,o)=>{const u=o.hash();""!==u&&(e+=":"+r+":"+u)}),this.lazyHash_=""===e?"":eE(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const u=this.resolveIndex_(o);if(u){const f=u.getPredecessorKey(new Nt(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Nt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Nt(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Nt.Wrap);let f=u.peek();for(;null!=f&&r.compare(f,e)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Nt.Wrap);let f=u.peek();for(;null!=f&&r.compare(f,e)>0;)u.getNext(),f=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rd?-1:0}withIndex(e){if(e===Xs||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Xs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(rn),u=r.getIterator(rn);let f=o.getNext(),m=u.getNext();for(;f&&m;){if(f.name!==m.name||!f.node.equals(m.node))return!1;f=o.getNext(),m=u.getNext()}return null===f&&null===m}return!1}return!1}}resolveIndex_(e){return e===Xs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const rd=new class FE extends It{constructor(){super(new hi(ys),It.EMPTY_NODE,Zo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return It.EMPTY_NODE}isEmpty(){return!1}};function mn(n,t=null){if(null===n)return It.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,V.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new xu(n,mn(t));if(n instanceof Array){let e=It.EMPTY_NODE;return xn(n,(r,o)=>{if((0,V.r3)(n,r)&&"."!==r.substring(0,1)){const u=mn(o);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(r,u))}}),e.updatePriority(mn(t))}{const e=[];let r=!1;if(xn(n,(f,m)=>{if("."!==f.substring(0,1)){const E=mn(m);E.isEmpty()||(r=r||!E.getPriority().isEmpty(),e.push(new Nt(f,E)))}}),0===e.length)return It.EMPTY_NODE;const u=Qh(e,E_,f=>f.name,ys);if(r){const f=Qh(e,rn.getCompare());return new It(u,mn(t),new Zo({".priority":f},{".priority":rn}))}return new It(u,mn(t),Zo.Default)}}Object.defineProperties(Nt,{MIN:{value:new Nt(ms,It.EMPTY_NODE)},MAX:{value:new Nt(zn,rd)}}),xE.__EMPTY_NODE=It.EMPTY_NODE,xu.__childrenNodeConstructor=It,function tw(n){b_=n}(rd),function rw(n){kE=n}(rd),function nw(n){C_=n}(mn);class Qp extends Pa{constructor(t){super(),this.indexPath_=t,(0,V.hu)(!Rt(t)&&".priority"!==Mt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),o=this.extractChild(e.node),u=r.compareTo(o);return 0===u?Na(t.name,e.name):u}makePost(t,e){const r=mn(t),o=It.EMPTY_NODE.updateChild(this.indexPath_,r);return new Nt(e,o)}maxPost(){const t=It.EMPTY_NODE.updateChild(this.indexPath_,rd);return new Nt(zn,t)}toString(){return td(this.indexPath_,0).join("/")}}const Jp=new class LE extends Pa{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Na(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(t,e){const r=mn(t);return new Nt(e,r)}toString(){return".value"}},Fu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",VE=function(){let n=0;const t=[];return function(e){const r=e===n;let o;n=e;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Fu.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let f=u.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)f+=Fu.charAt(t[o]);return(0,V.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),BE=function(n){if(n===""+Fp)return"-";const t=$h(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return zn;const u=Fu.charAt(Fu.indexOf(e[r])+1);return e[r]=u,e.slice(0,r+1).join("")},UE=function(n){if(n===""+r_)return ms;const t=$h(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+Fp:(delete e[e.length-1],e.join("")):(e[e.length-1]=Fu.charAt(Fu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function HE(n){return{type:"value",snapshotNode:n}}function id(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Jh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Xh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class A_{constructor(t){this.index_=t}updateChild(t,e,r,o,u,f){(0,V.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(Jh(e,m)):(0,V.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(id(e,r)):f.trackChildChange(Xh(e,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(rn,(o,u)=>{e.hasChild(o)||r.trackChildChange(Jh(o,u))}),e.isLeafNode()||e.forEachChild(rn,(o,u)=>{if(t.hasChild(o)){const f=t.getImmediateChild(o);f.equals(u)||r.trackChildChange(Xh(o,u,f))}else r.trackChildChange(id(o,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?It.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ef{constructor(t){this.indexedFilter_=new A_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ef.getStartPost_(t),this.endPost_=ef.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,o,u,f){return this.matches(new Nt(e,r))||(r=It.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,o,u,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=It.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(It.EMPTY_NODE);const u=this;return e.forEachChild(rn,(f,m)=>{u.matches(new Nt(f,m))||(o=o.updateImmediateChild(f,It.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class aw{constructor(t){this.rangedFilter_=new ef(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,o,u,f){return this.rangedFilter_.matches(new Nt(e,r))||(r=It.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,o,u,f):this.fullLimitUpdateChild_(t,e,r,u,f)}updateFullNode(t,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=It.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;o=It.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const m=u.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!E)break;o=o.updateImmediateChild(m.name,m.node),f++}}else{let u,f,m,E;if(o=e.withIndex(this.index_),o=o.updatePriority(It.EMPTY_NODE),this.reverse_){E=o.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const N=this.index_.getCompare();m=(G,te)=>N(te,G)}else E=o.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let I=0,P=!1;for(;E.hasNext();){const N=E.getNext();!P&&m(u,N)<=0&&(P=!0),P&&I<this.limit_&&m(N,f)<=0?I++:o=o.updateImmediateChild(N.name,It.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,o,u){let f;if(this.reverse_){const N=this.index_.getCompare();f=(G,te)=>N(te,G)}else f=this.index_.getCompare();const m=t;(0,V.hu)(m.numChildren()===this.limit_,"");const E=new Nt(e,r),I=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),P=this.rangedFilter_.matches(E);if(m.hasChild(e)){const N=m.getImmediateChild(e);let G=o.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=G&&(G.name===e||m.hasChild(G.name));)G=o.getChildAfterChild(this.index_,G,this.reverse_);const te=null==G?1:f(G,E);if(P&&!r.isEmpty()&&te>=0)return null!=u&&u.trackChildChange(Xh(e,r,N)),m.updateImmediateChild(e,r);{null!=u&&u.trackChildChange(Jh(e,N));const Ne=m.updateImmediateChild(e,It.EMPTY_NODE);return null!=G&&this.rangedFilter_.matches(G)?(null!=u&&u.trackChildChange(id(G.name,G.node)),Ne.updateImmediateChild(G.name,G.node)):Ne}}return r.isEmpty()?t:P&&f(I,E)>=0?(null!=u&&(u.trackChildChange(Jh(I.name,I.node)),u.trackChildChange(id(e,r))),m.updateImmediateChild(e,r).updateImmediateChild(I.name,It.EMPTY_NODE)):t}}class eg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ms}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const t=new eg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function S_(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function M_(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function tf(n,t){const e=n.copy();return e.index_=t,e}function R_(n){const t={};if(n.isDefault())return t;let e;return n.index_===rn?e="$priority":n.index_===Jp?e="$value":n.index_===Xs?e="$key":((0,V.hu)(n.index_ instanceof Qp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,V.Pz)(e),n.startSet_&&(t.startAt=(0,V.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,V.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,V.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,V.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function O_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==rn&&(t.i=n.index_.toString()),t}class nf extends Wp{constructor(t,e,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Hh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,V.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=nf.getListenId_(t,r),m={};this.listens_[f]=m;const E=R_(t._queryParams);this.restRequest_(u+".json",E,(I,P)=>{let N=P;if(404===I&&(N=null,I=null),null===I&&this.onDataUpdate_(u,N,!1,r),(0,V.DV)(this.listens_,f)===m){let G;G=I?401===I?"permission_denied":"rest_error:"+I:"ok",o(G,null)}})}unlisten(t,e){const r=nf.getListenId_(t,e);delete this.listens_[r]}get(t){const e=R_(t._queryParams),r=t._path.toString(),o=new V.BH;return this.restRequest_(r+".json",e,(u,f)=>{let m=f;404===u&&(m=null,u=null),null===u?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(e.auth=o.accessToken),u&&u.token&&(e.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let E=null;if(m.status>=200&&m.status<300){try{E=(0,V.cI)(m.responseText)}catch(I){In("Failed to parse JSON response for "+f+": "+m.responseText)}r(null,E)}else 401!==m.status&&404!==m.status&&In("Got unsuccessful REST response for "+f+" Status: "+m.status),r(m.status);r=null}},m.open("GET",f,!0),m.send()})}}class jE{constructor(){this.rootNode_=It.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function rf(){return{value:null,children:new Map}}function Lu(n,t,e){if(Rt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Mt(t);n.children.has(r)||n.children.set(r,rf()),Lu(n.children.get(r),t=nn(t),e)}}function tg(n,t){if(Rt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(rn,(r,o)=>{Lu(n,new Zt(r),o)}),tg(n,t)}}if(n.children.size>0){const e=Mt(t);return t=nn(t),n.children.has(e)&&tg(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function ng(n,t,e){null!==n.value?e(t,n.value):function $E(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,o)=>{ng(o,new Zt(t.toString()+"/"+r),e)})}class GE{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&xn(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=t,e}}class sd{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new GE(t);const r=1e4+2e4*Math.random();Jc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;xn(t,(o,u)=>{u>0&&(0,V.r3)(this.statsToReport_,o)&&(e[o]=u,r=!0)}),r&&this.server_.reportStats(e),Jc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var to=(()=>{return(n=to||(to={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",to;var n})();function rg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class of{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=to.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Rt(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Zt(t));return new of(jt(),e,this.revert)}}return(0,V.hu)(Mt(this.path)===t,"operationForChild called for unrelated child."),new of(nn(this.path),this.affectedTree,this.revert)}}class ig{constructor(t,e){this.source=t,this.path=e,this.type=to.LISTEN_COMPLETE}operationForChild(t){return Rt(this.path)?new ig(this.source,jt()):new ig(this.source,nn(this.path))}}class it{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=to.OVERWRITE}operationForChild(t){return Rt(this.path)?new it(this.source,jt(),this.snap.getImmediateChild(t)):new it(this.source,nn(this.path),this.snap)}}class od{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=to.MERGE}operationForChild(t){if(Rt(this.path)){const e=this.children.subtree(new Zt(t));return e.isEmpty()?null:e.value?new it(this.source,jt(),e.value):new od(this.source,jt(),e)}return(0,V.hu)(Mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new od(this.source,nn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Il{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Rt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Mt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class gw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function af(n,t,e,r,o,u){const f=r.filter(m=>m.type===e);f.sort((m,E)=>function ag(n,t,e){if(null==t.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const r=new Nt(t.childName,t.snapshotNode),o=new Nt(e.childName,e.snapshotNode);return n.index_.compare(r,o)}(n,m,E)),f.forEach(m=>{const E=function og(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,u);o.forEach(I=>{I.respondsTo(m.type)&&t.push(I.createEvent(E,n.query_))})})}function yn(n,t){return{eventCache:n,serverCache:t}}function lg(n,t,e,r){return yn(new Il(t,e,r),n.serverCache)}function N_(n,t,e,r){return yn(n.eventCache,new Il(t,e,r))}function ug(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Vu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let cg;class un{constructor(t,e=(()=>(cg||(cg=new hi(Kc)),cg))()){this.value=t,this.children=e}static fromObject(t){let e=new un(null);return xn(t,(r,o)=>{e=e.set(new Zt(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:jt(),value:this.value};if(Rt(t))return null;{const r=Mt(t),o=this.children.get(r);if(null!==o){const u=o.findRootMostMatchingPathAndValue(nn(t),e);return null!=u?{path:gn(new Zt(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Rt(t))return this;{const e=Mt(t),r=this.children.get(e);return null!==r?r.subtree(nn(t)):new un(null)}}set(t,e){if(Rt(t))return new un(e,this.children);{const r=Mt(t),u=(this.children.get(r)||new un(null)).set(nn(t),e),f=this.children.insert(r,u);return new un(this.value,f)}}remove(t){if(Rt(t))return this.children.isEmpty()?new un(null):new un(null,this.children);{const e=Mt(t),r=this.children.get(e);if(r){const o=r.remove(nn(t));let u;return u=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&u.isEmpty()?new un(null):new un(this.value,u)}return this}}get(t){if(Rt(t))return this.value;{const e=Mt(t),r=this.children.get(e);return r?r.get(nn(t)):null}}setTree(t,e){if(Rt(t))return e;{const r=Mt(t),u=(this.children.get(r)||new un(null)).setTree(nn(t),e);let f;return f=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new un(this.value,f)}}fold(t){return this.fold_(jt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(gn(t,o),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,jt(),e)}findOnPath_(t,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(Rt(t))return null;{const u=Mt(t),f=this.children.get(u);return f?f.findOnPath_(nn(t),gn(e,u),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,jt(),e)}foreachOnPath_(t,e,r){if(Rt(t))return this;{this.value&&r(e,this.value);const o=Mt(t),u=this.children.get(o);return u?u.foreachOnPath_(nn(t),gn(e,o),r):new un(null)}}foreach(t){this.foreach_(jt(),t)}foreach_(t,e){this.children.inorderTraversal((r,o)=>{o.foreach_(gn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class bs{constructor(t){this.writeTree_=t}static empty(){return new bs(new un(null))}}function lf(n,t,e){if(Rt(t))return new bs(new un(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let u=r.value;const f=Wr(o,t);return u=u.updateChild(f,e),new bs(n.writeTree_.set(o,u))}{const o=new un(e),u=n.writeTree_.setTree(t,o);return new bs(u)}}}function P_(n,t,e){let r=n;return xn(e,(o,u)=>{r=lf(r,gn(t,o),u)}),r}function qE(n,t){if(Rt(t))return bs.empty();{const e=n.writeTree_.setTree(t,new un(null));return new bs(e)}}function Bu(n,t){return null!=Uu(n,t)}function Uu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Wr(e.path,t)):null}function KE(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(rn,(r,o)=>{t.push(new Nt(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&t.push(new Nt(r,o.value))}),t}function Tl(n,t){if(Rt(t))return n;{const e=Uu(n,t);return new bs(null!=e?new un(e):n.writeTree_.subtree(t))}}function ad(n){return n.writeTree_.isEmpty()}function Hu(n,t){return x_(jt(),n.writeTree_,t)}function x_(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{".priority"===o?((0,V.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):e=x_(gn(n,o),u,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(gn(n,".priority"),r)),e}}function uf(n,t){return ld(t,n)}function yw(n,t){if(n.snap)return qi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&qi(gn(n.path,e),t))return!0;return!1}function ZE(n){return n.visible}function k_(n,t,e){let r=bs.empty();for(let o=0;o<n.length;++o){const u=n[o];if(t(u)){const f=u.path;let m;if(u.snap)qi(e,f)?(m=Wr(e,f),r=lf(r,m,u.snap)):qi(f,e)&&(m=Wr(f,e),r=lf(r,jt(),u.snap.getChild(m)));else{if(!u.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(qi(e,f))m=Wr(e,f),r=P_(r,m,u.children);else if(qi(f,e))if(m=Wr(f,e),Rt(m))r=P_(r,jt(),u.children);else{const E=(0,V.DV)(u.children,Mt(m));if(E){const I=E.getChild(nn(m));r=lf(r,jt(),I)}}}}}return r}function F_(n,t,e,r,o){if(r||o){const u=Tl(n.visibleWrites,t);return!o&&ad(u)?e:o||null!=e||Bu(u,jt())?Hu(k_(n.allWrites,function(I){return(I.visible||o)&&(!r||!~r.indexOf(I.writeId))&&(qi(I.path,t)||qi(t,I.path))},t),e||It.EMPTY_NODE):null}{const u=Uu(n.visibleWrites,t);if(null!=u)return u;{const f=Tl(n.visibleWrites,t);return ad(f)?e:null!=e||Bu(f,jt())?Hu(f,e||It.EMPTY_NODE):null}}}function L_(n,t,e,r){return F_(n.writeTree,n.treePath,t,e,r)}function QE(n,t){return function Ew(n,t,e){let r=It.EMPTY_NODE;const o=Uu(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(rn,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(e){const u=Tl(n.visibleWrites,t);return e.forEachChild(rn,(f,m)=>{const E=Hu(Tl(u,new Zt(f)),m);r=r.updateImmediateChild(f,E)}),KE(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return KE(Tl(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function V_(n,t,e,r){return function YE(n,t,e,r,o){(0,V.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=gn(t,e);if(Bu(n.visibleWrites,u))return null;{const f=Tl(n.visibleWrites,u);return ad(f)?o.getChild(e):Hu(f,o.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function ju(n,t){return function Cw(n,t){return Uu(n.visibleWrites,t)}(n.writeTree,gn(n.treePath,t))}function B_(n,t,e){return function bw(n,t,e,r){const o=gn(t,e),u=Uu(n.visibleWrites,o);return null!=u?u:r.isCompleteForChild(e)?Hu(Tl(n.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function U_(n,t){return ld(gn(n.treePath,t),n.writeTree)}function ld(n,t){return{treePath:n,writeTree:t}}class Dw{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(r,Xh(r,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(r,Jh(r,o.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(r,id(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,V.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(r,Xh(r,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const JE=new class Iw{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class H_{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Il(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return B_(this.writes_,t,r)}}getChildAfterChild(t,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vu(this.viewCache_),u=function ww(n,t,e,r,o,u){return function sT(n,t,e,r,o,u,f){let m;const E=Tl(n.visibleWrites,t),I=Uu(E,jt());if(null!=I)m=I;else{if(null==e)return[];m=Hu(E,e)}if(m=m.withIndex(f),m.isEmpty()||m.isLeafNode())return[];{const P=[],N=f.getCompare(),G=u?m.getReverseIteratorFrom(r,f):m.getIteratorFrom(r,f);let te=G.getNext();for(;te&&P.length<o;)0!==N(te,r)&&P.push(te),te=G.getNext();return P}}(n.writeTree,n.treePath,t,e,r,o,u)}(this.writes_,o,e,1,r,t);return 0===u.length?null:u[0]}}function $u(n,t,e,r,o,u){const f=t.eventCache;if(null!=ju(r,e))return t;{let m,E;if(Rt(e))if((0,V.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const I=Vu(t),N=QE(r,I instanceof It?I:It.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),N,u)}else{const I=L_(r,Vu(t));m=n.filter.updateFullNode(t.eventCache.getNode(),I,u)}else{const I=Mt(e);if(".priority"===I){(0,V.hu)(1===Ko(e),"Can't have a priority with additional path components");const P=f.getNode();E=t.serverCache.getNode();const N=V_(r,e,P,E);m=null!=N?n.filter.updatePriority(P,N):f.getNode()}else{const P=nn(e);let N;if(f.isCompleteForChild(I)){E=t.serverCache.getNode();const G=V_(r,e,f.getNode(),E);N=null!=G?f.getNode().getImmediateChild(I).updateChild(P,G):f.getNode().getImmediateChild(I)}else N=B_(r,I,t.serverCache);m=null!=N?n.filter.updateChild(f.getNode(),I,N,P,o,u):f.getNode()}}return lg(t,m,f.isFullyInitialized()||Rt(e),n.filter.filtersNodes())}}function dg(n,t,e,r,o,u,f,m){const E=t.serverCache;let I;const P=f?n.filter:n.filter.getIndexedFilter();if(Rt(e))I=P.updateFullNode(E.getNode(),r,null);else if(P.filtersNodes()&&!E.isFiltered()){const te=E.getNode().updateChild(e,r);I=P.updateFullNode(E.getNode(),te,null)}else{const te=Mt(e);if(!E.isCompleteForPath(e)&&Ko(e)>1)return t;const ce=nn(e),Ye=E.getNode().getImmediateChild(te).updateChild(ce,r);I=".priority"===te?P.updatePriority(E.getNode(),Ye):P.updateChild(E.getNode(),te,Ye,ce,JE,null)}const N=N_(t,I,E.isFullyInitialized()||Rt(e),P.filtersNodes());return $u(n,N,e,o,new H_(o,N,u),m)}function hg(n,t,e,r,o,u,f){const m=t.eventCache;let E,I;const P=new H_(o,t,u);if(Rt(e))I=n.filter.updateFullNode(t.eventCache.getNode(),r,f),E=lg(t,I,!0,n.filter.filtersNodes());else{const N=Mt(e);if(".priority"===N)I=n.filter.updatePriority(t.eventCache.getNode(),r),E=lg(t,I,m.isFullyInitialized(),m.isFiltered());else{const G=nn(e),te=m.getNode().getImmediateChild(N);let ce;if(Rt(G))ce=r;else{const Ne=P.getCompleteChild(N);ce=null!=Ne?".priority"===__(G)&&Ne.getChild(qp(G)).isEmpty()?Ne:Ne.updateChild(G,r):It.EMPTY_NODE}E=te.equals(ce)?t:lg(t,n.filter.updateChild(m.getNode(),N,ce,G,P,f),m.isFullyInitialized(),n.filter.filtersNodes())}}return E}function eb(n,t){return n.eventCache.isCompleteForChild(t)}function nb(n,t,e){return e.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function fg(n,t,e,r,o,u,f,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let I,E=t;I=Rt(e)?r:new un(null).setTree(e,r);const P=t.serverCache.getNode();return I.children.inorderTraversal((N,G)=>{if(P.hasChild(N)){const ce=nb(0,t.serverCache.getNode().getImmediateChild(N),G);E=dg(n,E,new Zt(N),ce,o,u,f,m)}}),I.children.inorderTraversal((N,G)=>{const te=!t.serverCache.isCompleteForChild(N)&&void 0===G.value;if(!P.hasChild(N)&&!te){const Ne=nb(0,t.serverCache.getNode().getImmediateChild(N),G);E=dg(n,E,new Zt(N),Ne,o,u,f,m)}}),E}class rb{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new A_(r.getIndex()),u=function lw(n){return n.loadsAllData()?new A_(n.getIndex()):n.hasLimit()?new aw(n):new ef(n)}(r);this.processor_=function Tw(n){return{filter:n}}(u);const f=e.serverCache,m=e.eventCache,E=o.updateFullNode(It.EMPTY_NODE,f.getNode(),null),I=u.updateFullNode(It.EMPTY_NODE,m.getNode(),null),P=new Il(E,f.isFullyInitialized(),o.filtersNodes()),N=new Il(I,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=yn(N,P),this.eventGenerator_=new gw(this.query_)}get query(){return this.query_}}function Nw(n,t){const e=Vu(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Rt(t)&&!e.getImmediateChild(Mt(t)).isEmpty())?e.getChild(t):null}function sb(n){return 0===n.eventRegistrations_.length}function ob(n,t,e){const r=[];if(e){(0,V.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(e,o);f&&r.push(f)})}if(t){let o=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(f.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(u+1));break}}else o.push(f)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function G_(n,t,e,r){t.type===to.MERGE&&null!==t.source.queryId&&((0,V.hu)(Vu(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(ug(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,u=function Aw(n,t,e,r,o){const u=new Dw;let f,m;if(e.type===to.OVERWRITE){const I=e;I.source.fromUser?f=hg(n,t,I.path,I.snap,r,o,u):((0,V.hu)(I.source.fromServer,"Unknown source."),m=I.source.tagged||t.serverCache.isFiltered()&&!Rt(I.path),f=dg(n,t,I.path,I.snap,r,o,m,u))}else if(e.type===to.MERGE){const I=e;I.source.fromUser?f=function tb(n,t,e,r,o,u,f){let m=t;return r.foreach((E,I)=>{const P=gn(e,E);eb(t,Mt(P))&&(m=hg(n,m,P,I,o,u,f))}),r.foreach((E,I)=>{const P=gn(e,E);eb(t,Mt(P))||(m=hg(n,m,P,I,o,u,f))}),m}(n,t,I.path,I.children,r,o,u):((0,V.hu)(I.source.fromServer,"Unknown source."),m=I.source.tagged||t.serverCache.isFiltered(),f=fg(n,t,I.path,I.children,r,o,m,u))}else if(e.type===to.ACK_USER_WRITE){const I=e;f=I.revert?function Rw(n,t,e,r,o,u){let f;if(null!=ju(r,e))return t;{const m=new H_(r,t,o),E=t.eventCache.getNode();let I;if(Rt(e)||".priority"===Mt(e)){let P;if(t.serverCache.isFullyInitialized())P=L_(r,Vu(t));else{const N=t.serverCache.getNode();(0,V.hu)(N instanceof It,"serverChildren would be complete if leaf node"),P=QE(r,N)}P=P,I=n.filter.updateFullNode(E,P,u)}else{const P=Mt(e);let N=B_(r,P,t.serverCache);null==N&&t.serverCache.isCompleteForChild(P)&&(N=E.getImmediateChild(P)),I=null!=N?n.filter.updateChild(E,P,N,nn(e),m,u):t.eventCache.getNode().hasChild(P)?n.filter.updateChild(E,P,It.EMPTY_NODE,nn(e),m,u):E,I.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=L_(r,Vu(t)),f.isLeafNode()&&(I=n.filter.updateFullNode(I,f,u)))}return f=t.serverCache.isFullyInitialized()||null!=ju(r,jt()),lg(t,I,f,n.filter.filtersNodes())}}(n,t,I.path,r,o,u):function Mw(n,t,e,r,o,u,f){if(null!=ju(o,e))return t;const m=t.serverCache.isFiltered(),E=t.serverCache;if(null!=r.value){if(Rt(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return dg(n,t,e,E.getNode().getChild(e),o,u,m,f);if(Rt(e)){let I=new un(null);return E.getNode().forEachChild(Xs,(P,N)=>{I=I.set(new Zt(P),N)}),fg(n,t,e,I,o,u,m,f)}return t}{let I=new un(null);return r.foreach((P,N)=>{const G=gn(e,P);E.isCompleteForPath(G)&&(I=I.set(P,E.getNode().getChild(G)))}),fg(n,t,e,I,o,u,m,f)}}(n,t,I.path,I.affectedTree,r,o,u)}else{if(e.type!==to.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);f=function j_(n,t,e,r,o){const u=t.serverCache;return $u(n,N_(t,u.getNode(),u.isFullyInitialized()||Rt(e),u.isFiltered()),e,r,JE,o)}(n,t,e.path,r,u)}const E=u.getChanges();return function Sw(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=ug(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&e.push(HE(ug(t)))}}(t,f,E),{viewCache:f,changes:E}}(n.processor_,o,t,e,r);return function XE(n,t){(0,V.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,V.hu)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,ab(n,u.changes,u.viewCache.eventCache.getNode(),null)}function ab(n,t,e,r){return function sg(n,t,e,r){const o=[],u=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(function ow(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),af(n,o,"child_removed",t,r,e),af(n,o,"child_added",t,r,e),af(n,o,"child_moved",u,r,e),af(n,o,"child_changed",t,r,e),af(n,o,"value",t,r,e),o}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let pg,cd;class lb{constructor(){this.views=new Map}}function W_(n,t,e,r){const o=t.source.queryId;if(null!==o){const u=n.views.get(o);return(0,V.hu)(null!=u,"SyncTree gave us an op for an invalid query."),G_(u,t,e,r)}{let u=[];for(const f of n.views.values())u=u.concat(G_(f,t,e,r));return u}}function z_(n,t,e,r,o){const f=n.views.get(t._queryIdentifier);if(!f){let m=L_(e,o?r:null),E=!1;m?E=!0:r instanceof It?(m=QE(e,r),E=!1):(m=It.EMPTY_NODE,E=!1);const I=yn(new Il(m,E,!1),new Il(r,o,!1));return new rb(t,I)}return f}function cb(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function xa(n,t){let e=null;for(const r of n.views.values())e=e||Nw(r,t);return e}function db(n,t){return t._queryParams.loadsAllData()?ud(n):n.views.get(t._queryIdentifier)}function hb(n,t){return null!=db(n,t)}function Al(n){return null!=ud(n)}function ud(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Vw=1;class pb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new un(null),this.pendingWriteTree_=function oT(){return{visibleWrites:bs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hf(n,t,e,r,o){return function mw(n,t,e,r,o){(0,V.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:o}),o&&(n.visibleWrites=lf(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,o),o?dd(n,new it({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ka(n,t,e=!1){const r=function df(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function _w(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let o=r.visible,u=!1,f=n.allWrites.length-1;for(;o&&f>=0;){const m=n.allWrites[f];m.visible&&(f>=e&&yw(m,r.path)?o=!1:qi(r.path,m.path)&&(u=!0)),f--}return!!o&&(u?(function vw(n){n.visibleWrites=k_(n.allWrites,ZE,jt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=qE(n.visibleWrites,r.path):xn(r.children,E=>{n.visibleWrites=qE(n.visibleWrites,gn(r.path,E))}),!0))}(n.pendingWriteTree_,t)){let u=new un(null);return null!=r.snap?u=u.set(jt(),!0):xn(r.children,f=>{u=u.set(new Zt(f),!0)}),dd(n,new of(r.path,u,e))}return[]}function ff(n,t,e){return dd(n,new it({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function _b(n,t,e,r){const o=t._path,u=n.syncPointTree_.get(o);let f=[];if(u&&("default"===t._queryIdentifier||hb(u,t))){const m=function Lw(n,t,e,r){const o=t._queryIdentifier,u=[];let f=[];const m=Al(n);if("default"===o)for(const[E,I]of n.views.entries())f=f.concat(ob(I,e,r)),sb(I)&&(n.views.delete(E),I.query._queryParams.loadsAllData()||u.push(I.query));else{const E=n.views.get(o);E&&(f=f.concat(ob(E,e,r)),sb(E)&&(n.views.delete(o),E.query._queryParams.loadsAllData()||u.push(E.query)))}return m&&!Al(n)&&u.push(new(function kw(){return(0,V.hu)(pg,"Reference.ts has not been loaded"),pg}())(t._repo,t._path)),{removed:u,events:f}}(u,t,e,r);(function Fw(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const E=m.removed;f=m.events;const I=-1!==E.findIndex(N=>N._queryParams.loadsAllData()),P=n.syncPointTree_.findOnPath(o,(N,G)=>Al(G));if(I&&!P){const N=n.syncPointTree_.subtree(o);if(!N.isEmpty()){const G=function Y_(n){return n.fold((t,e,r)=>{if(e&&Al(e))return[ud(e)];{let o=[];return e&&(o=cb(e)),xn(r,(u,f)=>{o=o.concat(f)}),o}})}(N);for(let te=0;te<G.length;++te){const ce=G[te],Ne=ce.query,Ye=vb(n,ce);n.listenProvider_.startListening(Sl(Ne),mg(n,Ne),Ye.hashFn,Ye.onComplete)}}}!P&&E.length>0&&!r&&(I?n.listenProvider_.stopListening(Sl(t),null):E.forEach(N=>{const G=n.queryToTagMap.get(_g(N));n.listenProvider_.stopListening(Sl(N),G)})),function gf(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const o=_g(r),u=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(u)}}}(n,E)}return f}function yb(n,t,e){const r=t._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(r,(N,G)=>{const te=Wr(N,r);o=o||xa(G,te),u=u||Al(G)});let m,f=n.syncPointTree_.get(r);f?(u=u||Al(f),o=o||xa(f,jt())):(f=new lb,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=o?m=!0:(m=!1,o=It.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((G,te)=>{const ce=xa(te,jt());ce&&(o=o.updateImmediateChild(G,ce))}));const E=hb(f,t);if(!E&&!t._queryParams.loadsAllData()){const N=_g(t);(0,V.hu)(!n.queryToTagMap.has(N),"View does not exist, but we have a tag");const G=function $w(){return Vw++}();n.queryToTagMap.set(N,G),n.tagToQueryMap.set(G,N)}let P=function ub(n,t,e,r,o,u){const f=z_(n,t,r,o,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function $_(n,t){n.eventRegistrations_.push(t)}(f,e),function Pw(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(rn,(u,f)=>{r.push(id(u,f))}),e.isFullyInitialized()&&r.push(HE(e.getNode())),ab(n,r,e.getNode(),t)}(f,e)}(f,t,e,uf(n.pendingWriteTree_,r),o,m);if(!E&&!u){const N=db(f,t);P=P.concat(function Eb(n,t,e){const r=t._path,o=mg(n,t),u=vb(n,e),f=n.listenProvider_.startListening(Sl(t),o,u.hashFn,u.onComplete),m=n.syncPointTree_.subtree(r);if(o)(0,V.hu)(!Al(m.value),"If we're adding a query, it shouldn't be shadowed");else{const E=m.fold((I,P,N)=>{if(!Rt(I)&&P&&Al(P))return[ud(P).query];{let G=[];return P&&(G=G.concat(cb(P).map(te=>te.query))),xn(N,(te,ce)=>{G=G.concat(ce)}),G}});for(let I=0;I<E.length;++I){const P=E[I];n.listenProvider_.stopListening(Sl(P),mg(n,P))}}return f}(n,t,N))}return P}function Fa(n,t,e){const o=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(f,m)=>{const I=xa(m,Wr(f,t));if(I)return I});return F_(o,t,u,e,!0)}function dd(n,t){return jw(t,n.syncPointTree_,null,uf(n.pendingWriteTree_,jt()))}function jw(n,t,e,r){if(Rt(n.path))return K_(n,t,e,r);{const o=t.get(jt());null==e&&null!=o&&(e=xa(o,jt()));let u=[];const f=Mt(n.path),m=n.operationForChild(f),E=t.children.get(f);if(E&&m){const I=e?e.getImmediateChild(f):null,P=U_(r,f);u=u.concat(jw(m,E,I,P))}return o&&(u=u.concat(W_(o,n,r,e))),u}}function K_(n,t,e,r){const o=t.get(jt());null==e&&null!=o&&(e=xa(o,jt()));let u=[];return t.children.inorderTraversal((f,m)=>{const E=e?e.getImmediateChild(f):null,I=U_(r,f),P=n.operationForChild(f);P&&(u=u.concat(K_(P,m,E,I)))}),o&&(u=u.concat(W_(o,n,r,e))),u}function vb(n,t){const e=t.query,r=mg(n,e);return{hashFn:()=>(function ib(n){return n.viewCache_.serverCache.getNode()}(t)||It.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function mb(n,t,e){const r=Z_(n,e);if(r){const o=yg(r),u=o.path,f=o.queryId,m=Wr(u,t);return vg(n,u,new ig(rg(f),m))}return[]}(n,e._path,r):function Uw(n,t){return dd(n,new ig({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function Qc(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(o,e);return _b(n,e,null,u)}}}}function mg(n,t){const e=_g(t);return n.queryToTagMap.get(e)}function _g(n){return n._path.toString()+"$"+n._queryIdentifier}function Z_(n,t){return n.tagToQueryMap.get(t)}function yg(n){const t=n.indexOf("$");return(0,V.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Zt(n.substr(0,t))}}function vg(n,t,e){const r=n.syncPointTree_.get(t);return(0,V.hu)(r,"Missing sync point for query tag that we're tracking"),W_(r,e,uf(n.pendingWriteTree_,t),null)}function Sl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function q_(){return(0,V.hu)(cd,"Reference.ts has not been loaded"),cd}())(n._repo,n._path):n}class Eg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Eg(e)}node(){return this.node_}}class Q_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=gn(this.path_,t);return new Q_(this.syncTree_,e)}node(){return Fa(this.syncTree_,this.path_)}}const bg=function(n,t,e){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Ww(n[".sv"],t,e):"object"==typeof n[".sv"]?aT(n[".sv"],t):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Ww=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,V.hu)(!1,"Unexpected server value: "+n)},aT=function(n,t,e){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,V.hu)(!1,"Unexpected increment value: "+r);const o=t.node();if((0,V.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return"number"!=typeof f?r:f+r},bb=function(n,t,e,r){return Ml(t,new Q_(e,n),r)},J_=function(n,t,e){return Ml(n,new Eg(t),e)};function Ml(n,t,e){const r=n.getPriority().val(),o=bg(r,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const f=n,m=bg(f.getValue(),t,e);return m!==f.getValue()||o!==f.getPriority().val()?new xu(m,mn(o)):n}{const f=n;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new xu(o))),f.forEachChild(rn,(m,E)=>{const I=Ml(E,t.getImmediateChild(m),e);I!==E&&(u=u.updateImmediateChild(m,I))}),u}}class Cg{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function La(n,t){let e=t instanceof Zt?t:new Zt(t),r=n,o=Mt(e);for(;null!==o;){const u=(0,V.DV)(r.node.children,o)||{children:{},childCount:0};r=new Cg(o,r,u),e=nn(e),o=Mt(e)}return r}function hd(n){return n.node.value}function wg(n,t){n.node.value=t,X_(n)}function Cb(n){return n.node.childCount>0}function mf(n,t){xn(n.node.children,(e,r)=>{t(new Cg(e,n,r))})}function zw(n,t,e,r){e&&!r&&t(n),mf(n,o=>{zw(o,t,!0,r)}),e&&r&&t(n)}function Gu(n){return new Zt(null===n.parent?n.name:Gu(n.parent)+"/"+n.name)}function X_(n){null!==n.parent&&function qw(n,t,e){const r=function lT(n){return void 0===hd(n)&&!Cb(n)}(e),o=(0,V.r3)(n.node.children,t);r&&o?(delete n.node.children[t],n.node.childCount--,X_(n)):!r&&!o&&(n.node.children[t]=e.node,n.node.childCount++,X_(n))}(n.parent,n.name,n)}const Kw=/[\[\].#$\/\u0000-\u001F\u007F]/,Zw=/[\[\].#$\u0000-\u001F\u007F]/,ey=10485760,Dg=function(n){return"string"==typeof n&&0!==n.length&&!Kw.test(n)},Db=function(n){return"string"==typeof n&&0!==n.length&&!Zw.test(n)},_f=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!ir(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},Yo=function(n,t,e,r){r&&void 0===t||Va((0,V.gK)(n,"value"),t,e)},Va=function(n,t,e){const r=e instanceof Zt?new ME(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Pu(r));if("function"==typeof t)throw new Error(n+"contains a function "+Pu(r)+" with contents = "+t.toString());if(ir(t))throw new Error(n+"contains "+t.toString()+" "+Pu(r));if("string"==typeof t&&t.length>ey/3&&(0,V.ug)(t)>ey)throw new Error(n+"contains a string greater than "+ey+" utf8 bytes "+Pu(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,u=!1;if(xn(t,(f,m)=>{if(".value"===f)o=!0;else if(".priority"!==f&&".sv"!==f&&(u=!0,!Dg(f)))throw new Error(n+" contains an invalid key ("+f+") "+Pu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function RE(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,V.ug)(t),Q0(n)})(r,f),Va(n,m,r),function OE(n){const t=n.parts_.pop();n.byteLength_-=(0,V.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&u)throw new Error(n+' contains ".value" child '+Pu(r)+" in addition to actual children.")}},ty=function(n,t,e,r){if(r&&void 0===t)return;const o=(0,V.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];xn(t,(f,m)=>{const E=new Zt(f);if(Va(o,m,gn(e,E)),".priority"===__(E)&&!_f(m))throw new Error(o+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(E)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const u=td(r);for(let f=0;f<u.length;f++)if((".priority"!==u[f]||f!==u.length-1)&&!Dg(u[f]))throw new Error(n+"contains an invalid key ("+u[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(SE);let o=null;for(e=0;e<t.length;e++){if(r=t[e],null!==o&&qi(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,u)},Ig=function(n,t,e){if(!e||void 0!==t){if(ir(t))throw new Error((0,V.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_f(t))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fd=function(n,t,e,r){if(!(r&&void 0===e||Dg(e)))throw new Error((0,V.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pd=function(n,t,e,r){if(!(r&&void 0===e||Db(e)))throw new Error((0,V.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cs=function(n,t){if(".info"===Mt(t))throw new Error(n+" failed = Can't modify data under /.info/")},Tb=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Dg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Db(n)}(e))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Jw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tg(n,t){let e=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();null!==e&&!Kp(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(o)}e&&n.eventLists_.push(e)}function ny(n,t,e){Tg(n,e),gd(n,r=>Kp(r,t))}function ws(n,t,e){Tg(n,e),gd(n,r=>qi(r,t)||qi(t,r))}function gd(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(t(o.path)?(Xw(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Xw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();zo&&Vn("event: "+e.toString()),Ou(r)}}}const Ag="repo_interrupt";class eD{constructor(t,e,r,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rf(),this.transactionQueueTree_=new Cg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function md(n){const e=n.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function yf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:md(n)})}function Ab(n,t,e,r,o){n.dataUpdateCount++;const u=new Zt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(o)if(r){const E=(0,V.UI)(e,I=>mn(I));f=function gg(n,t,e,r){const o=Z_(n,r);if(o){const u=yg(o),f=u.path,m=u.queryId,E=Wr(f,t),I=un.fromObject(e);return vg(n,f,new od(rg(m),E,I))}return[]}(n.serverSyncTree_,u,E,o)}else{const E=mn(e);f=function Hw(n,t,e,r){const o=Z_(n,r);if(null!=o){const u=yg(o),f=u.path,m=u.queryId,E=Wr(f,t);return vg(n,f,new it(rg(m),E,e))}return[]}(n.serverSyncTree_,u,E,o)}else if(r){const E=(0,V.UI)(e,I=>mn(I));f=function gb(n,t,e){const r=un.fromObject(e);return dd(n,new od({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,u,E)}else{const E=mn(e);f=ff(n.serverSyncTree_,u,E)}let m=u;f.length>0&&(m=Nl(n,u)),ws(n.eventQueue_,m,f)}function Sb(n,t){_d(n,"connected",t),!1===t&&function iy(n){Rl(n,"onDisconnectEvents");const t=yf(n),e=rf();ng(n.onDisconnect_,jt(),(o,u)=>{const f=bb(o,u,n.serverSyncTree_,t);Lu(e,o,f)});let r=[];ng(e,jt(),(o,u)=>{r=r.concat(ff(n.serverSyncTree_,o,u));const f=Pg(n,o);Nl(n,f)}),n.onDisconnect_=rf(),ws(n.eventQueue_,jt(),r)}(n)}function _d(n,t,e){const r=new Zt("/.info/"+t),o=mn(e);n.infoData_.updateSnapshot(r,o);const u=ff(n.infoSyncTree_,r,o);ws(n.eventQueue_,r,u)}function Mg(n){return n.nextWriteId_++}function Rg(n,t,e,r,o){Rl(n,"set",{path:t.toString(),value:e,priority:r});const u=yf(n),f=mn(e,r),m=Fa(n.serverSyncTree_,t),E=J_(f,m,u),I=Mg(n),P=hf(n.serverSyncTree_,t,E,I,!0);Tg(n.eventQueue_,P),n.server_.put(t.toString(),f.val(!0),(G,te)=>{const ce="ok"===G;ce||In("set at "+t+" failed: "+G);const Ne=ka(n.serverSyncTree_,I,!ce);ws(n.eventQueue_,t,Ne),Ol(0,o,G,te)});const N=Pg(n,t);Nl(n,N),ws(n.eventQueue_,N,[])}function Rb(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&tg(n.onDisconnect_,t),Ol(0,e,r,o)})}function Ob(n,t,e,r){const o=mn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(u,f)=>{"ok"===u&&Lu(n.onDisconnect_,t,o),Ol(0,r,u,f)})}function vf(n,t,e){let r;r=".info"===Mt(t._path)?_b(n.infoSyncTree_,t,e):_b(n.serverSyncTree_,t,e),ny(n.eventQueue_,t._path,r)}function oy(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Ag)}function Rl(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Vn(e,...t)}function Ol(n,t,e,r){t&&Ou(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let u=o;r&&(u+=": "+r);const f=new Error(u);f.code=o,t(f)}})}function ly(n,t,e){return Fa(n.serverSyncTree_,t,e)||It.EMPTY_NODE}function Og(n,t=n.transactionQueueTree_){if(t||Ng(n,t),hd(t)){const e=cy(n,t);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function Nb(n,t,e){const r=e.map(I=>I.currentWriteId),o=ly(n,t,r);let u=o;const f=o.hash();for(let I=0;I<e.length;I++){const P=e[I];(0,V.hu)(0===P.status,"tryToSendTransactionQueue_: items in queue should all be run."),P.status=1,P.retryCount++;const N=Wr(t,P.path);u=u.updateChild(N,P.currentOutputSnapshotRaw)}const m=u.val(!0),E=t;n.server_.put(E.toString(),m,I=>{Rl(n,"transaction put response",{path:E.toString(),status:I});let P=[];if("ok"===I){const N=[];for(let G=0;G<e.length;G++)e[G].status=2,P=P.concat(ka(n.serverSyncTree_,e[G].currentWriteId)),e[G].onComplete&&N.push(()=>e[G].onComplete(null,!0,e[G].currentOutputSnapshotResolved)),e[G].unwatcher();Ng(n,La(n.transactionQueueTree_,t)),Og(n,n.transactionQueueTree_),ws(n.eventQueue_,t,P);for(let G=0;G<N.length;G++)Ou(N[G])}else{if("datastale"===I)for(let N=0;N<e.length;N++)e[N].status=3===e[N].status?4:0;else{In("transaction at "+E.toString()+" failed: "+I);for(let N=0;N<e.length;N++)e[N].status=4,e[N].abortReason=I}Nl(n,t)}},f)}(n,Gu(t),e)}else Cb(t)&&mf(t,e=>{Og(n,e)})}function Nl(n,t){const e=uy(n,t),r=Gu(e);return function Pb(n,t,e){if(0===t.length)return;const r=[];let o=[];const f=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const E=t[m],I=Wr(e,E.path);let N,P=!1;if((0,V.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)P=!0,N=E.abortReason,o=o.concat(ka(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)P=!0,N="maxretry",o=o.concat(ka(n.serverSyncTree_,E.currentWriteId,!0));else{const G=ly(n,E.path,f);E.currentInputSnapshot=G;const te=t[m].update(G.val());if(void 0!==te){Va("transaction failed: Data returned ",te,E.path);let ce=mn(te);"object"==typeof te&&null!=te&&(0,V.r3)(te,".priority")||(ce=ce.updatePriority(G.getPriority()));const Ye=E.currentWriteId,Pt=yf(n),wt=J_(ce,G,Pt);E.currentOutputSnapshotRaw=ce,E.currentOutputSnapshotResolved=wt,E.currentWriteId=Mg(n),f.splice(f.indexOf(Ye),1),o=o.concat(hf(n.serverSyncTree_,E.path,wt,E.currentWriteId,E.applyLocally)),o=o.concat(ka(n.serverSyncTree_,Ye,!0))}else P=!0,N="nodata",o=o.concat(ka(n.serverSyncTree_,E.currentWriteId,!0))}ws(n.eventQueue_,e,o),o=[],P&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&r.push("nodata"===N?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(N),!1,null)))}Ng(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)Ou(r[m]);Og(n,n.transactionQueueTree_)}(n,cy(n,e),r),r}function uy(n,t){let e,r=n.transactionQueueTree_;for(e=Mt(t);null!==e&&void 0===hd(r);)r=La(r,e),e=Mt(t=nn(t));return r}function cy(n,t){const e=[];return dy(n,t,e),e.sort((r,o)=>r.order-o.order),e}function dy(n,t,e){const r=hd(t);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);mf(t,o=>{dy(n,o,e)})}function Ng(n,t){const e=hd(t);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,wg(t,e.length>0?e:void 0)}mf(t,r=>{Ng(n,r)})}function Pg(n,t){const e=Gu(uy(n,t)),r=La(n.transactionQueueTree_,t);return function wb(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,o=>{xg(n,o)}),xg(n,r),zw(r,o=>{xg(n,o)}),e}function xg(n,t){const e=hd(t);if(e){const r=[];let o=[],u=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,V.hu)(u===f-1,"All SENT items should be at beginning of queue."),u=f,e[f].status=3,e[f].abortReason="set"):((0,V.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),o=o.concat(ka(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===u?wg(t,void 0):e.length=u+1,ws(n.eventQueue_,Gu(t),o);for(let f=0;f<r.length;f++)Ou(r[f])}}const hy=function(n,t){const e=fi(n),r=e.namespace;return"firebase.com"===e.domain&&gs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hE(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Zt(e.pathString)}},fi=function(n){let t="",e="",r="",o="",u="",f=!0,m="https",E=443;if("string"==typeof n){let I=n.indexOf("//");I>=0&&(m=n.substring(0,I-1),n=n.substring(I+2));let P=n.indexOf("/");-1===P&&(P=n.length);let N=n.indexOf("?");-1===N&&(N=n.length),t=n.substring(0,Math.min(P,N)),P<N&&(o=function iD(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(u){}t+="/"+o}return t}(n.substring(P,N)));const G=function xb(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):In(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,N)));I=t.indexOf(":"),I>=0?(f="https"===m||"wss"===m,E=parseInt(t.substring(I+1),10)):I=t.length;const te=t.slice(0,I);if("localhost"===te.toLowerCase())e="localhost";else if(te.split(".").length<=2)e=te;else{const ce=t.indexOf(".");r=t.substring(0,ce).toLowerCase(),e=t.substring(ce+1),u=r}"ns"in G&&(u=G.ns)}return{host:t,port:E,domain:e,subdomain:r,secure:f,scheme:m,pathString:o,namespace:u}};class Wu{constructor(t,e,r,o){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Pz)(this.snapshot.exportVal())}}class kb{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Fb{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class sD{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new V.BH;return Rb(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Cs("OnDisconnect.remove",this._path);const t=new V.BH;return Ob(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Cs("OnDisconnect.set",this._path),Yo("OnDisconnect.set",t,this._path,!1);const e=new V.BH;return Ob(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Cs("OnDisconnect.setWithPriority",this._path),Yo("OnDisconnect.setWithPriority",t,this._path,!1),Ig("OnDisconnect.setWithPriority",e,!1);const r=new V.BH;return function nD(n,t,e,r,o){const u=mn(e,r);n.server_.onDisconnectPut(t.toString(),u.val(!0),(f,m)=>{"ok"===f&&Lu(n.onDisconnect_,t,u),Ol(0,o,f,m)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Cs("OnDisconnect.update",this._path),ty("OnDisconnect.update",t,this._path,!1);const e=new V.BH;return function uT(n,t,e,r){if((0,V.xb)(e))return Vn("onDisconnect().update() called with empty data.  Don't do anything."),void Ol(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,u)=>{"ok"===o&&xn(e,(f,m)=>{const E=mn(m);Lu(n.onDisconnect_,gn(t,f),E)}),Ol(0,r,o,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class gr{constructor(t,e,r,o){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return Rt(this._path)?null:__(this._path)}get ref(){return new Ki(this._repo,this._path)}get _queryIdentifier(){const t=O_(this._queryParams),e=bl(t);return"{}"===e?"default":e}get _queryObject(){return O_(this._queryParams)}isEqual(t){if(!((t=(0,V.m9)(t))instanceof gr))return!1;const e=this._repo===t._repo,r=Kp(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function AE(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function kg(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Jo(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ms)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==zn)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===rn){if(null!=t&&!_f(t)||null!=e&&!_f(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof Qp||n.getIndex()===Jp,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fg(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ki extends gr{constructor(t,e){super(t,e,new eg,!1)}get parent(){const t=qp(this._path);return null===t?null:new Ki(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class zu{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Zt(t),r=Pl(this.ref,t);return new zu(this._node.getChild(e),r,rn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>t(new zu(o,Pl(this.ref,r),rn)))}hasChild(t){const e=new Zt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lb(n,t){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==t?Pl(n._root,t):n._root}function Lg(n,t){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const e=hy(t,n._repo.repoInfo_.nodeAdmin);Tb("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&gs("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Lb(n,e.path.toString())}function Pl(n,t){return null===Mt((n=(0,V.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pd("child","path",e,!1)):pd("child","path",t,!1),new Ki(n._repo,gn(n._path,t));var e}function Vb(n,t){n=(0,V.m9)(n),Cs("set",n._path),Yo("set",t,n._path,!1);const e=new V.BH;return Rg(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Ub(n,t){ty("update",t,n._path,!1);const e=new V.BH;return function Mb(n,t,e,r){Rl(n,"update",{path:t.toString(),value:e});let o=!0;const u=yf(n),f={};if(xn(e,(m,E)=>{o=!1,f[m]=bb(gn(t,m),mn(E),n.serverSyncTree_,u)}),o)Vn("update() called with empty data.  Don't do anything."),Ol(0,r,"ok",void 0);else{const m=Mg(n),E=function Bw(n,t,e,r){!function cf(n,t,e,r){(0,V.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=P_(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const o=un.fromObject(e);return dd(n,new od({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,f,m);Tg(n.eventQueue_,E),n.server_.merge(t.toString(),e,(I,P)=>{const N="ok"===I;N||In("update at "+t+" failed: "+I);const G=ka(n.serverSyncTree_,m,!N),te=G.length>0?Nl(n,t):t;ws(n.eventQueue_,te,G),Ol(0,r,I,P)}),xn(e,I=>{const P=Pg(n,gn(t,I));Nl(n,P)}),ws(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Bg(n){return function tD(n,t){const e=function pf(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(I,P)=>{const N=Wr(I,e);r=r||xa(P,N)});let o=n.syncPointTree_.get(e);o?r=r||xa(o,jt()):(o=new lb,n.syncPointTree_=n.syncPointTree_.set(e,o));const u=null!=r,f=u?new Il(r,!0,!1):null;return function Ow(n){return ug(n.viewCache_)}(z_(o,t,uf(n.pendingWriteTree_,t._path),u?f.getNode():It.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const o=mn(r).withIndex(t._queryParams.getIndex()),u=ff(n.serverSyncTree_,t._path,o);return ny(n.eventQueue_,t._path,u),Promise.resolve(o)},r=>(Rl(n,"get for query "+(0,V.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,V.m9)(n))._repo,n).then(t=>new zu(t,new Ki(n._repo,n._path),n._queryParams.getIndex()))}class Ef{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new Wu("value",this,new zu(t.snapshotNode,new Ki(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kb(this,t,e):null}matches(t){return t instanceof Ef&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ug{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kb(this,t,e):null}createEvent(t,e){(0,V.hu)(null!=t.childName,"Child events should have a childName.");const r=Pl(new Ki(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new Wu(t.type,this,new zu(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ug&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qu(n,t,e,r,o){let u;if("object"==typeof r&&(u=void 0,o=r),"function"==typeof r&&(u=r),o&&o.onlyOnce){const E=e,I=(P,N)=>{vf(n._repo,n,m),E(P,N)};I.userCallback=e.userCallback,I.context=e.context,e=I}const f=new Fb(e,u||void 0),m="value"===t?new Ef(f):new Ug(t,f);return function sy(n,t,e){let r;r=".info"===Mt(t._path)?yb(n.infoSyncTree_,t,e):yb(n.serverSyncTree_,t,e),ny(n.eventQueue_,t._path,r)}(n._repo,n,m),()=>vf(n._repo,n,m)}function bf(n,t,e,r){return qu(n,"value",t,e,r)}function lD(n,t,e,r){return qu(n,"child_added",t,e,r)}function Hb(n,t,e,r){return qu(n,"child_changed",t,e,r)}function jb(n,t,e,r){return qu(n,"child_moved",t,e,r)}function py(n,t,e,r){return qu(n,"child_removed",t,e,r)}function gy(n,t,e){let r=null;const o=e?new Fb(e):null;"value"===t?r=new Ef(o):t&&(r=new Ug(t,o)),vf(n._repo,n,r)}class no{}class my extends no{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("endAt",this._value,t._path,!0);const e=M_(t._queryParams,this._value,this._key);if(Fg(e),Jo(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gr(t._repo,t._path,e,t._orderByCalled)}}class uD extends no{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("endBefore",this._value,t._path,!1);const e=function hw(n,t,e){let r,o;return n.index_===Xs?("string"==typeof t&&(t=UE(t)),o=M_(n,t,e)):(r=null==e?ms:UE(e),o=M_(n,t,r)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(Fg(e),Jo(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gr(t._repo,t._path,e,t._orderByCalled)}}class _y extends no{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("startAt",this._value,t._path,!0);const e=S_(t._queryParams,this._value,this._key);if(Fg(e),Jo(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new gr(t._repo,t._path,e,t._orderByCalled)}}class Gb extends no{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yo("startAfter",this._value,t._path,!1);const e=function dw(n,t,e){let r;if(n.index_===Xs)"string"==typeof t&&(t=BE(t)),r=S_(n,t,e);else{let o;o=null==e?zn:BE(e),r=S_(n,t,o)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Fg(e),Jo(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new gr(t._repo,t._path,e,t._orderByCalled)}}class zb extends no{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new gr(t._repo,t._path,function uw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class hD extends no{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new gr(t._repo,t._path,function cw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class cT extends no{constructor(t){super(),this._path=t}_apply(t){kg(t,"orderByChild");const e=new Zt(this._path);if(Rt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Qp(e),o=tf(t._queryParams,r);return Jo(o),new gr(t._repo,t._path,o,!0)}}class dT extends no{_apply(t){kg(t,"orderByKey");const e=tf(t._queryParams,Xs);return Jo(e),new gr(t._repo,t._path,e,!0)}}class fT extends no{_apply(t){kg(t,"orderByPriority");const e=tf(t._queryParams,rn);return Jo(e),new gr(t._repo,t._path,e,!0)}}class gT extends no{_apply(t){kg(t,"orderByValue");const e=tf(t._queryParams,Jp);return Jo(e),new gr(t._repo,t._path,e,!0)}}class _T extends no{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Yo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new my(this._value,this._key)._apply(new _y(this._value,this._key)._apply(t))}}function Oi(n,...t){let e=(0,V.m9)(n);for(const r of t)e=r._apply(e);return e}(function xw(n){(0,V.hu)(!pg,"__referenceConstructor has already been defined"),pg=n})(Ki),function fb(n){(0,V.hu)(!cd,"__referenceConstructor has already been defined"),cd=n}(Ki);const Hg={};function yy(n,t,e,r,o){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vn("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,I,f=hy(u,o),m=f.repoInfo;"undefined"!=typeof process&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(E=!0,u=`http://${I}?ns=${m.namespace}`,f=hy(u,o),m=f.repoInfo):E=!f.repoInfo.secure;const P=o&&E?new Gh(Gh.OWNER):new sE(n.name,n.options,t);Tb("Invalid Firebase Database URL",f),Rt(f.path)||gs("Database URL must point to the root of a Firebase Database (not including a child path).");const N=function vy(n,t,e,r){let o=Hg[t.name];o||(o={},Hg[t.name]=o);let u=o[n.toURLString()];return u&&gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new eD(n,false,e,r),o[n.toURLString()]=u,u}(m,n,P,new iE(n.name,e));return new pD(N,n)}class pD{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ry(n,t,e){if(n.stats_=pE(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new nf(n.repoInfo_,(r,o,u,f)=>{Ab(n,r,o,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Sb(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Cl(n.repoInfo_,t,(r,o,u,f)=>{Ab(n,r,o,u,f)},r=>{Sb(n,r)},r=>{!function Sg(n,t){xn(t,(e,r)=>{_d(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function tT(n,t){const e=n.toString();return fE[e]||(fE[e]=t()),fE[e]}(n.repoInfo_,()=>new sd(n.stats_,n.server_)),n.infoData_=new jE,n.infoSyncTree_=new pb({startListening:(r,o,u,f)=>{let m=[];const E=n.infoData_.getNode(r._path);return E.isEmpty()||(m=ff(n.infoSyncTree_,r._path,E),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),_d(n,"connected",!1),n.serverSyncTree_=new pb({startListening:(r,o,u,f)=>(n.server_.listen(r,u,o,(m,E)=>{const I=f(m,E);ws(n.eventQueue_,r._path,I)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ki(this._repo,jt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ET(n,t){const e=Hg[t];(!e||e[n.key]!==n)&&gs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),oy(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&gs("Cannot call "+t+" on a deleted database.")}}function Ey(n,t){tE(n,t)}const CT={".sv":"timestamp"};class vD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Cl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Cl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function yD(n){Xm(zc.SDK_VERSION),(0,zc._registerComponent)(new Iu.wA("database",(t,{instanceIdentifier:e})=>yy(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,zc.registerVersion)(Jm,"0.12.8",n),(0,zc.registerVersion)(Jm,"0.12.8","esm2017")}();const CD=new V0("@firebase/database-compat"),Ds=function(n){CD.warn("FIREBASE WARNING: "+n)};class DD{constructor(t){this._delegate=t}cancel(t){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(t,e);return r&&o.then(()=>r(null),u=>r(u)),o}update(t,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let u=0;u<t.length;++u)o[""+u]=t[u];t=o,Ds("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),o=>e(o)),r}}class ID{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xo{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),pd("DataSnapshot.child","path",t,!1),new Xo(this._database,this._delegate.child(t))}hasChild(t){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),pd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Xo(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ni(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class mr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,o){var u;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const f=mr.getCancelAndContextArgs_("Query.on",r,o),m=(I,P)=>{e.call(f.context,new Xo(this.database,I),P)};m.userCallback=e,m.context=f.context;const E=null===(u=f.cancel)||void 0===u?void 0:u.bind(f.context);switch(t){case"value":return bf(this._delegate,m,E),e;case"child_added":return lD(this._delegate,m,E),e;case"child_removed":return py(this._delegate,m,E),e;case"child_changed":return Hb(this._delegate,m,E),e;case"child_moved":return jb(this._delegate,m,E),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,gy(this._delegate,t,o)}else gy(this._delegate,t)}get(){return Bg(this._delegate).then(t=>new Xo(this.database,t))}once(t,e,r,o){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const u=mr.getCancelAndContextArgs_("Query.once",r,o),f=new V.BH,m=(I,P)=>{const N=new Xo(this.database,I);e&&e.call(u.context,N,P),f.resolve(N)};m.userCallback=e,m.context=u.context;const E=I=>{u.cancel&&u.cancel.call(u.context,I),f.reject(I)};switch(t){case"value":bf(this._delegate,m,E,{onlyOnce:!0});break;case"child_added":lD(this._delegate,m,E,{onlyOnce:!0});break;case"child_removed":py(this._delegate,m,E,{onlyOnce:!0});break;case"child_changed":Hb(this._delegate,m,E,{onlyOnce:!0});break;case"child_moved":jb(this._delegate,m,E,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new mr(this.database,Oi(this._delegate,function qb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zb(n)}(t)))}limitToLast(t){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new mr(this.database,Oi(this._delegate,function fD(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hD(n)}(t)))}orderByChild(t){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new mr(this.database,Oi(this._delegate,function Kb(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pd("orderByChild","path",n,!1),new cT(n)}(t)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new mr(this.database,Oi(this._delegate,function hT(){return new dT}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new mr(this.database,Oi(this._delegate,function pT(){return new fT}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new mr(this.database,Oi(this._delegate,function mT(){return new gT}()))}startAt(t=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new mr(this.database,Oi(this._delegate,function dD(n=null,t){return fd("startAt","key",t,!0),new _y(n,t)}(t,e)))}startAfter(t=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new mr(this.database,Oi(this._delegate,function Wb(n,t){return fd("startAfter","key",t,!0),new Gb(n,t)}(t,e)))}endAt(t=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new mr(this.database,Oi(this._delegate,function $b(n,t){return fd("endAt","key",t,!0),new my(n,t)}(t,e)))}endBefore(t=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new mr(this.database,Oi(this._delegate,function cD(n,t){return fd("endBefore","key",t,!0),new uD(n,t)}(t,e)))}equalTo(t,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new mr(this.database,Oi(this._delegate,function yT(n,t){return fd("equalTo","key",t,!0),new _T(n,t)}(t,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof mr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,V.Wj)(t,"cancel",o.cancel,!0),o.context=r,(0,V.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Ni(this.database,new Ki(this._delegate._repo,this._delegate._path))}}class Ni extends mr{constructor(t,e){super(t,new gr(e._repo,e._path,new eg,!1)),this.database=t,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ni(this.database,Pl(this._delegate,t))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ni(this.database,t):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new Ni(this.database,this._delegate.root)}set(t,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const r=Vb(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}update(t,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let u=0;u<t.length;++u)o[""+u]=t[u];t=o,Ds("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Cs("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const r=Ub(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function aD(n,t,e){if(Cs("setWithPriority",n._path),Yo("setWithPriority",t,n._path,!1),Ig("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new V.BH;return Rg(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&o.then(()=>r(null),u=>r(u)),o}remove(t){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",t,!0);const e=function fy(n){return Cs("remove",n._path),Vb(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function ED(n,t,e){var r;if(n=(0,V.m9)(n),Cs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,u=new V.BH,m=bf(n,()=>{});return function rD(n,t,e,r,o,u){Rl(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:Xv(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=ly(n,t,void 0);f.currentInputSnapshot=m;const E=f.update(m.val());if(void 0===E)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{Va("transaction failed: Data returned ",E,f.path),f.status=0;const I=La(n.transactionQueueTree_,t),P=hd(I)||[];let N;P.push(f),wg(I,P),"object"==typeof E&&null!==E&&(0,V.r3)(E,".priority")?(N=(0,V.DV)(E,".priority"),(0,V.hu)(_f(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(Fa(n.serverSyncTree_,t)||It.EMPTY_NODE).getPriority().val();const G=yf(n),te=mn(E,N),ce=J_(te,m,G);f.currentOutputSnapshotRaw=te,f.currentOutputSnapshotResolved=ce,f.currentWriteId=Mg(n);const Ne=hf(n.serverSyncTree_,t,ce,f.currentWriteId,f.applyLocally);ws(n.eventQueue_,t,Ne),Og(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,I,P)=>{let N=null;E?u.reject(E):(N=new zu(P,new Ki(n._repo,n._path),rn),u.resolve(new vD(I,N)))},m,o),u.promise}(this._delegate,t,{applyLocally:r}).then(u=>new ID(u.committed,new Xo(this.database,u.snapshot)));return e&&o.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),o}setPriority(t,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const r=function Bb(n,t){n=(0,V.m9)(n),Cs("setPriority",n._path),Ig("setPriority",t,!1);const e=new V.BH;return Rg(n._repo,gn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}push(t,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const r=function Vg(n,t){n=(0,V.m9)(n),Cs("push",n._path),Yo("push",t,n._path,!0);const e=md(n._repo),r=VE(e),o=Pl(n,r),u=Pl(n,r);let f;return f=null!=t?Vb(u,t).then(()=>u):Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}(this._delegate,t),o=r.then(f=>new Ni(this.database,f));e&&o.then(()=>e(null),f=>e(f));const u=new Ni(this.database,r);return u.then=o.then.bind(o),u.catch=o.catch.bind(o,void 0),u}onDisconnect(){return Cs("Reference.onDisconnect",this._delegate._path),new DD(new sD(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cf{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function bT(n,t,e,r={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gs("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let u;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Gh(Gh.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,V.Sg)(r.mockUserToken,n.app.options.projectId);u=new Gh(f)}!function Zb(n,t,e,r){n.repoInfo_=new hE(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,t,e,u)}(this._delegate,t,e,r)}ref(t){if((0,V.Dv)("database.ref",0,1,arguments.length),t instanceof Ni){const e=Lg(this._delegate,t.toString());return new Ni(this,e)}{const e=Lb(this._delegate,t);return new Ni(this,e)}}refFromURL(t){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const r=Lg(this._delegate,t);return new Ni(this,r)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function mD(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),oy(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function _D(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function ay(n){n.persistentConnection_&&n.persistentConnection_.resume(Ag)}(n._repo)}(this._delegate)}}Cf.ServerValue={TIMESTAMP:function wT(){return CT}(),increment:n=>function DT(n){return{".sv":{increment:n}}}(n)};var TD=Object.freeze({__proto__:null,initStandalone:function Qb({app:n,url:t,version:e,customAuthImpl:r,namespace:o,nodeAdmin:u=!1}){Xm(e);const f=new Iu.zt("auth-internal",new Iu.H0("database-standalone"));return f.setComponent(new Iu.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Cf(yy(n,f,void 0,t,u),n),namespace:o}}});const AD=Cf.ServerValue;!function SD(n){n.INTERNAL.registerComponent(new Iu.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new Cf(o,r)},"PUBLIC").setServiceProps({Reference:Ni,Query:mr,Database:Cf,DataSnapshot:Xo,enableLogging:Ey,INTERNAL:TD,ServerValue:AD}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(L0.Z);var yd=F(5363),Ku=F(6063);class Jb extends $r.x{constructor(t=1/0,e=1/0,r=Ku.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:f}=this;e||(r.push(t),!o&&r.push(u.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let f=0;f<u.length&&!t.closed;f+=r?1:2)t.next(u[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*t;if(t<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const f=e.now();let m=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)m=E;m&&r.splice(0,m+1)}}}function wy(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=null!=n?n:1/0,(0,xp.B)({connector:()=>new Jb(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Xb(n,t){return(0,vh.m)(t)?rr(()=>n,t):rr(()=>n)}var eC=F(9468);F(5694);const Iy=[];var cn=(()=>{return(n=cn||(cn={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",cn;var n})();const LD={debug:cn.DEBUG,verbose:cn.VERBOSE,info:cn.INFO,warn:cn.WARN,error:cn.ERROR,silent:cn.SILENT},ST=cn.INFO,oC={[cn.DEBUG]:"log",[cn.VERBOSE]:"log",[cn.INFO]:"info",[cn.WARN]:"warn",[cn.ERROR]:"error"},VD=(n,t,...e)=>{if(t<n.logLevel)return;const r=(new Date).toISOString(),o=oC[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${n.name}:`,...e)},UD=new Map,RT={activated:!1,tokenObservers:[]},OT={initialized:!1,enabled:!1};function Or(n){return UD.get(n)||RT}function ro(n,t){UD.set(n,t)}function Zu(){return OT}class My{constructor(t,e,r,o,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Wc.Z)(function*(){e.stop();try{e.pending=new V.BH,yield function jD(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Nr=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $D(n){if(!Or(n).activated)throw Nr.create("use-before-activation",{appName:n.name})}function Gg(n,t){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,Wc.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(t),headers:r};let f,m;try{f=yield fetch(n,u)}catch(N){throw Nr.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==f.status)throw Nr.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(N){throw Nr.create("fetch-parse-error",{originalErrorMessage:N.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(E[1]),P=Date.now();return{token:m.attestationToken,expireTimeMillis:P+I,issuedAtTimeMillis:P}})).apply(this,arguments)}function zD(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const vd="firebase-app-check-store";let Wg=null;function Py(){return Wg||(Wg=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(Nr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vd,{keyPath:"compositeKey"})}}catch(e){t(Nr.create("storage-open",{originalErrorMessage:e.message}))}}),Wg)}function Fy(){return(Fy=(0,Wc.Z)(function*(n,t){const r=(yield Py()).transaction(vd,"readwrite"),u=r.objectStore(vd).put({compositeKey:n,value:t});return new Promise((f,m)=>{u.onsuccess=E=>{f()},r.onerror=E=>{var I;m(Nr.create("storage-set",{originalErrorMessage:null===(I=E.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const wf=new class BD{constructor(t){this.name=t,this._logLevel=ST,this._logHandler=VD,this._userLogHandler=null,Iy.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in cn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?LD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,cn.DEBUG,...t),this._logHandler(this,cn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,cn.VERBOSE,...t),this._logHandler(this,cn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,cn.INFO,...t),this._logHandler(this,cn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,cn.WARN,...t),this._logHandler(this,cn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,cn.ERROR,...t),this._logHandler(this,cn.ERROR,...t)}}("@firebase/app-check");function KD(n,t){return(0,V.hl)()?function PT(n,t){return function fC(n,t){return Fy.apply(this,arguments)}(function gC(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{wf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function yC(){return Zu().enabled}function ZD(){return vC.apply(this,arguments)}function vC(){return(vC=(0,Wc.Z)(function*(){const n=Zu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const LT={error:"UNKNOWN_ERROR"};function i(n){return V.US.encodeString(JSON.stringify(n),!1)}function s(n){return a.apply(this,arguments)}function a(){return(a=(0,Wc.Z)(function*(n,t=!1){const e=n.app;$D(e);const r=Or(e);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&C(E)&&(o=E)}if(!t&&o&&C(o))return{token:o.token};let m,f=!1;if(yC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Gg(zD(e,yield ZD()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),f=!0);const E=yield r.exchangeTokenPromise;return yield KD(e,E),ro(e,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?wf.warn(E.message):wf.error(E),u=E}return o?(m={token:o.token},ro(e,Object.assign(Object.assign({},r),{token:o})),yield KD(e,o)):m=S(u),f&&b(e,m),m})).apply(this,arguments)}function c(n,t){const e=Or(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ro(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function p(n){const{app:t}=n,e=Or(t);let r=e.tokenRefresher;r||(r=function y(n){const{app:t}=n;return new My((0,Wc.Z)(function*(){let r;if(r=Or(t).token?yield s(n,!0):yield s(n),r.error)throw r.error}),()=>!0,()=>{const e=Or(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ro(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function b(n,t){const e=Or(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(o){}}function C(n){return n.expireTimeMillis-Date.now()>0}function S(n){return{token:i(LT),error:n}}class M{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Or(this.app);for(const e of t)c(this.app,e.next);return Promise.resolve()}}const VT="app-check-internal";!function xS(){(0,zc._registerComponent)(new Iu.wA("app-check",n=>function k(n,t){return new M(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(VT).initialize()})),(0,zc._registerComponent)(new Iu.wA(VT,n=>function j(n){return{getToken:t=>s(n,t),addTokenListener:t=>function l(n,t,e,r){const{app:o}=n,u=Or(o),f={next:e,error:r,type:t};if(ro(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,f]})),u.token&&C(u.token)){const m=u.token;Promise.resolve().then(()=>{e({token:m.token}),p(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>p(n))}(n,"INTERNAL",t),removeTokenListener:t=>c(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,zc.registerVersion)("@firebase/app-check","0.5.6")}();class JD{constructor(){return(0,zi.vb)("app-check")}}"undefined"!=typeof window&&window;var BS=F(7554);const UT=new h.OlP("angularfire2.auth.use-emulator"),HT=new h.OlP("angularfire2.auth.settings"),jT=new h.OlP("angularfire2.auth.tenant-id"),$T=new h.OlP("angularfire2.auth.langugage-code"),GT=new h.OlP("angularfire2.auth.use-device-language"),WT=new h.OlP("angularfire.auth.persistence"),zT=(n,t,e,r,o,u,f,m)=>(0,Wo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),f)for(const[I,P]of Object.entries(f))E.settings[I]=P;return m&&E.setPersistence(m),E},[e,r,o,u,f,m]);let qT=(()=>{class n{constructor(e,r,o,u,f,m,E,I,P,N,G,te){const ce=new $r.x,Ne=je(void 0).pipe((0,yd.Q)(f.outsideAngular),rr(()=>u.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,3755)))),(0,ot.U)(()=>(0,Wo.on)(e,u,r)),(0,ot.U)(Ye=>zT(Ye,u,m,I,P,N,E,G)),wy({bufferSize:1,refCount:!1}));if(function $a(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=je(null);else{Ne.pipe(Bo()).subscribe();const Pt=Ne.pipe(rr(St=>St.getRedirectResult().then(Pr=>Pr,()=>null)),zi.iC,wy({bufferSize:1,refCount:!1})),wt=Ne.pipe(rr(St=>new Ci.y(Pr=>({unsubscribe:u.runOutsideAngular(()=>St.onAuthStateChanged(zr=>Pr.next(zr),zr=>Pr.error(zr),()=>Pr.complete()))})))),Yt=Ne.pipe(rr(St=>new Ci.y(Pr=>({unsubscribe:u.runOutsideAngular(()=>St.onIdTokenChanged(zr=>Pr.next(zr),zr=>Pr.error(zr),()=>Pr.complete()))}))));this.authState=Pt.pipe(Xb(wt),(0,eC.R)(f.outsideAngular),(0,yd.Q)(f.insideAngular)),this.user=Pt.pipe(Xb(Yt),(0,eC.R)(f.outsideAngular),(0,yd.Q)(f.insideAngular)),this.idToken=this.user.pipe(rr(St=>St?(0,Mn.D)(St.getIdToken()):je(null))),this.idTokenResult=this.user.pipe(rr(St=>St?(0,Mn.D)(St.getIdTokenResult()):je(null))),this.credential=(0,Pp.T)(Pt,ce,this.authState.pipe(Dn(St=>!St))).pipe((0,ot.U)(St=>(null==St?void 0:St.user)?St:null),(0,eC.R)(f.outsideAngular),(0,yd.Q)(f.insideAngular))}return(0,Wo.pX)(this,Ne,u,{spy:{apply:(Ye,Pt,wt)=>{(Ye.startsWith("signIn")||Ye.startsWith("createUser"))&&wt.then(Yt=>ce.next(Yt))}}})}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Wo.Dh),h.LFG(Wo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(zi.HU),h.LFG(UT,8),h.LFG(HT,8),h.LFG(jT,8),h.LFG($T,8),h.LFG(GT,8),h.LFG(WT,8),h.LFG(JD,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function KT(n){return null==n}function ZT(n){return"function"==typeof n.set}function YT(n,t){return ZT(t)?t:n.ref(t)}function QT(n,t){if(function HS(n){return"string"==typeof n}(n))return t.stringCase();if(ZT(n))return t.firebaseCase();if(function jS(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Uy(n,t,e="on",r=Zv.z){return new Ci.y(o=>{let u=null;return u=n[e](t,(f,m)=>{r.schedule(()=>{o.next({snapshot:f,prevKey:m})}),"once"===e&&r.schedule(()=>o.complete())},f=>{r.schedule(()=>o.error(f))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,ot.U)(o=>{const{snapshot:u,prevKey:f}=o;let m=null;return u.exists()&&(m=u.key),{type:t,payload:u,prevKey:f,key:m}}),(0,xp.B)())}function JT(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function WS(n,t){const{payload:e,prevKey:r,key:o}=t,u=JT(n,o),f=function GS(n,t){if(KT(t))return 0;{const e=JT(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(E=>{const I={payload:E,type:"value",prevKey:m,key:E.key};return m=E.key,n=[...n,I],!1})}return n;case"child_added":if(u>-1){const m=n[u-1];(m&&m.key||null)!==r&&(n=n.filter(E=>E.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===o?t:m);case"child_moved":if(u>-1){const m=n.splice(u,1)[0];return(n=n.slice()).splice(f,0,m),n}return n;default:return n}}function XT(n){return(KT(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function eA(n,t,e){return function $S(n,t,e){return Uy(n,"value","once",e).pipe(rr(r=>{const o=[je(r)];return t.forEach(u=>o.push(Uy(n,u,"on",e))),(0,Pp.T)(...o).pipe(gu(WS,[]))}),Zm())}(n,t=XT(t),e)}function tA(n,t,e){const r=(t=XT(t)).map(o=>Uy(n,o,"on",e));return(0,Pp.T)(...r)}function nA(n,t){return function(r,o){return QT(r,{stringCase:()=>n.child(r)[t](o),firebaseCase:()=>r[t](o),snapshotCase:()=>r.ref[t](o)})}}function ZS(n){return function(e){return e?QT(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function rA(n,t){return function(){return Uy(n,"value","on",t)}}const JS=new h.OlP("angularfire2.realtimeDatabaseURL"),XS=new h.OlP("angularfire2.database.use-emulator");let iA=(()=>{class n{constructor(e,r,o,u,f,m,E,I,P,N,G,te,ce,Ne,Ye){this.schedulers=m;const Pt=E,wt=(0,Wo.on)(e,f,r);I&&zT(wt,f,P,G,te,ce,N,Ne),this.database=(0,Wo.cc)(`${wt.name}.database.${o}`,"AngularFireDatabase",wt.name,()=>{const Yt=f.runOutsideAngular(()=>wt.database(o||void 0));return Pt&&Yt.useEmulator(...Pt),Yt},[Pt])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>YT(this.database,e));let u=o;return r&&(u=r(o)),function YS(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:nA(r,"update"),set:nA(r,"set"),push:o=>r.push(o),remove:ZS(r),snapshotChanges:o=>eA(n,o,e).pipe(zi.iC),stateChanges:o=>tA(n,o,e).pipe(zi.iC),auditTrail:o=>function zS(n,t,e){return function KS(n,t,e){return function qS(n,t){return Uy(n,"value","on",t).pipe((0,ot.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function x0(...n){const t=(0,fn.jO)(n);return(0,Wn.e)((e,r)=>{const o=n.length,u=new Array(o);let f=n.map(()=>!1),m=!1;for(let E=0;E<o;E++)(0,wi.Xf)(n[E]).subscribe((0,_n.x)(r,I=>{u[E]=I,!m&&!f[E]&&(f[E]=!0,(m=f.every(dl.y))&&(f=null))},Yv.Z));e.subscribe((0,_n.x)(r,E=>{if(m){const I=[E,...u];r.next(t?t(...I):I)}}))})}(t),(0,ot.U)(([o,u])=>{const f=o.lastKeyToLoad,m=u.map(E=>E.key);return{actions:u,lastKeyToLoad:f,loadedKeys:m}}),function k0(n){return(0,Wn.e)((t,e)=>{let r=!1,o=0;t.subscribe((0,_n.x)(e,u=>(r||(r=!n(u,o++)))&&e.next(u)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,ot.U)(o=>o.actions))}(n,tA(n,t).pipe(gu((o,u)=>[...o,u],[])),e)}(n,o,e).pipe(zi.iC),valueChanges:(o,u)=>eA(n,o,e).pipe((0,ot.U)(m=>m.map(E=>u&&u.idField?Object.assign(Object.assign({},E.payload.val()),{[u.idField]:E.key}):E.payload.val())),zi.iC)}}(u,this)}object(e){return function QS(n,t){return{query:n,snapshotChanges:()=>rA(n,t.schedulers.outsideAngular)().pipe(zi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>rA(n,t.schedulers.outsideAngular)().pipe(zi.iC,(0,ot.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>YT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Wo.Dh),h.LFG(Wo.xv,8),h.LFG(JS,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(zi.HU),h.LFG(XS,8),h.LFG(qT,8),h.LFG(UT,8),h.LFG(HT,8),h.LFG(jT,8),h.LFG($T,8),h.LFG(GT,8),h.LFG(WT,8),h.LFG(JD,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eM=(()=>{class n{constructor(){BS.Z.registerVersion("angularfire",zi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[iA]}),n})(),eI=(()=>{class n{constructor(e){this.db=e,this.dbSongs="/songs",this.songsRef=e.list(this.dbSongs)}getAll(){return this.songsRef}createSong(e){return this.songsRef.push(e)}getSong(e){return this.db.object("/songs/"+e)}updateSong(e,r){return this.songsRef.update(e,r)}deleteSong(e){return this.songsRef.remove(e)}deleteSongs(){return this.songsRef.remove()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(iA))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tM(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"tr",6),h.NdJ("click",function(){const o=h.CHM(e),u=o.$implicit,f=o.index;return h.oxw().configList(u,f)}),h.TgZ(1,"td")(2,"span",7),h._uU(3),h.qZA()(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td")(7,"button",8),h.NdJ("click",function(){const u=h.CHM(e).$implicit;return h.oxw().getDetails(u)}),h._uU(8,"Details"),h.qZA()(),h.TgZ(9,"td")(10,"button",9),h.NdJ("click",function(){const u=h.CHM(e).$implicit;return h.oxw().updateForm(u)}),h._uU(11,"Update"),h.qZA()(),h.TgZ(12,"td")(13,"button",10),h.NdJ("click",function(){const u=h.CHM(e).$implicit;return h.oxw().deleteSong(u)}),h._uU(14,"Delete"),h.qZA()()()}if(2&n){const e=t.$implicit,r=t.index,o=h.oxw();h.ekj("active",r==o.indexList),h.xp6(3),h.Oqu(r+1),h.xp6(2),h.hij(" ",e.title," ")}}let sA=(()=>{class n{constructor(e,r){this.songsService=e,this.router=r,this.indexList=-1}ngOnInit(){this.getDatesDB()}updateList(){this.song=void 0,this.indexList=-1,this.getDatesDB()}getDatesDB(){this.songsService.getAll().snapshotChanges().pipe((0,ot.U)(e=>e.map(r=>Object.assign({id:r.payload.key},r.payload.val())))).subscribe(e=>{this.songsList=e})}deleteList(){this.songsService.deleteSongs().then(()=>this.updateList()).catch(e=>console.log(e))}deleteSong(e){this.songsService.deleteSong(e.id).then(()=>this.updateList()).catch(r=>console.log(r))}setActive(e,r){this.song=e,this.indexList=r}configList(e,r){this.song=e,this.indexList=r}getDetails(e){this.router.navigate(["/description",e.id])}updateForm(e){this.router.navigate(["/update",e.id])}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(eI),h.Y36(Rr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-song"]],decls:11,vars:1,consts:[[1,"container","items"],[1,"col-md-12"],[1,"col-md-7","mb-4"],[1,"d-flex","justify-content-end","mb-2"],[1,"btn","btn-danger","deleteAll",3,"click"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"badge"],[1,"btn","btn-primary","buttonTable",3,"click"],[1,"btn","btn-warning","buttonTable",3,"click"],[1,"btn","btn-danger","buttonTable",3,"click"]],template:function(e,r){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),h._uU(4,"Songs list"),h.qZA()(),h.TgZ(5,"div")(6,"div",3)(7,"button",4),h.NdJ("click",function(){return r.deleteList()}),h._uU(8,"Delete All"),h.qZA()(),h.TgZ(9,"table"),h.YNc(10,tM,15,4,"tr",5),h.qZA()()()()),2&e&&(h.xp6(10),h.Q6J("ngForOf",r.songsList))},directives:[Cn],styles:[""]}),n})();function nM(n,t){if(1&n&&(h.TgZ(0,"div",3)(1,"div",4)(2,"h3"),h._uU(3),h.qZA()(),h.TgZ(4,"ul",5)(5,"li",6),h._uU(6),h.qZA(),h.TgZ(7,"li",6),h._uU(8),h.qZA(),h.TgZ(9,"li",6),h._uU(10),h.qZA(),h.TgZ(11,"li",6),h._uU(12),h.qZA()()()),2&n){const e=h.oxw();h.xp6(3),h.hij("Description of: ",e.title,""),h.xp6(3),h.hij("Artist: ",e.artist,""),h.xp6(2),h.hij("Global Sales: ",e.globalSales,""),h.xp6(2),h.hij("Music Genre: ",e.musicGenre,""),h.xp6(2),h.hij("Release date: ",e.releaseDate,"")}}function rM(n,t){1&n&&(h.TgZ(0,"div",3)(1,"div",4)(2,"h3"),h._uU(3,"Description:"),h.qZA()(),h.TgZ(4,"p",5),h._uU(5,"No song selected."),h.qZA()())}let tI=(()=>{class n{constructor(e,r){this.songsService=e,this.route=r,this.id=""}ngOnInit(){this.id=this.route.snapshot.params.key,this.getSong()}getSong(){this.songsService.getSong(this.id).valueChanges().subscribe(e=>{this.song=e,this.title=this.song.title,this.artist=this.song.artist,this.globalSales=this.song.globalSales,this.musicGenre=this.song.musicGenre,this.releaseDate=this.song.releaseDate})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(eI),h.Y36(Ma))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-description"]],decls:4,vars:2,consts:[[1,"container","items"],[1,"col-md-12"],["class","card",4,"ngIf"],[1,"card"],[1,"col-md-7","mt-4","description"],[1,"card-body","descriptionBody"],[1,"mb-2"]],template:function(e,r){1&e&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,nM,13,5,"div",2),h.YNc(3,rM,6,0,"div",2),h.qZA()()),2&e&&(h.xp6(2),h.Q6J("ngIf",r.id),h.xp6(1),h.Q6J("ngIf",!r.id))},directives:[br],styles:[""]}),n})();class iM{}let nI=(()=>{class n{constructor(e,r,o){this.songsServices=e,this.router=r,this.router2=o,this.id="",this.song=new iM,this.status=!1}saveSongs(){this.id?(console.log(this.song.artist),this.songsServices.updateSong(this.id,{title:this.song.title,artist:this.song.artist,globalSales:this.song.globalSales,musicGenre:this.song.musicGenre,releaseDate:this.song.releaseDate}).then(()=>{console.log("The song was updated successfully."),this.status=!0,this.status&&this.router.navigate(["/list"])})):this.id||this.songsServices.createSong(this.song).then(()=>{console.log("The song was created and saved successfully."),this.status=!0,this.status&&this.router.navigate(["/list"])})}ngOnInit(){this.id=this.router2.snapshot.params.id,this.id&&this.getSong()}onSelect(){this.router.navigate(["/list"])}getSong(){this.songsServices.getSong(this.id).valueChanges().subscribe(e=>{this.song=e,this.title=this.song.title,this.artist=this.song.artist,this.globalSales=this.song.globalSales,this.musicGenre=this.song.musicGenre,this.releaseDate=this.song.releaseDate})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(eI),h.Y36(Rr),h.Y36(Ma))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-form"]],decls:34,vars:11,consts:[[1,"container","mt-1","d-flex","justify-content-center"],[1,"abs-center","col-md-6"],[1,"border","p-3","shadow","p-3","mb-5","bg-white","rounded"],[1,"row","mb-4"],[1,"col-4"],[1,"col-6","add"],["src","../../assets/music.svg","alt","music"],[1,"form-group","mb-3"],["for","title"],["type","text","name","title","id","title",1,"form-control","rounded",3,"value","ngModel","ngModelChange"],["for","artist"],["type","text","name","artist","id","artist",1,"form-control","rounded",3,"value","ngModel","ngModelChange"],["for","releaseDate"],["type","text","name","releaseDate","id","releaseDate",1,"form-control","rounded",3,"value","ngModel","ngModelChange"],["for","globalSales"],["type","text","name","globalSales","id","globalSales",1,"form-control","rounded",3,"value","ngModel","ngModelChange"],["for","musicGenre"],["type","text","name","musicGenre","id","musicGenre",1,"form-control","rounded",3,"value","ngModel","ngModelChange"],[1,"d-flex","justify-content-end"],[1,"btn","btn-danger","mt-2",3,"click"],[1,"btn","btn-success","mt-2",3,"click"]],template:function(e,r){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3),h._UZ(4,"div",4),h.TgZ(5,"div",5),h._uU(6,"NEW SONG "),h._UZ(7,"img",6),h.qZA()(),h.TgZ(8,"div")(9,"div",7)(10,"label",8),h._uU(11,"Title:"),h.qZA(),h.TgZ(12,"input",9),h.NdJ("ngModelChange",function(u){return r.song.title=u}),h.qZA()(),h.TgZ(13,"div",7)(14,"label",10),h._uU(15,"Artist:"),h.qZA(),h.TgZ(16,"input",11),h.NdJ("ngModelChange",function(u){return r.song.artist=u}),h.qZA()(),h.TgZ(17,"div",7)(18,"label",12),h._uU(19,"Release date:"),h.qZA(),h.TgZ(20,"input",13),h.NdJ("ngModelChange",function(u){return r.song.releaseDate=u}),h.qZA()(),h.TgZ(21,"div",7)(22,"label",14),h._uU(23,"Global Sales:"),h.qZA(),h.TgZ(24,"input",15),h.NdJ("ngModelChange",function(u){return r.song.globalSales=u}),h.qZA()(),h.TgZ(25,"div",7)(26,"label",16),h._uU(27,"Music genre:"),h.qZA(),h.TgZ(28,"input",17),h.NdJ("ngModelChange",function(u){return r.song.musicGenre=u}),h.qZA()()(),h.TgZ(29,"div",18)(30,"button",19),h.NdJ("click",function(){return r.onSelect()}),h._uU(31,"Cancel"),h.qZA(),h.TgZ(32,"button",20),h.NdJ("click",function(){return r.saveSongs()}),h._uU(33),h.qZA()()()()()),2&e&&(h.xp6(12),h.s9C("value",r.title),h.Q6J("ngModel",r.song.title),h.xp6(4),h.s9C("value",r.artist),h.Q6J("ngModel",r.song.artist),h.xp6(4),h.s9C("value",r.releaseDate),h.Q6J("ngModel",r.song.releaseDate),h.xp6(4),h.s9C("value",r.globalSales),h.Q6J("ngModel",r.song.globalSales),h.xp6(4),h.s9C("value",r.musicGenre),h.Q6J("ngModel",r.song.musicGenre),h.xp6(5),h.Oqu(r.id?"Update":"Save"))},directives:[Dc,Ws,Ca,Di,iu,Ks],styles:[""]}),n})();const sM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class n{constructor(e){this.router=e}ngOnInit(){}onSelect(){this.router.navigate(["/list"])}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Rr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:11,vars:0,consts:[[1,"container","items"],[1,"col-md-12"],[1,"col-md-7","mt-4","mb-3"],[1,"card"],[1,"col-md-7","mt-4","description"],[1,"card-body","descriptionBody"],[1,"btn","btn-primary",3,"click"]],template:function(e,r){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),h._uU(4,"Home"),h.qZA()(),h.TgZ(5,"div",3)(6,"div",4),h._uU(7,"You can see the songs list:"),h.qZA(),h.TgZ(8,"p",5)(9,"button",6),h.NdJ("click",function(){return r.onSelect()}),h._uU(10,"Here"),h.qZA()()()()())},styles:[""]}),n})()},{path:"list",component:sA},{path:"description",component:tI},{path:"description/:key",component:tI},{path:"new",component:nI},{path:"update/:id",component:nI}];let rI,oM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Wv.forRoot(sM)],Wv]}),n})(),aA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();try{rI="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){rI=!1}let jy,sI,Hy=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function wr(n){return n===ri}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!rI)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iI(n){return function uM(){if(null==jy&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jy=!0}))}finally{jy=jy||!1}return jy}()?n:!!n.capture}function $y(n){return n.composedPath?n.composedPath()[0]:n.target}function oI(n){return null!=n&&"false"!=`${n}`}function Gy(n){return n instanceof h.SBq?n.nativeElement:n}function fA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function pA(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const SM=new h.OlP("cdk-input-modality-detector-options"),MM={ignoreKeys:[18,17,224,91,16]},Jg=iI({passive:!0,capture:!0});let RM=(()=>{class n{constructor(e,r,o,u){this._platform=e,this._mostRecentTarget=null,this._modality=new Gr(null),this._lastTouchMs=0,this._onKeydown=f=>{var m,E;(null===(E=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===E?void 0:E.some(I=>I===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=$y(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fA(f)?"keyboard":"mouse"),this._mostRecentTarget=$y(f))},this._onTouchstart=f=>{pA(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$y(f))},this._options=Object.assign(Object.assign({},MM),u),this.modalityDetected=this._modality.pipe(function yM(n){return Dn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Zm()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Jg),o.addEventListener("mousedown",this._onMousedown,Jg),o.addEventListener("touchstart",this._onTouchstart,Jg)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jg),document.removeEventListener("mousedown",this._onMousedown,Jg),document.removeEventListener("touchstart",this._onTouchstart,Jg))}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Hy),h.LFG(h.R0b),h.LFG(Q),h.LFG(SM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NM=new h.OlP("cdk-focus-monitor-default-options"),CC=iI({passive:!0,capture:!0});let mA=(()=>{class n{constructor(e,r,o,u,f){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $r.x,this._rootNodeFocusAndBlurListener=m=>{const E=$y(m),I="focus"===m.type?this._onFocus:this._onBlur;for(let P=E;P;P=P.parentElement)I.call(this,m,P)},this._document=u,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,r=!1){const o=Gy(e);if(!this._platform.isBrowser||1!==o.nodeType)return je(null);const u=function dM(n){if(function cM(){if(null==sI){const n="undefined"!=typeof document?document.head:null;sI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sI}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return r&&(f.checkChildren=!0),f.subject;const m={checkChildren:r,subject:new $r.x,rootNode:u};return this._elementInfo.set(o,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=Gy(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const u=Gy(e);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([m,E])=>this._originChanged(m,r,E)):(this._setOrigin(r),"function"==typeof u.focus&&u.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),u=$y(e);!o||!o.checkChildren&&r!==u||this._originChanged(r,this._getFocusOrigin(u),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,CC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,CC)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(function vM(n){return(0,Wn.e)((t,e)=>{(0,wi.Xf)(n).subscribe((0,_n.x)(e,()=>e.complete(),Yv.Z)),!e.closed&&t.subscribe(e)})}(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,CC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,CC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,u)=>{(u===e||o.checkChildren&&u.contains(e))&&r.push([u,o])}),r}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.R0b),h.LFG(Hy),h.LFG(RM),h.LFG(Q,8),h.LFG(NM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _A="cdk-high-contrast-black-on-white",yA="cdk-high-contrast-white-on-black",aI="cdk-high-contrast-active";let PM=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,u=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(aI),e.remove(_A),e.remove(yA),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(aI),e.add(_A)):2===r&&(e.add(aI),e.add(yA))}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Hy),h.LFG(Q))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vA{}const Xu="*";function EA(n,t=null){return{type:2,steps:n,options:t}}function bA(n){return{type:6,styles:n,offset:null}}function CA(n){Promise.resolve(null).then(n)}class Wy{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){CA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class wA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const u=this.players.length;0==u?CA(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==u&&this._onFinish()}),f.onDestroy(()=>{++r==u&&this._onDestroy()}),f.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Ht=!1;function DA(n){return new h.vHH(3e3,Ht)}function pR(){return"undefined"!=typeof window&&void 0!==window.document}function uI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ed(n){switch(n.length){case 0:return new Wy;case 1:return n[0];default:return new wA(n)}}function IA(n,t,e,r,o={},u={}){const f=[],m=[];let E=-1,I=null;if(r.forEach(P=>{const N=P.offset,G=N==E,te=G&&I||{};Object.keys(P).forEach(ce=>{let Ne=ce,Ye=P[ce];if("offset"!==ce)switch(Ne=t.normalizePropertyName(Ne,f),Ye){case"!":Ye=o[ce];break;case Xu:Ye=u[ce];break;default:Ye=t.normalizeStyleValue(ce,Ne,Ye,f)}te[Ne]=Ye}),G||m.push(te),I=te,E=N}),f.length)throw function rR(n){return new h.vHH(3502,Ht)}();return m}function cI(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&dI(e,"start",n)));break;case"done":n.onDone(()=>r(e&&dI(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&dI(e,"destroy",n)))}}function dI(n,t,e){const r=e.totalTime,u=hI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),f=n._data;return null!=f&&(u._data=f),u}function hI(n,t,e,r,o="",u=0,f){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:u,disabled:!!f}}function io(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function TA(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let fI=(n,t)=>!1,AA=(n,t,e)=>[],SA=null;function pI(n){const t=n.parentNode||n.host;return t===SA?null:t}(uI()||"undefined"!=typeof Element)&&(pR()?(SA=(()=>document.documentElement)(),fI=(n,t)=>{for(;t;){if(t===n)return!0;t=pI(t)}return!1}):fI=(n,t)=>n.contains(t),AA=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let If=null,MA=!1;function RA(n){If||(If=function mR(){return"undefined"!=typeof document?document.body:null}()||{},MA=!!If.style&&"WebkitAppearance"in If.style);let t=!0;return If.style&&!function gR(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in If.style,!t&&MA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in If.style)),t}const OA=fI,NA=AA;let PA=(()=>{class n{validateStyleProperty(e){return RA(e)}matchesElement(e,r){return!1}containsElement(e,r){return OA(e,r)}getParentElement(e){return pI(e)}query(e,r,o){return NA(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,u,f,m=[],E){return new Wy(o,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),gI=(()=>{class n{}return n.NOOP=new PA,n})();const mI="ng-enter",DC="ng-leave",IC="ng-trigger",TC=".ng-trigger",kA="ng-animating",_I=".ng-animating";function Tf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yI(parseFloat(t[1]),t[2])}function yI(n,t){return"s"===t?1e3*n:n}function AC(n,t,e){return n.hasOwnProperty("duration")?n:function vR(n,t,e){let o,u=0,f="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(DA()),{duration:0,delay:0,easing:""};o=yI(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(u=yI(parseFloat(E),m[4]));const I=m[5];I&&(f=I)}else o=n;if(!e){let m=!1,E=t.length;o<0&&(t.push(function kM(){return new h.vHH(3100,Ht)}()),m=!0),u<0&&(t.push(function FM(){return new h.vHH(3101,Ht)}()),m=!0),m&&t.splice(E,0,DA())}return{duration:o,delay:u,easing:f}}(n,t,e)}function Xg(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function bd(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Xg(n,e);return e}function LA(n,t,e){return e?t+":"+e+";":""}function VA(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=LA(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=LA(0,CR(e),n.style[e]));n.setAttribute("style",t)}function xl(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const o=EI(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[o]),n.style[o]=t[r]}),uI()&&VA(n))}function Af(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=EI(e);n.style[r]=""}),uI()&&VA(n))}function zy(n){return Array.isArray(n)?1==n.length?n[0]:EA(n):n}const vI=new RegExp("{{\\s*(.+?)\\s*}}","g");function BA(n){let t=[];if("string"==typeof n){let e;for(;e=vI.exec(n);)t.push(e[1]);vI.lastIndex=0}return t}function SC(n,t,e){const r=n.toString(),o=r.replace(vI,(u,f)=>{let m=t[f];return t.hasOwnProperty(f)||(e.push(function VM(n){return new h.vHH(3003,Ht)}()),m=""),m.toString()});return o==r?n:o}function MC(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const bR=/-+([a-z0-9])/g;function EI(n){return n.replace(bR,(...t)=>t[1].toUpperCase())}function CR(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function so(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function BM(n){return new h.vHH(3004,Ht)}()}}function UA(n,t){return window.getComputedStyle(n)[t]}function SR(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function MR(n,t,e){if(":"==n[0]){const E=function RR(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function XM(n){return new h.vHH(3016,Ht)}()),"* => *"}}(n,e);if("function"==typeof E)return void t.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function JM(n){return new h.vHH(3015,Ht)}()),t;const o=r[1],u=r[2],f=r[3];t.push(HA(o,f));"<"==u[0]&&!("*"==o&&"*"==f)&&t.push(HA(f,o))}(r,e,t)):e.push(n),e}const PC=new Set(["true","1"]),xC=new Set(["false","0"]);function HA(n,t){const e=PC.has(n)||xC.has(n),r=PC.has(t)||xC.has(t);return(o,u)=>{let f="*"==n||n==o,m="*"==t||t==u;return!f&&e&&"boolean"==typeof o&&(f=o?PC.has(n):xC.has(n)),!m&&r&&"boolean"==typeof u&&(m=u?PC.has(t):xC.has(t)),f&&m}}const OR=new RegExp("s*:selfs*,?","g");function bI(n,t,e,r){return new NR(n).build(t,e,r)}class NR{constructor(t){this._driver=t}build(t,e,r){const o=new kR(e);this._resetContextStyleTimingState(o);const u=so(this,zy(t),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const u=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push(function HM(){return new h.vHH(3006,Ht)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const E=m,I=E.name;I.toString().split(/\s*,\s*/).forEach(P=>{E.name=P,u.push(this.visitState(E,e))}),E.name=I}else if(1==m.type){const E=this.visitTransition(m,e);r+=E.queryCount,o+=E.depCount,f.push(E)}else e.errors.push(function jM(){return new h.vHH(3007,Ht)}())}),{type:7,name:t.name,states:u,transitions:f,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const u=new Set,f=o||{};r.styles.forEach(m=>{if(kC(m)){const E=m;Object.keys(E).forEach(I=>{BA(E[I]).forEach(P=>{f.hasOwnProperty(P)||u.add(P)})})}}),u.size&&(MC(u.values()),e.errors.push(function $M(n,t){return new h.vHH(3008,Ht)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=so(this,zy(t.animation),e);return{type:1,matchers:SR(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Sf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>so(this,r,e)),options:Sf(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const u=t.steps.map(f=>{e.currentTime=r;const m=so(this,f,e);return o=Math.max(o,e.currentTime),m});return e.currentTime=o,{type:3,steps:u,options:Sf(t.options)}}visitAnimate(t,e){const r=function LR(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return CI(AC(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=CI(0,0,"");return u.dynamic=!0,u.strValue=e,u}const o=AC(e,t);return CI(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,u=t.styles?t.styles:bA({});if(5==u.type)o=this.visitKeyframes(u,e);else{let f=t.styles,m=!1;if(!f){m=!0;const I={};r.easing&&(I.easing=r.easing),f=bA(I)}e.currentTime+=r.duration+r.delay;const E=this.visitStyle(f,e);E.isEmptyStep=m,o=E}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==Xu?r.push(f):e.errors.push(function GM(n){return new h.vHH(3002,Ht)}()):r.push(f)}):r.push(t.styles);let o=!1,u=null;return r.forEach(f=>{if(kC(f)){const m=f,E=m.easing;if(E&&(u=E,delete m.easing),!o)for(let I in m)if(m[I].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,u=e.currentTime;r&&u>0&&(u-=r.duration+r.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete f[m],void e.unsupportedCSSPropertiesFound.add(m);const E=e.collectedStyles[e.currentQuerySelector],I=E[m];let P=!0;I&&(u!=o&&u>=I.startTime&&o<=I.endTime&&(e.errors.push(function WM(n,t,e,r,o){return new h.vHH(3010,Ht)}()),P=!1),u=I.startTime),P&&(E[m]={startTime:u,endTime:o}),e.options&&function ER(n,t,e){const r=t.params||{},o=BA(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||e.push(function LM(n){return new h.vHH(3001,Ht)}())})}(f[m],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function zM(){return new h.vHH(3011,Ht)}()),r;let u=0;const f=[];let m=!1,E=!1,I=0;const P=t.steps.map(Pt=>{const wt=this._makeStyleAst(Pt,e);let Yt=null!=wt.offset?wt.offset:function FR(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(kC(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(kC(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(wt.styles),St=0;return null!=Yt&&(u++,St=wt.offset=Yt),E=E||St<0||St>1,m=m||St<I,I=St,f.push(St),wt});E&&e.errors.push(function qM(){return new h.vHH(3012,Ht)}()),m&&e.errors.push(function KM(){return new h.vHH(3200,Ht)}());const N=t.steps.length;let G=0;u>0&&u<N?e.errors.push(function ZM(){return new h.vHH(3202,Ht)}()):0==u&&(G=1/(N-1));const te=N-1,ce=e.currentTime,Ne=e.currentAnimateTimings,Ye=Ne.duration;return P.forEach((Pt,wt)=>{const Yt=G>0?wt==te?1:G*wt:f[wt],St=Yt*Ye;e.currentTime=ce+Ne.delay+St,Ne.duration=St,this._validateStyleAst(Pt,e),Pt.offset=Yt,r.styles.push(Pt)}),r}visitReference(t,e){return{type:8,animation:so(this,zy(t.animation),e),options:Sf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Sf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Sf(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[u,f]=function PR(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(OR,"")),n=n.replace(/@\*/g,TC).replace(/@\w+/g,e=>TC+"-"+e.substr(1)).replace(/:animating/g,_I),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+u:u,io(e.collectedStyles,e.currentQuerySelector,{});const m=so(this,zy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:m,originalSelector:t.selector,options:Sf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function YM(){return new h.vHH(3013,Ht)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:AC(t.timings,e.errors,!0);return{type:12,animation:so(this,zy(t.animation),e),timings:r,options:null}}}class kR{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kC(n){return!Array.isArray(n)&&"object"==typeof n}function Sf(n){return n?(n=Xg(n)).params&&(n.params=function xR(n){return n?Xg(n):null}(n.params)):n={},n}function CI(n,t,e){return{duration:n,delay:t,easing:e}}function wI(n,t,e,r,o,u,f=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:f,subTimeline:m}}class FC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UR=new RegExp(":enter","g"),jR=new RegExp(":leave","g");function DI(n,t,e,r,o,u={},f={},m,E,I=[]){return(new $R).buildKeyframes(n,t,e,r,o,u,f,m,E,I)}class $R{buildKeyframes(t,e,r,o,u,f,m,E,I,P=[]){I=I||new FC;const N=new II(t,e,I,o,u,P,[]);N.options=E,N.currentTimeline.setStyles([f],null,N.errors,E),so(this,r,N);const G=N.timelines.filter(te=>te.containsAnimation());if(Object.keys(m).length){let te;for(let ce=G.length-1;ce>=0;ce--){const Ne=G[ce];if(Ne.element===e){te=Ne;break}}te&&!te.allowOnlyTimelineStyles()&&te.setStyles([m],null,N.errors,E)}return G.length?G.map(te=>te.buildKeyframes()):[wI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),u=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,o,o.options);u!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let u=e.currentTimeline.currentTime;const f=null!=r.duration?Tf(r.duration):null,m=null!=r.delay?Tf(r.delay):null;return 0!==f&&t.forEach(E=>{const I=e.appendInstructionToTimeline(E,f,m);u=Math.max(u,I.duration+I.delay)}),u}visitReference(t,e){e.updateOptions(t.options,!0),so(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const u=t.options;if(u&&(u.params||u.delay)&&(o=e.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=LC);const f=Tf(u.delay);o.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>so(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const u=t.options&&t.options.delay?Tf(t.options.delay):0;t.steps.forEach(f=>{const m=e.createSubContext(t.options);u&&m.delayNextStep(u),so(this,f,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return AC(e.params?SC(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(r.duration),this.visitStyle(u,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(u):r.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,u=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,t.styles.forEach(E=>{m.forwardTime((E.offset||0)*u),m.setStyles(E.styles,E.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(o+u),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},u=o.delay?Tf(o.delay):0;u&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=LC);let f=r;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=m.length;let E=null;m.forEach((I,P)=>{e.currentQueryIndex=P;const N=e.createSubContext(t.options,I);u&&N.delayNextStep(u),I===e.element&&(E=N.currentTimeline),so(this,t.animation,N),N.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,N.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,u=t.timings,f=Math.abs(u.duration),m=f*(e.currentQueryTotal-1);let E=f*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const P=e.currentTimeline;E&&P.delayNextStep(E);const N=P.currentTime;so(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-N+(o.startTime-r.currentTimeline.startTime)}}const LC={};class II{constructor(t,e,r,o,u,f,m,E){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=LC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new VC(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=Tf(r.duration)),null!=r.delay&&(o.delay=Tf(r.delay));const u=r.params;if(u){let f=o.params;f||(f=this.options.params={}),Object.keys(u).forEach(m=>{(!e||!f.hasOwnProperty(m))&&(f[m]=SC(u[m],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,u=new II(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=LC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},u=new GR(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,u,f){let m=[];if(o&&m.push(this.element),t.length>0){t=(t=t.replace(UR,"."+this._enterClassName)).replace(jR,"."+this._leaveClassName);let I=this._driver.query(this.element,t,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),m.push(...I)}return!u&&0==m.length&&f.push(function QM(n){return new h.vHH(3014,Ht)}()),m}}class VC{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new VC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Xu,this._currentKeyframe[e]=Xu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&(this._previousKeyframe.easing=e);const u=o&&o.params||{},f=function WR(n,t){const e={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(t),r.forEach(u=>{e[u]=Xu})):bd(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const E=SC(f[m],u,r);this._pendingStyles[m]=E,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Xu),this._updateStyle(m,E)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],o=t._styleSummary[e];(!r||o.time>r.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,E)=>{const I=bd(m,!0);Object.keys(I).forEach(P=>{const N=I[P];"!"==N?t.add(P):N==Xu&&e.add(P)}),r||(I.offset=E/this.duration),o.push(I)});const u=t.size?MC(t.values()):[],f=e.size?MC(e.values()):[];if(r){const m=o[0],E=Xg(m);m.offset=0,E.offset=1,o=[m,E]}return wI(this.element,o,u,f,this.duration,this.startTime,this.easing,!1)}}class GR extends VC{constructor(t,e,r,o,u,f,m=!1){super(t,e,f.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],f=r+e,m=e/f,E=bd(t[0],!1);E.offset=0,u.push(E);const I=bd(t[0],!1);I.offset=GA(m),u.push(I);const P=t.length-1;for(let N=1;N<=P;N++){let G=bd(t[N],!1);G.offset=GA((e+G.offset*r)/f),u.push(G)}r=f,e=0,o="",t=u}return wI(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function GA(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class TI{}class zR extends TI{normalizePropertyName(t,e){return EI(t)}normalizeStyleValue(t,e,r,o){let u="";const f=r.toString().trim();if(qR[e]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(function UM(n,t){return new h.vHH(3005,Ht)}())}return f+u}}const qR=(()=>function KR(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function WA(n,t,e,r,o,u,f,m,E,I,P,N,G){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:u,toState:r,toStyles:f,timelines:m,queriedElements:E,preStyleProps:I,postStyleProps:P,totalTime:N,errors:G}}const AI={};class zA{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function ZR(n,t,e,r,o){return n.some(u=>u(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){const o=this._stateStyles["*"],u=this._stateStyles[t],f=o?o.buildStyles(e,r):{};return u?u.buildStyles(e,r):f}build(t,e,r,o,u,f,m,E,I,P){const N=[],G=this.ast.options&&this.ast.options.params||AI,ce=this.buildStyles(r,m&&m.params||AI,N),Ne=E&&E.params||AI,Ye=this.buildStyles(o,Ne,N),Pt=new Set,wt=new Map,Yt=new Map,St="void"===o,Pr={params:Object.assign(Object.assign({},G),Ne)},zr=P?[]:DI(t,e,this.ast.animation,u,f,ce,Ye,Pr,I,N);let Zi=0;if(zr.forEach(tc=>{Zi=Math.max(tc.duration+tc.delay,Zi)}),N.length)return WA(e,this._triggerName,r,o,St,ce,Ye,[],[],wt,Yt,Zi,N);zr.forEach(tc=>{const nc=tc.element,TS=io(wt,nc,{});tc.preStyleProps.forEach(Rf=>TS[Rf]=!0);const Jy=io(Yt,nc,{});tc.postStyleProps.forEach(Rf=>Jy[Rf]=!0),nc!==e&&Pt.add(nc)});const ec=MC(Pt.values());return WA(e,this._triggerName,r,o,St,ce,Ye,zr,ec,wt,Yt,Zi)}}class YR{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},o=Xg(this.defaultParams);return Object.keys(t).forEach(u=>{const f=t[u];null!=f&&(o[u]=f)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const f=u;Object.keys(f).forEach(m=>{let E=f[m];E.length>1&&(E=SC(E,o,e));const I=this.normalizer.normalizePropertyName(m,e);E=this.normalizer.normalizeStyleValue(m,I,E,e),r[I]=E})}}),r}}class JR{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new YR(o.style,o.options&&o.options.params||{},r)}),qA(this.states,"true","1"),qA(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new zA(t,o,this.states))}),this.fallbackTransition=function XR(n,t,e){return new zA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(f=>f.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function qA(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const eO=new FC;class tO{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],u=bI(this._driver,e,r,[]);if(r.length)throw function iR(n){return new h.vHH(3503,Ht)}();this._animations[t]=u}_buildPlayer(t,e,r){const o=t.element,u=IA(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,u,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],u=this._animations[t];let f;const m=new Map;if(u?(f=DI(this._driver,e,u,mI,DC,{},{},r,eO,o),f.forEach(P=>{const N=io(m,P.element,{});P.postStyleProps.forEach(G=>N[G]=null)})):(o.push(function sR(){return new h.vHH(3300,Ht)}()),f=[]),o.length)throw function oR(n){return new h.vHH(3504,Ht)}();m.forEach((P,N)=>{Object.keys(P).forEach(G=>{P[G]=this._driver.computeStyle(N,G,Xu)})});const I=Ed(f.map(P=>{const N=m.get(P.element);return this._buildPlayer(P,{},N)}));return this._playersById[t]=I,I.onDestroy(()=>this.destroy(t)),this.players.push(I),I}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function aR(n){return new h.vHH(3301,Ht)}();return e}listen(t,e,r,o){const u=hI(e,"","","");return cI(this._getPlayer(t),r,u,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const u=this._getPlayer(t);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const KA="ng-animate-queued",SI="ng-animate-disabled",oO=[],ZA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ea="__ng_removed";class MI{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function dO(n){return null!=n?n:null}(r?t.value:t),r){const u=Xg(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const qy="void",RI=new MI(qy);class lO{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ta(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.hasOwnProperty(e))throw function lR(n,t){return new h.vHH(3302,Ht)}();if(null==r||0==r.length)throw function uR(n){return new h.vHH(3303,Ht)}();if(!function hO(n){return"start"==n||"done"==n}(r))throw function cR(n,t){return new h.vHH(3400,Ht)}();const u=io(this._elementListeners,t,[]),f={name:e,phase:r,callback:o};u.push(f);const m=io(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(ta(t,IC),ta(t,IC+"-"+e),m[e]=RI),()=>{this._engine.afterFlush(()=>{const E=u.indexOf(f);E>=0&&u.splice(E,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function dR(n){return new h.vHH(3401,Ht)}();return e}trigger(t,e,r,o=!0){const u=this._getTrigger(e),f=new OI(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(ta(t,IC),ta(t,IC+"-"+e),this._engine.statesByElement.set(t,m={}));let E=m[e];const I=new MI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&I.absorbOptions(E.options),m[e]=I,E||(E=RI),I.value!==qy&&E.value===I.value){if(!function gO(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const u=e[o];if(!t.hasOwnProperty(u)||n[u]!==t[u])return!1}return!0}(E.params,I.params)){const Ne=[],Ye=u.matchStyles(E.value,E.params,Ne),Pt=u.matchStyles(I.value,I.params,Ne);Ne.length?this._engine.reportError(Ne):this._engine.afterFlush(()=>{Af(t,Ye),xl(t,Pt)})}return}const G=io(this._engine.playersByElement,t,[]);G.forEach(Ne=>{Ne.namespaceId==this.id&&Ne.triggerName==e&&Ne.queued&&Ne.destroy()});let te=u.matchTransition(E.value,I.value,t,I.params),ce=!1;if(!te){if(!o)return;te=u.fallbackTransition,ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:te,fromState:E,toState:I,player:f,isFallbackTransition:ce}),ce||(ta(t,KA),f.onStart(()=>{em(t,KA)})),f.onDone(()=>{let Ne=this.players.indexOf(f);Ne>=0&&this.players.splice(Ne,1);const Ye=this._engine.playersByElement.get(t);if(Ye){let Pt=Ye.indexOf(f);Pt>=0&&Ye.splice(Pt,1)}}),this.players.push(f),G.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,TC,!0);r.forEach(o=>{if(o[ea])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(f=>f.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const u=this._engine.statesByElement.get(t),f=new Map;if(u){const m=[];if(Object.keys(u).forEach(E=>{if(f.set(E,u[E].value),this._triggers[E]){const I=this.trigger(t,E,qy,o);I&&m.push(I)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,f),r&&Ed(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(u=>{const f=u.name;if(o.has(f))return;o.add(f);const E=this._triggers[f].fallbackTransition,I=r[f]||RI,P=new MI(qy),N=new OI(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:E,fromState:I,toState:P,player:N,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(t):[];if(u&&u.length)o=!0;else{let f=t;for(;f=f.parentNode;)if(r.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const u=t[ea];(!u||u===ZA)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){ta(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,f=this._elementListeners.get(u);f&&f.forEach(m=>{if(m.name==r.triggerName){const E=hI(u,r.triggerName,r.fromState.value,r.toState.value);E._data=t,cI(r.player,m.phase,E,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const u=r.transition.ast.depCount,f=o.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class uO{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new lO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement,u=r.length-1;if(u>=0){let f=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(e);for(;m;){const E=o.get(m);if(E){const I=r.indexOf(E);r.splice(I+1,0,t),f=!0;break}m=this.driver.getParentElement(m)}}else for(let m=u;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,e)){r.splice(m+1,0,t),f=!0;break}f||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const o=Object.keys(r);for(let u=0;u<o.length;u++){const f=r[o[u]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&e.add(m)}}}return e}trigger(t,e,r,o){if(BC(e)){const u=this._fetchNamespace(t);if(u)return u.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!BC(e))return;const u=e[ea];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ta(t,SI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),em(t,SI))}removeNode(t,e,r,o){if(BC(e)){const u=t?this._fetchNamespace(t):null;if(u?u.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,u){this.collectedLeaveElements.push(e),e[ea]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(t,e,r,o,u){return BC(e)?this._fetchNamespace(t).listen(e,r,o,u):()=>{}}_buildInstruction(t,e,r,o,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,u)}destroyInnerAnimations(t){let e=this.driver.query(t,TC,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,_I,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ed(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[ea];if(r&&r.setForRemoval){if(t[ea]=ZA,r.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(SI))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ta(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ed(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function hR(n){return new h.vHH(3402,Ht)}()}_flushAnimations(t,e){const r=new FC,o=[],u=new Map,f=[],m=new Map,E=new Map,I=new Map,P=new Set;this.disabledNodes.forEach(nt=>{P.add(nt);const ft=this.driver.query(nt,".ng-animate-queued",!0);for(let _t=0;_t<ft.length;_t++)P.add(ft[_t])});const N=this.bodyNode,G=Array.from(this.statesByElement.keys()),te=JA(G,this.collectedEnterElements),ce=new Map;let Ne=0;te.forEach((nt,ft)=>{const _t=mI+Ne++;ce.set(ft,_t),nt.forEach(qt=>ta(qt,_t))});const Ye=[],Pt=new Set,wt=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const ft=this.collectedLeaveElements[nt],_t=ft[ea];_t&&_t.setForRemoval&&(Ye.push(ft),Pt.add(ft),_t.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(qt=>Pt.add(qt)):wt.add(ft))}const Yt=new Map,St=JA(G,Array.from(Pt));St.forEach((nt,ft)=>{const _t=DC+Ne++;Yt.set(ft,_t),nt.forEach(qt=>ta(qt,_t))}),t.push(()=>{te.forEach((nt,ft)=>{const _t=ce.get(ft);nt.forEach(qt=>em(qt,_t))}),St.forEach((nt,ft)=>{const _t=Yt.get(ft);nt.forEach(qt=>em(qt,_t))}),Ye.forEach(nt=>{this.processLeaveNode(nt)})});const Pr=[],zr=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(e).forEach(_t=>{const qt=_t.player,qr=_t.element;if(Pr.push(qt),this.collectedEnterElements.length){const Yi=qr[ea];if(Yi&&Yi.setForMove){if(Yi.previousTriggersValues&&Yi.previousTriggersValues.has(_t.triggerName)){const Of=Yi.previousTriggersValues.get(_t.triggerName),Td=this.statesByElement.get(_t.element);Td&&Td[_t.triggerName]&&(Td[_t.triggerName].value=Of)}return void qt.destroy()}}const kl=!N||!this.driver.containsElement(N,qr),oo=Yt.get(qr),Id=ce.get(qr),qn=this._buildInstruction(_t,r,Id,oo,kl);if(qn.errors&&qn.errors.length)return void zr.push(qn);if(kl)return qt.onStart(()=>Af(qr,qn.fromStyles)),qt.onDestroy(()=>xl(qr,qn.toStyles)),void o.push(qt);if(_t.isFallbackTransition)return qt.onStart(()=>Af(qr,qn.fromStyles)),qt.onDestroy(()=>xl(qr,qn.toStyles)),void o.push(qt);const MS=[];qn.timelines.forEach(Yi=>{Yi.stretchStartingKeyframe=!0,this.disabledNodes.has(Yi.element)||MS.push(Yi)}),qn.timelines=MS,r.append(qr,qn.timelines),f.push({instruction:qn,player:qt,element:qr}),qn.queriedElements.forEach(Yi=>io(m,Yi,[]).push(qt)),qn.preStyleProps.forEach((Yi,Of)=>{const Td=Object.keys(Yi);if(Td.length){let Nf=E.get(Of);Nf||E.set(Of,Nf=new Set),Td.forEach(VI=>Nf.add(VI))}}),qn.postStyleProps.forEach((Yi,Of)=>{const Td=Object.keys(Yi);let Nf=I.get(Of);Nf||I.set(Of,Nf=new Set),Td.forEach(VI=>Nf.add(VI))})});if(zr.length){const nt=[];zr.forEach(ft=>{nt.push(function fR(n,t){return new h.vHH(3505,Ht)}())}),Pr.forEach(ft=>ft.destroy()),this.reportError(nt)}const Zi=new Map,ec=new Map;f.forEach(nt=>{const ft=nt.element;r.has(ft)&&(ec.set(ft,ft),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Zi))}),o.forEach(nt=>{const ft=nt.element;this._getPreviousPlayers(ft,!1,nt.namespaceId,nt.triggerName,null).forEach(qt=>{io(Zi,ft,[]).push(qt),qt.destroy()})});const tc=Ye.filter(nt=>eS(nt,E,I)),nc=new Map;QA(nc,this.driver,wt,I,Xu).forEach(nt=>{eS(nt,E,I)&&tc.push(nt)});const Jy=new Map;te.forEach((nt,ft)=>{QA(Jy,this.driver,new Set(nt),E,"!")}),tc.forEach(nt=>{const ft=nc.get(nt),_t=Jy.get(nt);nc.set(nt,Object.assign(Object.assign({},ft),_t))});const Rf=[],AS=[],SS={};f.forEach(nt=>{const{element:ft,player:_t,instruction:qt}=nt;if(r.has(ft)){if(P.has(ft))return _t.onDestroy(()=>xl(ft,qt.toStyles)),_t.disabled=!0,_t.overrideTotalTime(qt.totalTime),void o.push(_t);let qr=SS;if(ec.size>1){let oo=ft;const Id=[];for(;oo=oo.parentNode;){const qn=ec.get(oo);if(qn){qr=qn;break}Id.push(oo)}Id.forEach(qn=>ec.set(qn,qr))}const kl=this._buildAnimation(_t.namespaceId,qt,Zi,u,Jy,nc);if(_t.setRealPlayer(kl),qr===SS)Rf.push(_t);else{const oo=this.playersByElement.get(qr);oo&&oo.length&&(_t.parentPlayer=Ed(oo)),o.push(_t)}}else Af(ft,qt.fromStyles),_t.onDestroy(()=>xl(ft,qt.toStyles)),AS.push(_t),P.has(ft)&&o.push(_t)}),AS.forEach(nt=>{const ft=u.get(nt.element);if(ft&&ft.length){const _t=Ed(ft);nt.setRealPlayer(_t)}}),o.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<Ye.length;nt++){const ft=Ye[nt],_t=ft[ea];if(em(ft,DC),_t&&_t.hasAnimation)continue;let qt=[];if(m.size){let kl=m.get(ft);kl&&kl.length&&qt.push(...kl);let oo=this.driver.query(ft,_I,!0);for(let Id=0;Id<oo.length;Id++){let qn=m.get(oo[Id]);qn&&qn.length&&qt.push(...qn)}}const qr=qt.filter(kl=>!kl.destroyed);qr.length?fO(this,ft,qr):this.processLeaveNode(ft)}return Ye.length=0,Rf.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const ft=this.players.indexOf(nt);this.players.splice(ft,1)}),nt.play()}),Rf}elementContainsData(t,e){let r=!1;const o=e[ea];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,u){let f=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(f=m)}else{const m=this.playersByElement.get(t);if(m){const E=!u||u==qy;m.forEach(I=>{I.queued||!E&&I.triggerName!=o||f.push(I)})}}return(r||o)&&(f=f.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),f}_beforeAnimationBuild(t,e,r){const u=e.element,f=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const I=E.element,P=I!==u,N=io(r,I,[]);this._getPreviousPlayers(I,P,f,m,e.toState).forEach(te=>{const ce=te.getRealPlayer();ce.beforeDestroy&&ce.beforeDestroy(),te.destroy(),N.push(te)})}Af(u,e.fromStyles)}_buildAnimation(t,e,r,o,u,f){const m=e.triggerName,E=e.element,I=[],P=new Set,N=new Set,G=e.timelines.map(ce=>{const Ne=ce.element;P.add(Ne);const Ye=Ne[ea];if(Ye&&Ye.removedBeforeQueried)return new Wy(ce.duration,ce.delay);const Pt=Ne!==E,wt=function pO(n){const t=[];return XA(n,t),t}((r.get(Ne)||oO).map(Zi=>Zi.getRealPlayer())).filter(Zi=>!!Zi.element&&Zi.element===Ne),Yt=u.get(Ne),St=f.get(Ne),Pr=IA(0,this._normalizer,0,ce.keyframes,Yt,St),zr=this._buildPlayer(ce,Pr,wt);if(ce.subTimeline&&o&&N.add(Ne),Pt){const Zi=new OI(t,m,Ne);Zi.setRealPlayer(zr),I.push(Zi)}return zr});I.forEach(ce=>{io(this.playersByQueriedElement,ce.element,[]).push(ce),ce.onDone(()=>function cO(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,ce.element,ce))}),P.forEach(ce=>ta(ce,kA));const te=Ed(G);return te.onDestroy(()=>{P.forEach(ce=>em(ce,kA)),xl(E,e.toStyles)}),N.forEach(ce=>{io(o,ce,[]).push(te)}),te}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Wy(t.duration,t.delay)}}class OI{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Wy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>cI(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){io(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function BC(n){return n&&1===n.nodeType}function YA(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function QA(n,t,e,r,o){const u=[];e.forEach(E=>u.push(YA(E)));const f=[];r.forEach((E,I)=>{const P={};E.forEach(N=>{const G=P[N]=t.computeStyle(I,N,o);(!G||0==G.length)&&(I[ea]=aO,f.push(I))}),n.set(I,P)});let m=0;return e.forEach(E=>YA(E,u[m++])),f}function JA(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const o=new Set(t),u=new Map;function f(m){if(!m)return 1;let E=u.get(m);if(E)return E;const I=m.parentNode;return E=e.has(I)?I:o.has(I)?1:f(I),u.set(m,E),E}return t.forEach(m=>{const E=f(m);1!==E&&e.get(E).push(m)}),e}function ta(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function em(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function fO(n,t,e){Ed(e).onDone(()=>n.processLeaveNode(t))}function XA(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof wA?XA(r.players,t):t.push(r)}}function eS(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(u=>o.add(u)):t.set(n,r),e.delete(n),!0}class UC{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new uO(t,e,r),this._timelineEngine=new tO(t,e,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(t,e,r,o,u){const f=t+"-"+o;let m=this._triggerCache[f];if(!m){const E=[],P=bI(this._driver,u,E,[]);if(E.length)throw function nR(n,t){return new h.vHH(3404,Ht)}();m=function QR(n,t,e){return new JR(n,t,e)}(o,P,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(e,o,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[u,f]=TA(r);this._timelineEngine.command(u,e,f,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,u){if("@"==r.charAt(0)){const[f,m]=TA(r);return this._timelineEngine.listen(f,e,m,u)}return this._transitionEngine.listen(t,e,r,o,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _O=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(e);u||n.initialStylesByElement.set(e,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&xl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xl(this._element,this._initialStyles),this._endStyles&&(xl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Af(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Af(this._element,this._endStyles),this._endStyles=null),xl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NI(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const o=e[r];yO(o)&&(t=t||{},t[o]=n[o])}return t}function yO(n){return"display"===n||"position"===n}class tS{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:UA(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class vO{validateStyleProperty(t){return RA(t)}matchesElement(t,e){return!1}containsElement(t,e){return OA(t,e)}getParentElement(t){return pI(t)}query(t,e,r){return NA(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,u,f=[]){const E={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(E.easing=u);const I={},P=f.filter(G=>G instanceof tS);(function wR(n,t){return 0===n||0===t})(r,o)&&P.forEach(G=>{let te=G.currentSnapshot;Object.keys(te).forEach(ce=>I[ce]=te[ce])}),e=function DR(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let u=t[0],f=[];if(r.forEach(m=>{u.hasOwnProperty(m)||f.push(m),u[m]=e[m]}),f.length)for(var o=1;o<t.length;o++){let m=t[o];f.forEach(function(E){m[E]=UA(n,E)})}}return t}(t,e=e.map(G=>bd(G,!1)),I);const N=function mO(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=NI(t[0]),t.length>1&&(r=NI(t[t.length-1]))):t&&(e=NI(t)),e||r?new _O(n,e,r):null}(t,e);return new tS(t,e,E,N)}}let EO=(()=>{class n extends vA{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?EA(e):e;return nS(this._renderer,null,r,"register",[o]),new bO(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(Q))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class bO extends class xM{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new CO(this._id,t,e||{},this._renderer)}}class CO{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function nS(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const rS="@.disabled";let wO=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,f)=>{const m=null==f?void 0:f.parentNode(u);m&&f.removeChild(m,u)}}createRenderer(e,r){const u=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let P=this._rendererCache.get(u);return P||(P=new iS("",u,this.engine),this._rendererCache.set(u,P)),P}const f=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const E=P=>{Array.isArray(P)?P.forEach(E):this.engine.registerTrigger(f,m,e,P.name,P)};return r.data.animation.forEach(E),new DO(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,m]=u;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(UC),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class iS{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==rS?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class DO extends iS{constructor(t,e,r,o){super(e,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==rS?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function IO(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let u=e.substr(1),f="";return"@"!=u.charAt(0)&&([u,f]=function TO(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(u)),this.engine.listen(this.namespaceId,o,u,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(t,e,r)}}let AO=(()=>{class n extends UC{constructor(e,r,o){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Q),h.LFG(gI),h.LFG(TI))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ky=new h.OlP("AnimationModuleType"),sS=[{provide:vA,useClass:EO},{provide:TI,useFactory:function SO(){return new zR}},{provide:UC,useClass:AO},{provide:h.FYo,useFactory:function MO(n,t,e){return new wO(n,t,e)},deps:[tn,UC,h.R0b]}],oS=[{provide:gI,useFactory:()=>new vO},{provide:Ky,useValue:"BrowserAnimations"},...sS],RO=[{provide:gI,useClass:PA},{provide:Ky,useValue:"NoopAnimations"},...sS];let OO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?RO:oS}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:oS,imports:[Co]}),n})();const PO=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function NO(){return!0}});let Cd=(()=>{class n{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function hM(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(PM),h.LFG(PO,8),h.LFG(Q))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[aA],aA]}),n})();function xO(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=oI(t)}}}function PI(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function kO(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=oI(t)}}}class LO{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lS={enterDuration:225,exitDuration:150},xI=iI({passive:!0}),uS=["mousedown","touchstart"],cS=["mouseup","mouseleave","touchend","touchcancel"];class BO{constructor(t,e,r,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Gy(r))}fadeInRipple(t,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},lS),r.animation);r.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const f=r.radius||function HO(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+o*o)}(t,e,o),m=t-o.left,E=e-o.top,I=u.enterDuration,P=document.createElement("div");P.classList.add("mat-ripple-element"),P.style.left=m-f+"px",P.style.top=E-f+"px",P.style.height=2*f+"px",P.style.width=2*f+"px",null!=r.color&&(P.style.backgroundColor=r.color),P.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(P),function UO(n){window.getComputedStyle(n).getPropertyValue("opacity")}(P),P.style.transform="scale(1)";const N=new LO(this,P,r);return N.state=0,this._activeRipples.add(N),r.persistent||(this._mostRecentTransientRipple=N),this._runTimeoutOutsideZone(()=>{const G=N===this._mostRecentTransientRipple;N.state=1,!r.persistent&&(!G||!this._isPointerDown)&&N.fadeOut()},I),N}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,o=Object.assign(Object.assign({},lS),t.config.animation);r.style.transitionDuration=`${o.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Gy(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(uS))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cS),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=fA(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!pA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,xI)})})}_removeTriggerEvents(){this._triggerElement&&(uS.forEach(t=>{this._triggerElement.removeEventListener(t,this,xI)}),this._pointerUpEventsRegistered&&cS.forEach(t=>{this._triggerElement.removeEventListener(t,this,xI)}))}}const jO=new h.OlP("mat-ripple-global-options");let kI=(()=>{class n{constructor(e,r,o,u,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new BO(this,r,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Hy),h.Y36(jO,8),h.Y36(Ky,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&h.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),$O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Cd],Cd]}),n})();const GO=["*",[["mat-toolbar-row"]]],WO=["*","mat-toolbar-row"],zO=PI(class{constructor(n){this._elementRef=n}});let qO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),KO=(()=>{class n extends zO{constructor(e,r,o){super(e),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(Hy),h.Y36(Q))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,o){if(1&e&&h.Suo(o,qO,5),2&e){let u;h.iGM(u=h.CRH())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&h.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:WO,decls:2,vars:0,template:function(e,r){1&e&&(h.F$t(GO),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),ZO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Cd],Cd]}),n})();const dS=["mat-button",""],hS=["*"],JO=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],XO=PI(xO(kO(class{constructor(n){this._elementRef=n}})));let eN=(()=>{class n extends XO{constructor(e,r,o){super(e),this._focusMonitor=r,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of JO)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(mA),h.Y36(Ky,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&h.Gf(kI,5),2&e){let o;h.iGM(o=h.CRH())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(h.uIk("disabled",r.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:dS,ngContentSelectors:hS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&e&&(h.xp6(2),h.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),h.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[kI],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tN=(()=>{class n extends eN{constructor(e,r,o,u){super(r,e,o),this._ngZone=u,this._haltDisabledEvents=f=>{this.disabled&&(f.preventDefault(),f.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(mA),h.Y36(h.SBq),h.Y36(Ky,8),h.Y36(h.R0b,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){2&e&&(h.uIk("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[h.qOj],attrs:dS,ngContentSelectors:hS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&e&&(h.xp6(2),h.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),h.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[kI],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),nN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[$O,Cd],Cd]}),n})();class rN{}class wd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),u=o.toLowerCase(),f=e.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof wd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new wd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof wd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const u=t.value;if(u){let f=this.headers.get(e);if(!f)return;f=f.filter(m=>-1===u.indexOf(m)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class iN{encodeKey(t){return fS(t)}encodeValue(t){return fS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const oN=/%(\d[a-f0-9])/gi,aN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function fS(n){return encodeURIComponent(n).replace(oN,(t,e)=>{var r;return null!==(r=aN[e])&&void 0!==r?r:t})}function pS(n){return`${n}`}class Dd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new iN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sN(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[f,m]=-1==u?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,u)),t.decodeValue(o.slice(u+1))],E=e.get(f)||[];E.push(m),e.set(f,E)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(u=>{e.push({param:r,value:u,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Dd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(pS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(pS(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class lN{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function gS(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function mS(n){return"undefined"!=typeof Blob&&n instanceof Blob}function _S(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Yy{constructor(t,e,r,o){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function uN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new wd),this.context||(this.context=new lN),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+f}}else this.params=new Dd,this.urlWithParams=e}serializeBody(){return null===this.body?null:gS(this.body)||mS(this.body)||_S(this.body)||function cN(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Dd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_S(this.body)?null:mS(this.body)?this.body.type||null:gS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Dd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,o=t.url||this.url,u=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,m=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,E=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let I=t.headers||this.headers,P=t.params||this.params;const N=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(I=Object.keys(t.setHeaders).reduce((G,te)=>G.set(te,t.setHeaders[te]),I)),t.setParams&&(P=Object.keys(t.setParams).reduce((G,te)=>G.set(te,t.setParams[te]),P)),new Yy(r,o,f,{params:P,headers:I,context:N,reportProgress:E,responseType:u,withCredentials:m})}}var gi=(()=>((gi=gi||{})[gi.Sent=0]="Sent",gi[gi.UploadProgress=1]="UploadProgress",gi[gi.ResponseHeader=2]="ResponseHeader",gi[gi.DownloadProgress=3]="DownloadProgress",gi[gi.Response=4]="Response",gi[gi.User=5]="User",gi))();class FI extends class dN{constructor(t,e=200,r="OK"){this.headers=t.headers||new wd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=gi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new FI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function LI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vS=(()=>{class n{constructor(e){this.handler=e}request(e,r,o={}){let u;if(e instanceof Yy)u=e;else{let E,I;E=o.headers instanceof wd?o.headers:new wd(o.headers),o.params&&(I=o.params instanceof Dd?o.params:new Dd({fromObject:o.params})),u=new Yy(e,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:I,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=je(u).pipe(fl(E=>this.handler.handle(E)));if(e instanceof Yy||"events"===o.observe)return f;const m=f.pipe(Dn(E=>E instanceof FI));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,ot.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,ot.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,ot.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,ot.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Dd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,LI(o,r))}post(e,r,o={}){return this.request("POST",e,LI(o,r))}put(e,r,o={}){return this.request("PUT",e,LI(o,r))}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(rN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fN=["*"];let jC;function Qy(n){var t;return(null===(t=function pN(){if(void 0===jC&&(jC=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(jC=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return jC}())||void 0===t?void 0:t.createHTML(n))||n}function ES(n){return Error(`Unable to find icon with the name "${n}"`)}function bS(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function CS(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Mf{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let $C=(()=>{class n{constructor(e,r,o,u){this._httpClient=e,this._sanitizer=r,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,u){return this._addSvgIconConfig(e,r,new Mf(o,null,u))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,u){const f=this._sanitizer.sanitize(h.q3G.HTML,o);if(!f)throw CS(o);const m=Qy(f);return this._addSvgIconConfig(e,r,new Mf("",m,u))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new Mf(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){const u=this._sanitizer.sanitize(h.q3G.HTML,r);if(!u)throw CS(r);const f=Qy(u);return this._addSvgIconSetConfig(e,new Mf("",f,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,e);if(!r)throw bS(e);const o=this._cachedIconsByUrl.get(r);return o?je(GC(o)):this._loadSvgIconFromConfig(new Mf(e,null)).pipe((0,Mr.b)(u=>this._cachedIconsByUrl.set(r,u)),(0,ot.U)(u=>GC(u)))}getNamedSvgIcon(e,r=""){const o=wS(r,e);let u=this._svgIconConfigs.get(o);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(r,e),u)return this._svgIconConfigs.set(o,u),this._getSvgFromConfig(u);const f=this._iconSetConfigs.get(r);return f?this._getSvgFromIconSetConfigs(e,f):ko(ES(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?je(GC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ot.U)(r=>GC(r)))}_getSvgFromIconSetConfigs(e,r){const o=this._extractIconWithNameFromAnySet(e,r);return o?je(o):pn(r.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe($i(m=>{const I=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,f.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(I)),je(null)})))).pipe((0,ot.U)(()=>{const f=this._extractIconWithNameFromAnySet(e,r);if(!f)throw ES(e);return f}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){const u=r[o];if(u.svgText&&u.svgText.toString().indexOf(e)>-1){const f=this._svgElementFromConfig(u),m=this._extractSvgIconFromSet(f,e,u.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Mr.b)(r=>e.svgText=r),(0,ot.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?je(null):this._fetchIcon(e).pipe((0,Mr.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){const u=e.querySelector(`[id="${r}"]`);if(!u)return null;const f=u.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const m=this._svgElementFromString(Qy("<svg></svg>"));return m.appendChild(f),this._setSvgAttributes(m,o)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const r=this._svgElementFromString(Qy("<svg></svg>")),o=e.attributes;for(let u=0;u<o.length;u++){const{name:f,value:m}=o[u];"id"!==f&&r.setAttribute(f,m)}for(let u=0;u<e.childNodes.length;u++)e.childNodes[u].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[u].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:o,options:u}=e,f=null!==(r=null==u?void 0:u.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function gN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const m=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,o);if(!m)throw bS(o);const E=this._inProgressUrlFetches.get(m);if(E)return E;const I=this._httpClient.get(m,{responseType:"text",withCredentials:f}).pipe((0,ot.U)(P=>Qy(P)),Ch(()=>this._inProgressUrlFetches.delete(m)),(0,xp.B)());return this._inProgressUrlFetches.set(m,I),I}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(wS(e,r),o),this}_addSvgIconSetConfig(e,r){const o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){const u=this._resolvers[o](r,e);if(u)return _N(u)?new Mf(u.url,null,u.options):new Mf(u,null)}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(vS,8),h.LFG(rs),h.LFG(Q,8),h.LFG(h.qLn))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GC(n){return n.cloneNode(!0)}function wS(n,t){return n+":"+t}function _N(n){return!(!n.url||!n.options)}const yN=PI(class{constructor(n){this._elementRef=n}}),vN=new h.OlP("mat-icon-location",{providedIn:"root",factory:function EN(){const n=(0,h.f3M)(Q),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),DS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],bN=DS.map(n=>`[${n}]`).join(", "),CN=/^url\(['"]?#(.*?)['"]?\)$/;let wN=(()=>{class n extends yN{constructor(e,r,o,u,f){super(e),this._iconRegistry=r,this._location=u,this._errorHandler=f,this._inline=!1,this._currentIconFetch=bh.w0.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=oI(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=e.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((o,u)=>{o.forEach(f=>{u.setAttribute(f.name,`url('${e}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(bN),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<r.length;u++)DS.forEach(f=>{const m=r[u],E=m.getAttribute(f),I=E?E.match(CN):null;if(I){let P=o.get(m);P||(P=[],o.set(m,P)),P.push({name:f,value:I[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe((0,Nc.q)(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${u.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36($C),h.$8M("aria-hidden"),h.Y36(vN),h.Y36(h.qLn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(h.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),h.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:fN,decls:1,vars:0,template:function(e,r){1&e&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),DN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Cd],Cd]}),n})(),IN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:0,consts:[["color","primary",1,"mat-elevation-z8"],[1,"title"],[1,"spacer"],["routerLink","home","routerLinkActive","active","mat-button",""],["routerLink","list","routerLinkActive","active","mat-button",""],["routerLink","description","routerLinkActive","active","mat-button",""],["routerLink","new","routerLinkActive","active","mat-raised-button","",1,"new"]],template:function(e,r){1&e&&(h.TgZ(0,"mat-toolbar",0)(1,"span")(2,"mat-icon",1),h._uU(3,"music_video"),h.qZA(),h._uU(4,"Music "),h.qZA(),h._UZ(5,"div",2),h.TgZ(6,"a",3),h._uU(7,"Home"),h.qZA(),h.TgZ(8,"a",4),h._uU(9,"List"),h.qZA(),h.TgZ(10,"a",5),h._uU(11,"Description"),h.qZA(),h.TgZ(12,"a",6),h._uU(13,"New song"),h.qZA()())},directives:[KO,wN,Np,tN,I0],styles:[""]}),n})(),TN=(()=>{class n{constructor(){this.title="Music Library"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&h._UZ(0,"app-navbar")(1,"router-outlet")},directives:[IN,Ep],styles:[""]}),n})();const IS_firebaseDB={apiKey:"AIzaSyAQrAItEaJfUVzz3_uuJf-V1xVm-nlgHC4",authDomain:"daw2-f2366.firebaseapp.com",projectId:"daw2-f2366",storageBucket:"daw2-f2366.appspot.com",messagingSenderId:"370581806121",appId:"1:370581806121:web:14a6099063272e2df59038",measurementId:"G-CM5DP1KPJC"};let AN=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[TN]}),n.\u0275inj=h.cJS({providers:[],imports:[[Co,oM,fu,Sr,ZO,nN,DN,OO,Wo.hO.initializeApp(IS_firebaseDB),eM]]}),n})();(0,h.G48)(),Rd().bootstrapModule(AN).catch(n=>console.error(n))},8306:(rt,De,F)=>{F.d(De,{y:()=>q});var h=F(930),de=F(727),x=F(8822),se=F(4671);var Q=F(2416),X=F(576),ge=F(2806);let q=(()=>{class Se{constructor(He){He&&(this._subscribe=He)}lift(He){const Ee=new Se;return Ee.source=this,Ee.operator=He,Ee}subscribe(He,Ee,ke){const Je=function $e(Se){return Se&&Se instanceof h.Lv||function ie(Se){return Se&&(0,X.m)(Se.next)&&(0,X.m)(Se.error)&&(0,X.m)(Se.complete)}(Se)&&(0,de.Nn)(Se)}(He)?He:new h.Hp(He,Ee,ke);return(0,ge.x)(()=>{const{operator:ze,source:Oe}=this;Je.add(ze?ze.call(Je,Oe):Oe?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(He){try{return this._subscribe(He)}catch(Ee){He.error(Ee)}}forEach(He,Ee){return new(Ee=ee(Ee))((ke,Je)=>{const ze=new h.Hp({next:Oe=>{try{He(Oe)}catch(Te){Je(Te),ze.unsubscribe()}},error:Je,complete:ke});this.subscribe(ze)})}_subscribe(He){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(He)}[x.L](){return this}pipe(...He){return function fe(Se){return 0===Se.length?se.y:1===Se.length?Se[0]:function(He){return Se.reduce((Ee,ke)=>ke(Ee),He)}}(He)(this)}toPromise(He){return new(He=ee(He))((Ee,ke)=>{let Je;this.subscribe(ze=>Je=ze,ze=>ke(ze),()=>Ee(Je))})}}return Se.create=Re=>new Se(Re),Se})();function ee(Se){var Re;return null!==(Re=null!=Se?Se:Q.v.Promise)&&void 0!==Re?Re:Promise}},7579:(rt,De,F)=>{F.d(De,{x:()=>Q});var h=F(8306),de=F(727);const se=(0,F(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=F(8737),fe=F(2806);let Q=(()=>{class ge extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ie=new X(this,this);return ie.operator=ee,ie}_throwIfClosed(){if(this.closed)throw new se}next(ee){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(ee)}})}error(ee){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ie}=this;for(;ie.length;)ie.shift().error(ee)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ie,isStopped:$e,observers:Se}=this;return ie||$e?de.Lc:(this.currentObservers=null,Se.push(ee),new de.w0(()=>{this.currentObservers=null,(0,Y.P)(Se,ee)}))}_checkFinalizedStatuses(ee){const{hasError:ie,thrownError:$e,isStopped:Se}=this;ie?ee.error($e):Se&&ee.complete()}asObservable(){const ee=new h.y;return ee.source=this,ee}}return ge.create=(q,ee)=>new X(q,ee),ge})();class X extends Q{constructor(q,ee){super(),this.destination=q,this.source=ee}next(q){var ee,ie;null===(ie=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ie||ie.call(ee,q)}error(q){var ee,ie;null===(ie=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ie||ie.call(ee,q)}complete(){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ee||ee.call(q)}_subscribe(q){var ee,ie;return null!==(ie=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(q))&&void 0!==ie?ie:de.Lc}}},930:(rt,De,F)=>{F.d(De,{Hp:()=>He,Lv:()=>ie});var h=F(576),de=F(727),x=F(2416),se=F(7849),Y=F(5032);const fe=ge("C",void 0,void 0);function ge(Oe,Te,ve){return{kind:Oe,value:Te,error:ve}}var q=F(3410),ee=F(2806);class ie extends de.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,de.Nn)(Te)&&Te.add(this)):this.destination=ze}static create(Te,ve,Ie){return new He(Te,ve,Ie)}next(Te){this.isStopped?Je(function X(Oe){return ge("N",Oe,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Je(function Q(Oe){return ge("E",void 0,Oe)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Je(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Se(Oe,Te){return $e.call(Oe,Te)}class Re{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ve}=this;if(ve.next)try{ve.next(Te)}catch(Ie){Ee(Ie)}}error(Te){const{partialObserver:ve}=this;if(ve.error)try{ve.error(Te)}catch(Ie){Ee(Ie)}else Ee(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ve){Ee(ve)}}}class He extends ie{constructor(Te,ve,Ie){let _e;if(super(),(0,h.m)(Te)||!Te)_e={next:null!=Te?Te:void 0,error:null!=ve?ve:void 0,complete:null!=Ie?Ie:void 0};else{let Ve;this&&x.v.useDeprecatedNextContext?(Ve=Object.create(Te),Ve.unsubscribe=()=>this.unsubscribe(),_e={next:Te.next&&Se(Te.next,Ve),error:Te.error&&Se(Te.error,Ve),complete:Te.complete&&Se(Te.complete,Ve)}):_e=Te}this.destination=new Re(_e)}}function Ee(Oe){x.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Oe):(0,se.h)(Oe)}function Je(Oe,Te){const{onStoppedNotification:ve}=x.v;ve&&q.z.setTimeout(()=>ve(Oe,Te))}const ze={closed:!0,next:Y.Z,error:function ke(Oe){throw Oe},complete:Y.Z}},727:(rt,De,F)=>{F.d(De,{Lc:()=>fe,w0:()=>Y,Nn:()=>Q});var h=F(576);const x=(0,F(3888).d)(ge=>function(ee){ge(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ie,$e)=>`${$e+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var se=F(8737);class Y{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Se of ee)Se.remove(this);else ee.remove(this);const{initialTeardown:ie}=this;if((0,h.m)(ie))try{ie()}catch(Se){q=Se instanceof x?Se.errors:[Se]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Se of $e)try{X(Se)}catch(Re){q=null!=q?q:[],Re instanceof x?q=[...q,...Re.errors]:q.push(Re)}}if(q)throw new x(q)}}add(q){var ee;if(q&&q!==this)if(this.closed)X(q);else{if(q instanceof Y){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(q)}}_hasParent(q){const{_parentage:ee}=this;return ee===q||Array.isArray(ee)&&ee.includes(q)}_addParent(q){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(q),ee):ee?[ee,q]:q}_removeParent(q){const{_parentage:ee}=this;ee===q?this._parentage=null:Array.isArray(ee)&&(0,se.P)(ee,q)}remove(q){const{_finalizers:ee}=this;ee&&(0,se.P)(ee,q),q instanceof Y&&q._removeParent(this)}}Y.EMPTY=(()=>{const ge=new Y;return ge.closed=!0,ge})();const fe=Y.EMPTY;function Q(ge){return ge instanceof Y||ge&&"closed"in ge&&(0,h.m)(ge.remove)&&(0,h.m)(ge.add)&&(0,h.m)(ge.unsubscribe)}function X(ge){(0,h.m)(ge)?ge():ge.unsubscribe()}},2416:(rt,De,F)=>{F.d(De,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,De,F)=>{F.d(De,{E:()=>de});const de=new(F(8306).y)(Y=>Y.complete())},8996:(rt,De,F)=>{F.d(De,{D:()=>Te});var h=F(8421),de=F(5363),x=F(9468),fe=F(8306),X=F(2202),ge=F(576),q=F(9672);function ie(ve,Ie){if(!ve)throw new Error("Iterable cannot be null");return new fe.y(_e=>{(0,q.f)(_e,Ie,()=>{const Ve=ve[Symbol.asyncIterator]();(0,q.f)(_e,Ie,()=>{Ve.next().then(qe=>{qe.done?_e.complete():_e.next(qe.value)})},0,!0)})})}var $e=F(3670),Se=F(8239),Re=F(1144),He=F(6495),Ee=F(2206),ke=F(4532),Je=F(3260);function Te(ve,Ie){return Ie?function Oe(ve,Ie){if(null!=ve){if((0,$e.c)(ve))return function se(ve,Ie){return(0,h.Xf)(ve).pipe((0,x.R)(Ie),(0,de.Q)(Ie))}(ve,Ie);if((0,Re.z)(ve))return function Q(ve,Ie){return new fe.y(_e=>{let Ve=0;return Ie.schedule(function(){Ve===ve.length?_e.complete():(_e.next(ve[Ve++]),_e.closed||this.schedule())})})}(ve,Ie);if((0,Se.t)(ve))return function Y(ve,Ie){return(0,h.Xf)(ve).pipe((0,x.R)(Ie),(0,de.Q)(Ie))}(ve,Ie);if((0,Ee.D)(ve))return ie(ve,Ie);if((0,He.T)(ve))return function ee(ve,Ie){return new fe.y(_e=>{let Ve;return(0,q.f)(_e,Ie,()=>{Ve=ve[X.h](),(0,q.f)(_e,Ie,()=>{let qe,ne;try{({value:qe,done:ne}=Ve.next())}catch(oe){return void _e.error(oe)}ne?_e.complete():_e.next(qe)},0,!0)}),()=>(0,ge.m)(null==Ve?void 0:Ve.return)&&Ve.return()})}(ve,Ie);if((0,Je.L)(ve))return function ze(ve,Ie){return ie((0,Je.Q)(ve),Ie)}(ve,Ie)}throw(0,ke.z)(ve)}(ve,Ie):(0,h.Xf)(ve)}},8421:(rt,De,F)=>{F.d(De,{Xf:()=>$e});var h=F(655),de=F(1144),x=F(8239),se=F(8306),Y=F(3670),fe=F(2206),Q=F(4532),X=F(6495),ge=F(3260),q=F(576),ee=F(7849),ie=F(8822);function $e(Oe){if(Oe instanceof se.y)return Oe;if(null!=Oe){if((0,Y.c)(Oe))return function Se(Oe){return new se.y(Te=>{const ve=Oe[ie.L]();if((0,q.m)(ve.subscribe))return ve.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,de.z)(Oe))return function Re(Oe){return new se.y(Te=>{for(let ve=0;ve<Oe.length&&!Te.closed;ve++)Te.next(Oe[ve]);Te.complete()})}(Oe);if((0,x.t)(Oe))return function He(Oe){return new se.y(Te=>{Oe.then(ve=>{Te.closed||(Te.next(ve),Te.complete())},ve=>Te.error(ve)).then(null,ee.h)})}(Oe);if((0,fe.D)(Oe))return ke(Oe);if((0,X.T)(Oe))return function Ee(Oe){return new se.y(Te=>{for(const ve of Oe)if(Te.next(ve),Te.closed)return;Te.complete()})}(Oe);if((0,ge.L)(Oe))return function Je(Oe){return ke((0,ge.Q)(Oe))}(Oe)}throw(0,Q.z)(Oe)}function ke(Oe){return new se.y(Te=>{(function ze(Oe,Te){var ve,Ie,_e,Ve;return(0,h.mG)(this,void 0,void 0,function*(){try{for(ve=(0,h.KL)(Oe);!(Ie=yield ve.next()).done;)if(Te.next(Ie.value),Te.closed)return}catch(qe){_e={error:qe}}finally{try{Ie&&!Ie.done&&(Ve=ve.return)&&(yield Ve.call(ve))}finally{if(_e)throw _e.error}}Te.complete()})})(Oe,Te).catch(ve=>Te.error(ve))})}},6451:(rt,De,F)=>{F.d(De,{T:()=>fe});var h=F(8189),de=F(8421),x=F(515),se=F(7669),Y=F(8996);function fe(...Q){const X=(0,se.yG)(Q),ge=(0,se._6)(Q,1/0),q=Q;return q.length?1===q.length?(0,de.Xf)(q[0]):(0,h.J)(ge)((0,Y.D)(q,X)):x.E}},5403:(rt,De,F)=>{F.d(De,{x:()=>de});var h=F(930);function de(se,Y,fe,Q,X){return new x(se,Y,fe,Q,X)}class x extends h.Lv{constructor(Y,fe,Q,X,ge,q){super(Y),this.onFinalize=ge,this.shouldUnsubscribe=q,this._next=fe?function(ee){try{fe(ee)}catch(ie){Y.error(ie)}}:super._next,this._error=X?function(ee){try{X(ee)}catch(ie){Y.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(ee){Y.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},4004:(rt,De,F)=>{F.d(De,{U:()=>x});var h=F(4482),de=F(5403);function x(se,Y){return(0,h.e)((fe,Q)=>{let X=0;fe.subscribe((0,de.x)(Q,ge=>{Q.next(se.call(Y,ge,X++))}))})}},8189:(rt,De,F)=>{F.d(De,{J:()=>x});var h=F(5577),de=F(4671);function x(se=1/0){return(0,h.z)(de.y,se)}},5577:(rt,De,F)=>{F.d(De,{z:()=>X});var h=F(4004),de=F(8421),x=F(4482),se=F(9672),Y=F(5403),Q=F(576);function X(ge,q,ee=1/0){return(0,Q.m)(q)?X((ie,$e)=>(0,h.U)((Se,Re)=>q(ie,Se,$e,Re))((0,de.Xf)(ge(ie,$e))),ee):("number"==typeof q&&(ee=q),(0,x.e)((ie,$e)=>function fe(ge,q,ee,ie,$e,Se,Re,He){const Ee=[];let ke=0,Je=0,ze=!1;const Oe=()=>{ze&&!Ee.length&&!ke&&q.complete()},Te=Ie=>ke<ie?ve(Ie):Ee.push(Ie),ve=Ie=>{Se&&q.next(Ie),ke++;let _e=!1;(0,de.Xf)(ee(Ie,Je++)).subscribe((0,Y.x)(q,Ve=>{null==$e||$e(Ve),Se?Te(Ve):q.next(Ve)},()=>{_e=!0},void 0,()=>{if(_e)try{for(ke--;Ee.length&&ke<ie;){const Ve=Ee.shift();Re?(0,se.f)(q,Re,()=>ve(Ve)):ve(Ve)}Oe()}catch(Ve){q.error(Ve)}}))};return ge.subscribe((0,Y.x)(q,Te,()=>{ze=!0,Oe()})),()=>{null==He||He()}}(ie,$e,ge,ee)))}},5363:(rt,De,F)=>{F.d(De,{Q:()=>se});var h=F(9672),de=F(4482),x=F(5403);function se(Y,fe=0){return(0,de.e)((Q,X)=>{Q.subscribe((0,x.x)(X,ge=>(0,h.f)(X,Y,()=>X.next(ge),fe),()=>(0,h.f)(X,Y,()=>X.complete(),fe),ge=>(0,h.f)(X,Y,()=>X.error(ge),fe)))})}},3099:(rt,De,F)=>{F.d(De,{B:()=>fe});var h=F(8996),de=F(5698),x=F(7579),se=F(930),Y=F(4482);function fe(X={}){const{connector:ge=(()=>new x.x),resetOnError:q=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ie=!0}=X;return $e=>{let Se=null,Re=null,He=null,Ee=0,ke=!1,Je=!1;const ze=()=>{null==Re||Re.unsubscribe(),Re=null},Oe=()=>{ze(),Se=He=null,ke=Je=!1},Te=()=>{const ve=Se;Oe(),null==ve||ve.unsubscribe()};return(0,Y.e)((ve,Ie)=>{Ee++,!Je&&!ke&&ze();const _e=He=null!=He?He:ge();Ie.add(()=>{Ee--,0===Ee&&!Je&&!ke&&(Re=Q(Te,ie))}),_e.subscribe(Ie),Se||(Se=new se.Hp({next:Ve=>_e.next(Ve),error:Ve=>{Je=!0,ze(),Re=Q(Oe,q,Ve),_e.error(Ve)},complete:()=>{ke=!0,ze(),Re=Q(Oe,ee),_e.complete()}}),(0,h.D)(ve).subscribe(Se))})($e)}}function Q(X,ge,...q){return!0===ge?(X(),null):!1===ge?null:ge(...q).pipe((0,de.q)(1)).subscribe(()=>X())}},9468:(rt,De,F)=>{F.d(De,{R:()=>de});var h=F(4482);function de(x,se=0){return(0,h.e)((Y,fe)=>{fe.add(x.schedule(()=>Y.subscribe(fe),se))})}},5698:(rt,De,F)=>{F.d(De,{q:()=>se});var h=F(515),de=F(4482),x=F(5403);function se(Y){return Y<=0?()=>h.E:(0,de.e)((fe,Q)=>{let X=0;fe.subscribe((0,x.x)(Q,ge=>{++X<=Y&&(Q.next(ge),Y<=X&&Q.complete())}))})}},8505:(rt,De,F)=>{F.d(De,{b:()=>Y});var h=F(576),de=F(4482),x=F(5403),se=F(4671);function Y(fe,Q,X){const ge=(0,h.m)(fe)||Q||X?{next:fe,error:Q,complete:X}:fe;return ge?(0,de.e)((q,ee)=>{var ie;null===(ie=ge.subscribe)||void 0===ie||ie.call(ge);let $e=!0;q.subscribe((0,x.x)(ee,Se=>{var Re;null===(Re=ge.next)||void 0===Re||Re.call(ge,Se),ee.next(Se)},()=>{var Se;$e=!1,null===(Se=ge.complete)||void 0===Se||Se.call(ge),ee.complete()},Se=>{var Re;$e=!1,null===(Re=ge.error)||void 0===Re||Re.call(ge,Se),ee.error(Se)},()=>{var Se,Re;$e&&(null===(Se=ge.unsubscribe)||void 0===Se||Se.call(ge)),null===(Re=ge.finalize)||void 0===Re||Re.call(ge)}))}):se.y}},4408:(rt,De,F)=>{F.d(De,{o:()=>Y});var h=F(727);class de extends h.w0{constructor(Q,X){super()}schedule(Q,X=0){return this}}const x={setInterval(fe,Q,...X){const{delegate:ge}=x;return(null==ge?void 0:ge.setInterval)?ge.setInterval(fe,Q,...X):setInterval(fe,Q,...X)},clearInterval(fe){const{delegate:Q}=x;return((null==Q?void 0:Q.clearInterval)||clearInterval)(fe)},delegate:void 0};var se=F(8737);class Y extends de{constructor(Q,X){super(Q,X),this.scheduler=Q,this.work=X,this.pending=!1}schedule(Q,X=0){if(this.closed)return this;this.state=Q;const ge=this.id,q=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(q,ge,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(q,this.id,X),this}requestAsyncId(Q,X,ge=0){return x.setInterval(Q.flush.bind(Q,this),ge)}recycleAsyncId(Q,X,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return X;x.clearInterval(X)}execute(Q,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(Q,X);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,X){let q,ge=!1;try{this.work(Q)}catch(ee){ge=!0,q=ee||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Q,scheduler:X}=this,{actions:ge}=X;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ge,this),null!=Q&&(this.id=this.recycleAsyncId(X,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,De,F)=>{F.d(De,{v:()=>x});var h=F(6063);class de{constructor(Y,fe=de.now){this.schedulerActionCtor=Y,this.now=fe}schedule(Y,fe=0,Q){return new this.schedulerActionCtor(this,Y).schedule(Q,fe)}}de.now=h.l.now;class x extends de{constructor(Y,fe=de.now){super(Y,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Y){const{actions:fe}=this;if(this._active)return void fe.push(Y);let Q;this._active=!0;do{if(Q=Y.execute(Y.state,Y.delay))break}while(Y=fe.shift());if(this._active=!1,Q){for(;Y=fe.shift();)Y.unsubscribe();throw Q}}}},4986:(rt,De,F)=>{F.d(De,{z:()=>x});var h=F(4408);const x=new(F(7565).v)(h.o)},6063:(rt,De,F)=>{F.d(De,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(rt,De,F)=>{F.d(De,{z:()=>h});const h={setTimeout(de,x,...se){const{delegate:Y}=h;return(null==Y?void 0:Y.setTimeout)?Y.setTimeout(de,x,...se):setTimeout(de,x,...se)},clearTimeout(de){const{delegate:x}=h;return((null==x?void 0:x.clearTimeout)||clearTimeout)(de)},delegate:void 0}},2202:(rt,De,F)=>{F.d(De,{h:()=>de});const de=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,De,F)=>{F.d(De,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,De,F)=>{F.d(De,{_6:()=>fe,jO:()=>se,yG:()=>Y});var h=F(576);function x(Q){return Q[Q.length-1]}function se(Q){return(0,h.m)(x(Q))?Q.pop():void 0}function Y(Q){return function de(Q){return Q&&(0,h.m)(Q.schedule)}(x(Q))?Q.pop():void 0}function fe(Q,X){return"number"==typeof x(Q)?Q.pop():X}},8737:(rt,De,F)=>{function h(de,x){if(de){const se=de.indexOf(x);0<=se&&de.splice(se,1)}}F.d(De,{P:()=>h})},3888:(rt,De,F)=>{function h(de){const se=de(Y=>{Error.call(Y),Y.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}F.d(De,{d:()=>h})},2806:(rt,De,F)=>{F.d(De,{O:()=>se,x:()=>x});var h=F(2416);let de=null;function x(Y){if(h.v.useDeprecatedSynchronousErrorHandling){const fe=!de;if(fe&&(de={errorThrown:!1,error:null}),Y(),fe){const{errorThrown:Q,error:X}=de;if(de=null,Q)throw X}}else Y()}function se(Y){h.v.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=Y)}},9672:(rt,De,F)=>{function h(de,x,se,Y=0,fe=!1){const Q=x.schedule(function(){se(),fe?de.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(de.add(Q),!fe)return Q}F.d(De,{f:()=>h})},4671:(rt,De,F)=>{function h(de){return de}F.d(De,{y:()=>h})},1144:(rt,De,F)=>{F.d(De,{z:()=>h});const h=de=>de&&"number"==typeof de.length&&"function"!=typeof de},2206:(rt,De,F)=>{F.d(De,{D:()=>de});var h=F(576);function de(x){return Symbol.asyncIterator&&(0,h.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(rt,De,F)=>{function h(de){return"function"==typeof de}F.d(De,{m:()=>h})},3670:(rt,De,F)=>{F.d(De,{c:()=>x});var h=F(8822),de=F(576);function x(se){return(0,de.m)(se[h.L])}},6495:(rt,De,F)=>{F.d(De,{T:()=>x});var h=F(2202),de=F(576);function x(se){return(0,de.m)(null==se?void 0:se[h.h])}},8239:(rt,De,F)=>{F.d(De,{t:()=>de});var h=F(576);function de(x){return(0,h.m)(null==x?void 0:x.then)}},3260:(rt,De,F)=>{F.d(De,{L:()=>se,Q:()=>x});var h=F(655),de=F(576);function x(Y){return(0,h.FC)(this,arguments,function*(){const Q=Y.getReader();try{for(;;){const{value:X,done:ge}=yield(0,h.qq)(Q.read());if(ge)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(X)}}finally{Q.releaseLock()}})}function se(Y){return(0,de.m)(null==Y?void 0:Y.getReader)}},4482:(rt,De,F)=>{F.d(De,{A:()=>de,e:()=>x});var h=F(576);function de(se){return(0,h.m)(null==se?void 0:se.lift)}function x(se){return Y=>{if(de(Y))return Y.lift(function(fe){try{return se(fe,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,De,F)=>{function h(){}F.d(De,{Z:()=>h})},7849:(rt,De,F)=>{F.d(De,{h:()=>x});var h=F(2416),de=F(3410);function x(se){de.z.setTimeout(()=>{const{onUnhandledError:Y}=h.v;if(!Y)throw se;Y(se)})}},4532:(rt,De,F)=>{function h(de){return new TypeError(`You provided ${null!==de&&"object"==typeof de?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(De,{z:()=>h})},655:(rt,De,F)=>{function se(ne,oe){var re={};for(var ye in ne)Object.prototype.hasOwnProperty.call(ne,ye)&&oe.indexOf(ye)<0&&(re[ye]=ne[ye]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(ye=Object.getOwnPropertySymbols(ne);le<ye.length;le++)oe.indexOf(ye[le])<0&&Object.prototype.propertyIsEnumerable.call(ne,ye[le])&&(re[ye[le]]=ne[ye[le]])}return re}function X(ne,oe,re,ye){return new(re||(re=Promise))(function(we,ue){function ut(xt){try{Be(ye.next(xt))}catch(Kr){ue(Kr)}}function pt(xt){try{Be(ye.throw(xt))}catch(Kr){ue(Kr)}}function Be(xt){xt.done?we(xt.value):function le(we){return we instanceof re?we:new re(function(ue){ue(we)})}(xt.value).then(ut,pt)}Be((ye=ye.apply(ne,oe||[])).next())})}function Ee(ne){return this instanceof Ee?(this.v=ne,this):new Ee(ne)}function ke(ne,oe,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ye=re.apply(ne,oe||[]),we=[];return le={},ue("next"),ue("throw"),ue("return"),le[Symbol.asyncIterator]=function(){return this},le;function ue(vn){ye[vn]&&(le[vn]=function(Vt){return new Promise(function(_r,Tn){we.push([vn,Vt,_r,Tn])>1||ut(vn,Vt)})})}function ut(vn,Vt){try{!function pt(vn){vn.value instanceof Ee?Promise.resolve(vn.value.v).then(Be,xt):Kr(we[0][2],vn)}(ye[vn](Vt))}catch(_r){Kr(we[0][3],_r)}}function Be(vn){ut("next",vn)}function xt(vn){ut("throw",vn)}function Kr(vn,Vt){vn(Vt),we.shift(),we.length&&ut(we[0][0],we[0][1])}}function ze(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,oe=ne[Symbol.asyncIterator];return oe?oe.call(ne):(ne=function ie(ne){var oe="function"==typeof Symbol&&Symbol.iterator,re=oe&&ne[oe],ye=0;if(re)return re.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ye>=ne.length&&(ne=void 0),{value:ne&&ne[ye++],done:!ne}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),re={},ye("next"),ye("throw"),ye("return"),re[Symbol.asyncIterator]=function(){return this},re);function ye(we){re[we]=ne[we]&&function(ue){return new Promise(function(ut,pt){!function le(we,ue,ut,pt){Promise.resolve(pt).then(function(Be){we({value:Be,done:ut})},ue)}(ut,pt,(ue=ne[we](ue)).done,ue.value)})}}}F.d(De,{FC:()=>ke,KL:()=>ze,_T:()=>se,mG:()=>X,qq:()=>Ee})},5e3:(rt,De,F)=>{F.d(De,{$8M:()=>Xl,$Z:()=>wE,AFp:()=>Zb,AaK:()=>X,CHM:()=>Ka,CRH:()=>dy,CZH:()=>jg,CqO:()=>Zh,EJc:()=>yD,EiD:()=>mh,EpF:()=>p_,F$t:()=>AE,F4k:()=>g_,FYo:()=>K_,FiY:()=>at,G48:()=>cn,Gf:()=>uy,GfV:()=>yg,Gpc:()=>ee,Hsn:()=>td,JOm:()=>Si,JVY:()=>um,L6k:()=>Wf,LAX:()=>sh,LFG:()=>w,LSH:()=>Mc,Lbi:()=>pD,NdJ:()=>zp,OlP:()=>Xt,Oqu:()=>D_,PXZ:()=>$g,Q6J:()=>h_,QGY:()=>Wp,Qsj:()=>vb,R0b:()=>Ds,RDi:()=>oa,Rgc:()=>md,SBq:()=>pf,Sil:()=>ED,Suo:()=>cy,TTD:()=>Ha,TgZ:()=>jp,VLi:()=>SD,X6Q:()=>Iy,XFs:()=>et,Xpm:()=>xr,Y36:()=>zh,YKP:()=>Cg,YNc:()=>Wh,Yjl:()=>kt,Yz7:()=>Vt,ZZ4:()=>xy,_Bn:()=>ka,_UZ:()=>f_,_Vd:()=>gg,_c5:()=>gC,_uU:()=>rd,aQg:()=>ky,c2e:()=>mD,cJS:()=>Tn,cg1:()=>sf,dDg:()=>Qb,deG:()=>ru,dqk:()=>Tt,eBb:()=>ih,eFA:()=>RD,ekj:()=>E_,f3M:()=>R,g9A:()=>Yb,h0i:()=>Ml,hGG:()=>wf,hij:()=>mn,iGM:()=>Pb,ifc:()=>Bt,ip1:()=>Hg,kL8:()=>rg,lG2:()=>Ze,mCW:()=>ul,n5z:()=>va,oAB:()=>$,oxw:()=>nn,pB0:()=>zf,q3G:()=>Nn,q4F:()=>vg,qLn:()=>Wn,qOj:()=>e_,qZA:()=>Kh,qzn:()=>Da,s9C:()=>qp,sBO:()=>VD,sIi:()=>Vn,s_b:()=>_d,soG:()=>Ey,tBr:()=>We,tb:()=>gD,tp0:()=>ct,uIk:()=>Na,vHH:()=>Re,vpe:()=>Qo,wAp:()=>it,xp6:()=>Tm,yhl:()=>rh,z2F:()=>iC,z3N:()=>us,zSh:()=>Gm,zs3:()=>Go});var h=F(7579),de=F(727),x=F(8306),se=F(6451),Y=F(3099);function fe(i){for(let s in i)if(i[s]===fe)return s;throw Error("Could not find renamed property on target object.")}function Q(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function X(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(X).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ge(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const q=fe({__forward_ref__:fe});function ee(i){return i.__forward_ref__=ee,i.toString=function(){return X(this())},i}function ie(i){return $e(i)?i():i}function $e(i){return"function"==typeof i&&i.hasOwnProperty(q)&&i.__forward_ref__===ee}class Re extends Error{constructor(s,a){super(function He(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ee(i){return"string"==typeof i?i:null==i?"":String(i)}function ke(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ee(i)}function Te(i,s){const a=s?` in ${s}`:"";throw new Re(-201,`No provider for ${ke(i)} found${a}`)}function pt(i,s){null==i&&function Be(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Vt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Tn(i){return{providers:i.providers||[],imports:i.imports||[]}}function kn(i){return Jn(i,Zr)||Jn(i,Kt)}function Jn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Qi(i){return i&&(i.hasOwnProperty(Ji)||i.hasOwnProperty(dn))?i[Ji]:null}const Zr=fe({\u0275prov:fe}),Ji=fe({\u0275inj:fe}),Kt=fe({ngInjectableDef:fe}),dn=fe({ngInjectorDef:fe});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let Xn;function hn(i){const s=Xn;return Xn=i,s}function mi(i,s,a){const l=kn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&et.Optional?null:void 0!==s?s:void Te(X(i),"Injector")}function Un(i){return{toString:i}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),Bt=(()=>{return(i=Bt||(Bt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Bt;var i})();const Xe="undefined"!=typeof globalThis&&globalThis,dt="undefined"!=typeof window&&window,Pi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt=Xe||"undefined"!=typeof global&&global||dt||Pi,or={},tt=[],ar=fe({\u0275cmp:fe}),gt=fe({\u0275dir:fe}),Jr=fe({\u0275pipe:fe}),Xr=fe({\u0275mod:fe}),lr=fe({\u0275fac:fe}),ur=fe({__NG_ELEMENT_ID__:fe});let ei=0;function xr(i){return Un(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||tt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Bt.Emulated,id:"c",styles:i.styles||tt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,p=i.features,y=i.pipes;return l.id+=ei++,l.inputs=Pe(i.inputs,a),l.outputs=Pe(i.outputs),p&&p.forEach(b=>b(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(H):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(L):null,l})}function H(i){return yt(i)||function Ft(i){return i[gt]||null}(i)}function L(i){return function mt(i){return i[Jr]||null}(i)}const B={};function $(i){return Un(()=>{const s={type:i.type,bootstrap:i.bootstrap||tt,declarations:i.declarations||tt,imports:i.imports||tt,exports:i.exports||tt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(B[i.id]=i.type),s})}function Pe(i,s){if(null==i)return or;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),a[c]=l,s&&(s[c]=p)}return a}const Ze=xr;function kt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function yt(i){return i[ar]||null}function Ut(i,s){const a=i[Xr]||null;if(!a&&!0===s)throw new Error(`Type ${X(i)} does not have '\u0275mod' property.`);return a}function cr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Fr(i){return Array.isArray(i)&&!0===i[1]}function uo(i){return 0!=(8&i.flags)}function Os(i){return 2==(2&i.flags)}function ra(i){return 1==(1&i.flags)}function Cr(i){return null!==i.template}function Ll(i){return 0!=(512&i[2])}function Fi(i,s){return i.hasOwnProperty(lr)?i[lr]:null}class Ns{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ha(){return co}function co(i){return i.type.prototype.ngOnChanges&&(i.setInput=Md),sa}function sa(){const i=ri(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===or)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Md(i,s,a,l){const c=ri(i)||function Ps(i,s){return i[ja]=s}(i,{previous:or,current:null}),p=c.current||(c.current={}),y=c.previous,b=this.declaredInputs[a],C=y[b];p[b]=new Ns(C&&C.currentValue,s,y===or),i[l]=s}Ha.ngInherit=!0;const ja="__ngSimpleChanges__";function ri(i){return i[ja]||null}let Ga;function oa(i){Ga=i}function an(i){return!!i.listen}const Wa={createRenderer:(i,s)=>function aa(){return void 0!==Ga?Ga:"undefined"!=typeof document?document:void 0}()};function Wt(i){for(;Array.isArray(i);)i=i[0];return i}function fo(i,s){return Wt(s[i])}function jn(i,s){return Wt(s[i.index])}function ks(i,s){return i.data[s]}function $n(i,s){const a=s[i];return cr(a)?a:a[0]}function po(i){return 4==(4&i[2])}function vi(i){return 128==(128&i[2])}function si(i,s){return null==s?null:i[s]}function Jt(i){i[18]=0}function go(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const lt={lFrame:Qa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mo(){return lt.bindingsEnabled}function be(){return lt.lFrame.lView}function At(){return lt.lFrame.tView}function Ka(i){return lt.lFrame.contextLView=i,i[8]}function tn(){let i=Fs();for(;null!==i&&64===i.type;)i=i.parent;return i}function Fs(){return lt.lFrame.currentTNode}function Ir(i,s){const a=lt.lFrame;a.currentTNode=i,a.isParent=s}function fa(){return lt.lFrame.isParent}function _o(){lt.lFrame.isParent=!1}function yo(){return lt.isInCheckNoChangesMode}function vo(i){lt.isInCheckNoChangesMode=i}function Eo(){return lt.lFrame.bindingIndex++}function pa(i,s){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,bo(s)}function bo(i){lt.lFrame.currentDirectiveIndex=i}function Gl(){return lt.lFrame.currentQueryIndex}function ga(i){lt.lFrame.currentQueryIndex=i}function hc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Wl(i,s,a){if(a&et.SkipSelf){let c=s,p=i;for(;!(c=c.parent,null!==c||a&et.Host||(c=hc(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;s=c,i=p}const l=lt.lFrame=Ya();return l.currentTNode=s,l.lView=i,!0}function Vs(i){const s=Ya(),a=i[1];lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ya(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?Qa(i):s}function Qa(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function zl(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ql=zl;function ma(){const i=zl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ln(){return lt.lFrame.selectedIndex}function bi(i){lt.lFrame.selectedIndex=i}function Gt(){const i=lt.lFrame;return ks(i.tView,i.selectedIndex)}function kd(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Fd(i,s,a){im(i,s,3,a)}function Ja(i,s,a,l){(3&i[2])===a&&im(i,s,a,l)}function Ld(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function im(i,s,a,l){const p=null!=l?l:-1,y=s.length-1;let b=0;for(let C=void 0!==l?65535&i[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(b=s[C],null!=l&&b>=l)break}else s[C]<0&&(i[18]+=65536),(b<p||-1==p)&&(gc(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function gc(i,s,a,l){const c=a[l]<0,p=a[l+1],b=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Do{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function To(i,s,a){const l=an(i);let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const y=a[c++],b=a[c++],C=a[c++];l?i.setAttribute(s,b,C,y):s.setAttributeNS(y,b,C)}else{const y=p,b=a[++c];Ao(y)?l&&i.setProperty(s,y,b):l?i.setAttribute(s,y,b):s.setAttribute(y,b),c++}}return c}function _a(i){return 3===i||4===i||6===i}function Ao(i){return 64===i.charCodeAt(0)}function Xa(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||Yl(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function Yl(i,s,a,l,c){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const b=i[p++];if("number"==typeof b){if(b===s){y=-1;break}if(b>s){y=p-1;break}}}for(;p<i.length;){const b=i[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==c&&(i[p+1]=c));if(l===i[p+1])return void(i[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==c&&i.splice(p++,0,c)}function _c(i){return-1!==i}function wi(i){return 32767&i}function _n(i,s){let a=function fn(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let ot=!0;function el(i){const s=ot;return ot=i,s}let pn=0;function tr(i,s){const a=Us(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Tr(l.data,i),Tr(s,null),Tr(l.blueprint,null));const c=ya(i,s),p=i.injectorIndex;if(_c(c)){const y=wi(c),b=_n(c,s),C=b[1].data;for(let S=0;S<8;S++)s[p+S]=b[y+S]|C[y+S]}return s[p+8]=c,p}function Tr(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Us(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ya(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const p=c[1],y=p.type;if(l=2===y?p.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function tl(i,s,a){!function yc(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ur)&&(l=a[ur]),null==l&&(l=a[ur]=pn++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Ec(i,s,a){if(a&et.Optional)return i;Te(s,"NodeInjector")}function Di(i,s,a,l){if(a&et.Optional&&void 0===l&&(l=null),0==(a&(et.Self|et.Host))){const c=i[9],p=hn(void 0);try{return c?c.get(s,l,a&et.Optional):mi(s,l,a&et.Optional)}finally{hn(p)}}return Ec(l,s,a)}function Ii(i,s,a,l=et.Default,c){if(null!==i){const p=function js(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ur)?i[ur]:void 0;return"number"==typeof s?s>=0?255&s:Rn:s}(a);if("function"==typeof p){if(!Wl(s,i,l))return l&et.Host?Ec(c,a,l):Di(s,a,l,c);try{const y=p(l);if(null!=y||l&et.Optional)return y;Te(a)}finally{ql()}}else if("number"==typeof p){let y=null,b=Us(i,s),C=-1,S=l&et.Host?s[16][6]:null;for((-1===b||l&et.SkipSelf)&&(C=-1===b?ya(i,s):s[b+8],-1!==C&&Mo(l,!1)?(y=s[1],b=wi(C),s=_n(C,s)):b=-1);-1!==b;){const M=s[1];if(nl(p,b,M.data)){const k=Zn(b,s,a,y,l,S);if(k!==Li)return k}C=s[b+8],-1!==C&&Mo(l,s[1].data[b+8]===S)&&nl(p,b,s)?(y=M,b=wi(C),s=_n(C,s)):b=-1}}}return Di(s,a,l,c)}const Li={};function Rn(){return new Br(tn(),be())}function Zn(i,s,a,l,c,p){const y=s[1],b=y.data[i+8],M=Hs(b,y,a,null==l?Os(b)&&ot:l!=y&&0!=(3&b.type),c&et.Host&&p===b);return null!==M?So(s,y,M,b):Li}function Hs(i,s,a,l,c){const p=i.providerIndexes,y=s.data,b=1048575&p,C=i.directiveStart,M=p>>20,j=c?b+M:i.directiveEnd;for(let J=l?b:b+M;J<j;J++){const me=y[J];if(J<C&&a===me||J>=C&&me.type===a)return J}if(c){const J=y[C];if(J&&Cr(J)&&J.type===a)return C}return null}function So(i,s,a,l){let c=i[a];const p=s.data;if(function Io(i){return i instanceof Do}(c)){const y=c;y.resolving&&function Je(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Re(-200,`Circular dependency in DI detected for ${i}${a}`)}(ke(p[a]));const b=el(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?hn(y.injectImpl):null;Wl(i,l,et.Default);try{c=i[a]=y.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function xd(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=s.type.prototype;if(l){const y=co(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==C&&hn(C),el(b),y.resolving=!1,ql()}}return c}function nl(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Mo(i,s){return!(i&et.Self||i&et.Host&&s)}class Br{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Ii(this._tNode,this._lView,s,l,a)}}function va(i){return Un(()=>{const s=i.prototype.constructor,a=s[lr]||Jl(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const p=c[lr]||Jl(c);if(p&&p!==a)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function Jl(i){return $e(i)?()=>{const s=Jl(ie(i));return s&&s()}:Fi(i)}function Xl(i){return function vc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const p=a[c];if(_a(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(p===s)return a[c+1];c+=2}}}return null}(tn(),i)}const Vi="__parameters__";function $s(i,s,a){return Un(()=>{const l=function is(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...p){if(this instanceof c)return l.apply(this,p),this;const y=new c(...p);return b.annotation=y,b;function b(C,S,M){const k=C.hasOwnProperty(Vi)?C[Vi]:Object.defineProperty(C,Vi,{value:[]})[Vi];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(y),C}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Xt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Vt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ru=new Xt("AnalyzeForEntryComponents");function li(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),li(l,s)):s!==i&&s.push(l)}return s}function ui(i,s){i.forEach(a=>Array.isArray(a)?ui(a,s):s(a))}function iu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ws(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function zs(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function Yn(i,s,a){let l=Ar(i,s);return l>=0?i[1|l]=a:(l=~l,function ba(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function ss(i,s){const a=Ar(i,s);if(a>=0)return i[1|a]}function Ar(i,s){return function il(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const p=l+(c-l>>1),y=i[p<<a];if(s===y)return p<<a;y>s?c=p:l=p+1}return~(c<<a)}(i,s,1)}const qs={},as="__NG_DI_FLAG__",jr="ngTempTokenPath",ci=/\n/gm,wc="__source",ol=fe({provide:String,useValue:fe});let Po;function al(i){const s=Po;return Po=i,s}function Kd(i,s=et.Default){if(void 0===Po)throw new Re(203,"");return null===Po?mi(i,void 0,s):Po.get(i,s&et.Optional?null:void 0,s)}function w(i,s=et.Default){return(function Fn(){return Xn}()||Kd)(ie(i),s)}const R=w;function U(i){const s=[];for(let a=0;a<i.length;a++){const l=ie(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Re(900,"");let c,p=et.Default;for(let y=0;y<l.length;y++){const b=l[y],C=ae(b);"number"==typeof C?-1===C?c=b.token:p|=C:c=b}s.push(w(c,p))}else s.push(w(l))}return s}function K(i,s){return i[as]=s,i.prototype[as]=s,i}function ae(i){return i[as]}const We=K($s("Inject",i=>({token:i})),-1),at=K($s("Optional"),8),ct=K($s("SkipSelf"),4);let xo;function wa(i){var s;return(null===(s=function Ca(){if(void 0===xo&&(xo=null,Tt.trustedTypes))try{xo=Tt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return xo}())||void 0===s?void 0:s.createHTML(i))||i}class Ks{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dc extends Ks{getTypeName(){return"HTML"}}class am extends Ks{getTypeName(){return"Style"}}class Gf extends Ks{getTypeName(){return"Script"}}class lm extends Ks{getTypeName(){return"URL"}}class ev extends Ks{getTypeName(){return"ResourceURL"}}function us(i){return i instanceof Ks?i.changingThisBreaksApplicationSecurity:i}function Da(i,s){const a=rh(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function rh(i){return i instanceof Ks&&i.getTypeName()||null}function um(i){return new Dc(i)}function Wf(i){return new am(i)}function ih(i){return new Gf(i)}function sh(i){return new lm(i)}function zf(i){return new ev(i)}class oh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(wa(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class qf{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=wa(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=wa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const y=a.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const lh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ul(i){return(i=String(i)).match(lh)||i.match(uh)?i:"unsafe:"+i}function cs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function cl(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const cm=cs("area,br,col,hr,img,wbr"),ds=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zf=cs("rp,rt"),Tc=cl(cm,cl(ds,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(Zf,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl(Zf,ds)),du=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hh=cs("srcset"),ph=cl(du,hh,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zs=cs("script,style,template");class dm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Tc.hasOwnProperty(a))return this.sanitizedSomething=!0,!Zs.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let c=0;c<l.length;c++){const p=l.item(c),y=p.name,b=y.toLowerCase();if(!ph.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;du[b]&&(C=ul(C)),hh[b]&&(i=C,C=(i=String(i)).split(",").map(s=>ul(s.trim())).join(", ")),this.buf.push(" ",y,'="',gh(C),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Tc.hasOwnProperty(a)&&!cm.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(gh(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Yf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hm=/([^\#-~ |!])/g;function gh(i){return i.replace(/&/g,"&amp;").replace(Yf,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(hm,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ac;function mh(i,s){let a=null;try{Ac=Ac||function Ic(i){const s=new qf(i);return function ah(){try{return!!(new window.DOMParser).parseFromString(wa(""),"text/html")}catch(i){return!1}}()?new oh(s):s}(i);let l=s?String(s):"";a=Ac.getInertBodyElement(l);let c=5,p=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=p,p=a.innerHTML,a=Ac.getInertBodyElement(l)}while(l!==p);return wa((new dm).sanitizeChildren(Ia(a)||a))}finally{if(a){const l=Ia(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Ia(i){return"content"in i&&function Qf(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function Mc(i){const s=function fu(){const i=be();return i&&i[12]}();return s?s.sanitize(Nn.URL,i)||"":Da(i,"URL")?us(i):ul(Ee(i))}const ep="__ngContext__";function je(i,s){i[ep]=s}function Gr(i){const s=function $r(i){return i[ep]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function hl(i){return i.ngOriginalError}function bh(i,...s){i.error(...s)}class Wn{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function Fo(i){return i&&i.ngErrorLogger||bh}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&hl(s);for(;a&&hl(a);)a=hl(a);return a||null}}const fl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function fs(i){return i instanceof Function?i():i}var Si=(()=>((Si=Si||{})[Si.Important=1]="Important",Si[Si.DashCase=2]="DashCase",Si))();function d(i,s){return undefined(i,s)}function T(i){const s=i[3];return Fr(s)?s[3]:s}function he(i){return Ge(i[13])}function Me(i){return Ge(i[4])}function Ge(i){for(;null!==i&&!Fr(i);)i=i[4];return i}function Qe(i,s,a,l,c){if(null!=l){let p,y=!1;Fr(l)?p=l:cr(l)&&(y=!0,l=l[0]);const b=Wt(l);0===i&&null!==a?null==c?sv(s,a,b):yu(s,a,b,c||null,!0):1===i&&null!==a?yu(s,a,b,c||null,!0):2===i?function cv(i,s,a){const l=up(i,s);l&&function ov(i,s,a,l){an(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,b,y):3===i&&s.destroyNode(b),null!=p&&function Ah(i,s,a,l,c){const p=a[7];p!==Wt(a)&&Qe(s,i,l,p,c);for(let b=10;b<a.length;b++){const C=a[b];kc(C[1],C,i,s,l,p)}}(s,i,p,a,c)}}function Dt(i,s,a){if(an(i))return i.createElement(s,a);{const l=null!==a?function Vr(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function Pc(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,go(c,-1)),a.splice(l,1)}function di(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&Pc(c,l),s>0&&(i[a-1][4]=l[4]);const p=Ws(i,10+s);!function wh(i,s){kc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=p[19];null!==y&&y.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Ih(i,s){if(!(256&s[2])){const a=s[11];an(a)&&a.destroyNode&&kc(i,s,a,3,null,null),function _u(i){let s=i[13];if(!s)return gl(i[1],i);for(;s;){let a=null;if(cr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)cr(s)&&gl(s[1],s),s=s[3];null===s&&(s=i),cr(s)&&gl(s[1],s),a=s&&s[4]}s=a}}(s)}}function gl(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function BI(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof Do)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=c[p[y]],C=p[y+1];try{C.call(b)}finally{}}else try{p.call(c)}finally{}}}}(i,s),function lp(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],b="function"==typeof y?y(s):Wt(s[y]),C=l[c=a[p+2]],S=a[p+3];"boolean"==typeof S?b.removeEventListener(a[p],C,S):S>=0?l[c=S]():l[c=-S].unsubscribe(),p+=2}else{const y=l[c=a[p+1]];a[p].call(y)}if(null!==l){for(let p=c+1;p<l.length;p++)l[p]();s[7]=null}}(i,s),1===s[1].type&&an(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Fr(s[3])){a!==s[3]&&Pc(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function pr(i,s,a){return function Ys(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===Bt.None||c===Bt.Emulated)return null}return jn(l,a)}(i,s.parent,a)}function yu(i,s,a,l,c){an(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function sv(i,s,a){an(i)?i.appendChild(s,a):s.appendChild(a)}function vm(i,s,a,l,c){null!==l?yu(i,s,a,l,c):sv(i,s,a)}function up(i,s){return an(i)?i.parentNode(s):s.parentNode}function lv(i,s,a){return bm(i,s,a)}let bm=function Em(i,s,a){return 40&i.type?jn(i,a):null};function Ot(i,s,a,l){const c=pr(i,l,s),p=s[11],b=lv(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let C=0;C<a.length;C++)vm(p,c,a[C],b,!1);else vm(p,c,a,b,!1)}function _l(i,s){if(null!==s){const a=s.type;if(3&a)return jn(s,i);if(4&a)return Aa(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return _l(i,l);{const c=i[s.index];return Fr(c)?Aa(-1,c):Wt(c)}}if(32&a)return d(s,i)()||Wt(i[s.index]);{const l=uv(i,s);return null!==l?Array.isArray(l)?l[0]:_l(T(i[16]),l):_l(i,s.next)}}return null}function uv(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Aa(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return _l(l,c)}return s[7]}function cp(i,s,a,l,c,p,y){for(;null!=a;){const b=l[a.index],C=a.type;if(y&&0===s&&(b&&je(Wt(b),l),a.flags|=4),64!=(64&a.flags))if(8&C)cp(i,s,a.child,l,c,p,!1),Qe(s,i,c,b,p);else if(32&C){const S=d(a,l);let M;for(;M=S();)Qe(s,i,c,M,p);Qe(s,i,c,b,p)}else 16&C?Th(i,s,l,a,c,p):Qe(s,i,c,b,p);a=y?a.projectionNext:a.next}}function kc(i,s,a,l,c,p){cp(a,l,i.firstChild,s,c,p,!1)}function Th(i,s,a,l,c,p){const y=a[16],C=y[6].projection[l.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Qe(s,i,c,C[S],p);else cp(i,s,C,y[3],c,p,!0)}function Sh(i,s,a){an(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Cm(i,s,a){an(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function dp(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const p=s.length;if(c+p===l||i.charCodeAt(c+p)<=32)return c}a=c+1}}const Dm="ng-template";function hv(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==dp(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function fv(i){return 4===i.type&&i.value!==Dm}function KC(i,s,a){return s===(4!==i.type||a?i.value:Dm)}function ZC(i,s,a){let l=4;const c=i.attrs||[],p=function JC(i){for(let s=0;s<i.length;s++)if(_a(i[s]))return s;return i.length}(c);let y=!1;for(let b=0;b<s.length;b++){const C=s[b];if("number"!=typeof C){if(!y)if(4&l){if(l=2|1&l,""!==C&&!KC(i,C,a)||""===C&&1===s.length){if(Ri(l))return!1;y=!0}}else{const S=8&l?C:s[++b];if(8&l&&null!==i.attrs){if(!hv(i.attrs,S,a)){if(Ri(l))return!1;y=!0}continue}const k=YC(8&l?"class":C,c,fv(i),a);if(-1===k){if(Ri(l))return!1;y=!0;continue}if(""!==S){let j;j=k>p?"":c[k+1].toLowerCase();const J=8&l?j:null;if(J&&-1!==dp(J,S,0)||2&l&&S!==j){if(Ri(l))return!1;y=!0}}}}else{if(!y&&!Ri(l)&&!Ri(C))return!1;if(y&&Ri(C))continue;y=!1,l=C|1&l}}return Ri(l)||y}function Ri(i){return 0==(1&i)}function YC(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let p=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=s[++c];for(;"string"==typeof b;)b=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=p?1:2}return-1}return function XC(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function pv(i,s,a=!1){for(let l=0;l<s.length;l++)if(ZC(i,s[l],a))return!0;return!1}function gv(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let c=0;c<i.length;c++)if(i[c]!==l[c])continue e;return!0}}return!1}function hp(i,s){return i?":not("+s.trim()+")":s}function Im(i){let s=i[0],a=1,l=2,c="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const b=i[++a];c+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Ri(y)&&(s+=hp(p,c),c=""),l=y,p=p||!Ri(l);a++}return""!==c&&(s+=hp(p,c)),s}const vt={};function Tm(i){mv(At(),be(),Ln()+i,yo())}function mv(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Fd(s,p,a)}else{const p=i.preOrderHooks;null!==p&&Ja(s,p,0,a)}bi(a)}function Mh(i,s){return i<<17|s<<2}function Qs(i){return i>>17&32767}function Oh(i){return 2|i}function Ho(i){return(131068&i)>>2}function Nh(i,s){return-131069&i|s<<2}function Am(i){return 1|i}function Rm(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],p=a[l+1];if(-1!==p){const y=i.data[p];ga(c),y.contentQueries(2,s[p],p)}}}function vl(i,s,a,l,c,p,y,b,C,S){const M=s.blueprint.slice();return M[0]=c,M[2]=140|l,Jt(M),M[3]=M[15]=i,M[8]=a,M[10]=y||i&&i[10],M[11]=b||i&&i[11],M[12]=C||i&&i[12]||null,M[9]=S||i&&i[9]||null,M[6]=p,M[16]=2==s.type?i[16]:M,M}function Vc(i,s,a,l,c){let p=i.data[s];if(null===p)p=function Om(i,s,a,l,c){const p=Fs(),y=fa(),C=i.data[s]=function l0(i,s,a,l,c,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(i,s,a,l,c),function cc(){return lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=c;const y=function Ls(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ir(p,!0),p}function Bc(i,s,a,l){if(0===a)return-1;const c=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Fh(i,s,a){Vs(s);try{const l=i.viewQuery;null!==l&&Um(1,l,a);const c=i.template;null!==c&&Nm(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Rm(i,s),i.staticViewQueries&&Um(2,i.viewQuery,a);const p=i.components;null!==p&&function bp(i,s){for(let a=0;a<s.length;a++)b0(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ma()}}function Oa(i,s,a,l){const c=s[2];if(256==(256&c))return;Vs(s);const p=yo();try{Jt(s),function uc(i){return lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Nm(i,s,a,2,l);const y=3==(3&c);if(!p)if(y){const S=i.preOrderCheckHooks;null!==S&&Fd(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Ja(s,S,0,null),Ld(s,0)}if(function v0(i){for(let s=he(i);null!==s;s=Me(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],p=c[3];0==(1024&c[2])&&go(p,1),c[2]|=1024}}}(s),function Vv(i){for(let s=he(i);null!==s;s=Me(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];vi(l)&&Oa(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&Rm(i,s),!p)if(y){const S=i.contentCheckHooks;null!==S&&Fd(s,S)}else{const S=i.contentHooks;null!==S&&Ja(s,S,1),Ld(s,1)}!function ps(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)bi(~c);else{const p=c,y=a[++l],b=a[++l];pa(y,p),b(2,s[p])}}}finally{bi(-1)}}(i,s);const b=i.components;null!==b&&function Tv(i,s){for(let a=0;a<s.length;a++)E0(i,s[a])}(s,b);const C=i.viewQuery;if(null!==C&&Um(2,C,l),!p)if(y){const S=i.viewCheckHooks;null!==S&&Fd(s,S)}else{const S=i.viewHooks;null!==S&&Ja(s,S,2),Ld(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,go(s[3],-1))}finally{ma()}}function Av(i,s,a,l){const c=s[10],p=!yo(),y=po(s);try{p&&!y&&c.begin&&c.begin(),y&&Fh(i,s,l),Oa(i,s,a,l)}finally{p&&!y&&c.end&&c.end()}}function Nm(i,s,a,l,c){const p=Ln(),y=2&l;try{bi(-1),y&&s.length>20&&mv(i,s,20,yo()),a(l,c)}finally{bi(p)}}function Cp(i,s,a){!mo()||(function f0(i,s,a,l){const c=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||tr(a,s),je(l,s);const y=a.initialInputs;for(let b=c;b<p;b++){const C=i.data[b],S=Cr(C);S&&_0(s,a,C);const M=So(s,i,b,a);je(M,s),null!==y&&QI(0,b-c,M,C,0,y),S&&($n(a.index,s)[8]=M)}}(i,s,a,jn(a,s)),128==(128&a.flags)&&function p0(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,b=function Rd(){return lt.lFrame.currentDirectiveIndex}();try{bi(y);for(let C=l;C<c;C++){const S=i.data[C],M=s[C];bo(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Nv(S,M)}}finally{bi(-1),bo(b)}}(i,s,a))}function Du(i,s,a=jn){const l=s.localNames;if(null!==l){let c=s.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],b=-1===y?a(s,i):i[y];i[c++]=b}}}function Pm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=wp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function wp(i,s,a,l,c,p,y,b,C,S){const M=20+l,k=M+c,j=function a0(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:vt);return a}(M,k),J="function"==typeof S?S():S;return j[1]={type:i,blueprint:j,template:a,queries:null,viewQuery:b,declTNode:s,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function Dp(i,s,a,l){const c=Hm(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Hv(i).push(l,c.length-1))}function xm(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Wi(i,s,a,l,c,p,y,b){const C=jn(s,a);let M,S=s.inputs;!b&&null!=S&&(M=S[l])?($v(i,a,M,l,c),Os(s)&&function Tp(i,s){const a=$n(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function u0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,an(p)?p.setProperty(C,l,c):Ao(l)||(C.setProperty?C.setProperty(l,c):C[l]=c))}function km(i,s,a,l){let c=!1;if(mo()){const p=function g0(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];pv(a,y.selectors,!1)&&(c||(c=[]),tl(tr(a,s),i,y.type),Cr(y)?(Pv(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==p){c=!0,kv(a,i.data.length,p.length);for(let M=0;M<p.length;M++){const k=p[M];k.providersResolver&&k.providersResolver(k)}let b=!1,C=!1,S=Bc(i,s,p.length,null);for(let M=0;M<p.length;M++){const k=p[M];a.mergedAttrs=Xa(a.mergedAttrs,k.hostAttrs),Fv(i,a,s,S,k),m0(S,k,y),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const j=k.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),S++}!function Ip(i,s){const l=s.directiveEnd,c=i.data,p=s.attrs,y=[];let b=null,C=null;for(let S=s.directiveStart;S<l;S++){const M=c[S],k=M.inputs,j=null===p||fv(s)?null:Lv(k,p);y.push(j),b=xm(k,S,b),C=xm(M.outputs,S,C)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=b,s.outputs=C}(i,a)}y&&function xv(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const p=a[s[c+1]];if(null==p)throw new Re(-301,!1);l.push(s[c],p)}}}(a,l,y)}return a.mergedAttrs=Xa(a.mergedAttrs,a.attrs),c}function Ov(i,s,a,l,c,p){const y=p.hostBindings;if(y){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const C=~s.index;(function h0(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(l,c,y)}}function Nv(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Pv(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function m0(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Cr(s)&&(a[""]=i)}}function kv(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Fv(i,s,a,l,c){i.data[l]=c;const p=c.factory||(c.factory=Fi(c.type)),y=new Do(p,Cr(c),null);i.blueprint[l]=y,a[l]=y,Ov(i,s,0,l,Bc(i,a,c.hostVars,vt),c)}function _0(i,s,a){const l=jn(s,i),c=Pm(a),p=i[10],y=Rp(i,vl(i,c,null,a.onPush?64:16,l,s,p,p.createRenderer(l,a),null,null));i[s.index]=y}function jo(i,s,a,l,c,p){const y=jn(i,s);!function Mp(i,s,a,l,c,p,y){if(null==p)an(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const b=null==y?Ee(p):y(p,l||"",c);an(i)?i.setAttribute(s,c,b,a):a?s.setAttributeNS(a,c,b):s.setAttribute(c,b)}}(s[11],y,p,i.value,a,l,c)}function QI(i,s,a,l,c,p){const y=p[s];if(null!==y){const b=l.setInput;for(let C=0;C<y.length;){const S=y[C++],M=y[C++],k=y[C++];null!==b?l.setInput(a,k,S,M):a[M]=k}}}function Lv(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Fm(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function E0(i,s){const a=$n(s,i);if(vi(a)){const l=a[1];80&a[2]?Oa(l,a,l.template,a[8]):a[5]>0&&Lm(a)}}function Lm(i){for(let l=he(i);null!==l;l=Me(l))for(let c=10;c<l.length;c++){const p=l[c];if(1024&p[2]){const y=p[1];Oa(y,p,y.template,p[8])}else p[5]>0&&Lm(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=$n(a[l],i);vi(c)&&c[5]>0&&Lm(c)}}function b0(i,s){const a=$n(s,i),l=a[1];(function Bv(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Fh(l,a,a[8])}function Rp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Vh(i){for(;i;){i[2]|=64;const s=T(i);if(Ll(i)&&!s)return i;i=s}return null}function Bm(i,s,a){const l=s[10];l.begin&&l.begin();try{Oa(i,s,i.template,a)}catch(c){throw Rr(s,c),c}finally{l.end&&l.end()}}function Op(i){!function Vm(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Gr(a),c=l[1];Av(c,l,c.template,a)}}(i[8])}function Um(i,s,a){ga(0),s(i,a)}const D0=(()=>Promise.resolve(null))();function Hm(i){return i[7]||(i[7]=[])}function Hv(i){return i.cleanup||(i.cleanup=[])}function Rr(i,s){const a=i[9],l=a?a.get(Wn,null):null;l&&l.handleError(s)}function $v(i,s,a,l,c){for(let p=0;p<a.length;){const y=a[p++],b=a[p++],C=s[y],S=i.data[y];null!==S.setInput?S.setInput(C,c,l,b):C[b]=c}}function $o(i,s,a){const l=fo(s,i);!function Mi(i,s,a){an(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Uc(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const b=s[y];"number"==typeof b?p=b:1==p?c=ge(c,b):2==p&&(l=ge(l,b+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const jm=new Xt("INJECTOR",-1);class $m{get(s,a=qs){if(a===qs){const l=new Error(`NullInjectorError: No provider for ${X(s)}!`);throw l.name="NullInjectorError",l}return a}}const Gm=new Xt("Set Injector scope."),jc={},Gv={};let Bh;function T0(){return void 0===Bh&&(Bh=new $m),Bh}function El(i,s=null,a=null,l){const c=Wm(i,s,a,l);return c._resolveInjectorDefTypes(),c}function Wm(i,s=null,a=null,l){return new A0(i,a,s||T0(),l)}class A0{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&ui(a,b=>this.processProvider(b,s,a)),ui([s],b=>this.processInjectorType(b,[],p)),this.records.set(jm,$c(void 0,this));const y=this.records.get(Gm);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:X(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=qs,l=et.Default){this.assertNotDestroyed();const c=al(this),p=hn(void 0);try{if(!(l&et.SkipSelf)){let b=this.records.get(s);if(void 0===b){const C=function qv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Xt}(s)&&kn(s);b=C&&this.injectableDefInScope(C)?$c(zm(s),jc):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(l&et.Self?T0():this.parent).get(s,a=l&et.Optional&&a===qs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[jr]=y[jr]||[]).unshift(X(s)),c)throw y;return function Ae(i,s,a,l){const c=i[jr];throw s[wc]&&c.unshift(s[wc]),i.message=function Ue(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=X(s);if(Array.isArray(s))c=s.map(X).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let b=s[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):X(b)))}c=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(ci,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[jr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{hn(p),al(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(X(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(s,a,l){if(!(s=ie(s)))return!1;let c=Qi(s);const p=null==c&&s.ngModule||void 0,y=void 0===p?s:p,b=-1!==l.indexOf(y);if(void 0!==p&&(c=Qi(p)),null==c)return!1;if(null!=c.imports&&!b){let M;l.push(y);try{ui(c.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:j,providers:J}=M[k];ui(J,me=>this.processProvider(me,j,J||tt))}}this.injectorDefTypes.add(y);const C=Fi(y)||(()=>new y);this.records.set(y,$c(C,jc));const S=c.providers;if(null!=S&&!b){const M=s;ui(S,k=>this.processProvider(k,M,S))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,l){let c=Gc(s=ie(s))?s:ie(s&&s.provide);const p=function S0(i,s,a){return qm(i)?$c(void 0,i.useValue):$c(zv(i),jc)}(s);if(Gc(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=$c(void 0,jc,!0),y.factory=()=>U(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,p)}hydrate(s,a){return a.value===jc&&(a.value=Gv,a.value=a.factory()),"object"==typeof a.value&&a.value&&function N0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ie(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function zm(i){const s=kn(i),a=null!==s?s.factory:Fi(i);if(null!==a)return a;if(i instanceof Xt)throw new Re(204,!1);if(i instanceof Function)return function Wv(i){const s=i.length;if(s>0)throw zs(s,"?"),new Re(204,!1);const a=function Bn(i){const s=i&&(i[Zr]||i[Kt]);if(s){const a=function yr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Re(204,!1)}function zv(i,s,a){let l;if(Gc(i)){const c=ie(i);return Fi(c)||zm(c)}if(qm(i))l=()=>ie(i.useValue);else if(function R0(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...U(i.deps||[]));else if(function M0(i){return!(!i||!i.useExisting)}(i))l=()=>w(ie(i.useExisting));else{const c=ie(i&&(i.useClass||i.provide));if(!function O0(i){return!!i.deps}(i))return Fi(c)||zm(c);l=()=>new c(...U(i.deps))}return l}function $c(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function qm(i){return null!==i&&"object"==typeof i&&ol in i}function Gc(i){return"function"==typeof i}let Go=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return El({name:""},l,a,"");{const p=null!==(c=a.name)&&void 0!==c?c:"";return El({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=qs,i.NULL=new $m,i.\u0275prov=Vt({token:i,providedIn:"any",factory:()=>w(jm)}),i.__NG_ELEMENT_ID__=-1,i})();function Qv(i,s){kd(Gr(i)[1],tn())}function e_(i){let s=function Xm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(Cr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Re(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=kp(i.inputs),y.declaredInputs=kp(i.declaredInputs),y.outputs=kp(i.outputs);const b=c.hostBindings;b&&qc(i,b);const C=c.viewQuery,S=c.contentQueries;if(C&&Tu(i,C),S&&t_(i,S),Q(i.inputs,c.inputs),Q(i.declaredInputs,c.declaredInputs),Q(i.outputs,c.outputs),Cr(c)&&c.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(i),b===e_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function H0(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Xa(c.hostAttrs,a=Xa(a,c.hostAttrs))}}(l)}function kp(i){return i===or?{}:i===tt?[]:i}function Tu(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function t_(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,p)=>{s(l,c,p),a(l,c,p)}:s}function qc(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let zo=null;function Au(){if(!zo){const i=Tt.Symbol;if(i&&i.iterator)zo=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(zo=l)}}}return zo}function Vn(i){return!!gs(i)&&(Array.isArray(i)||!(i instanceof Map)&&Au()in i)}function gs(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ir(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Na(i,s,a,l){const c=be();return ir(c,Eo(),s)&&(At(),jo(Gt(),c,i,s,a,l)),Na}function qo(i,s,a,l){return ir(i,Eo(),a)?s+Ee(a)+l:vt}function Wh(i,s,a,l,c,p,y,b){const C=be(),S=At(),M=i+20,k=S.firstCreatePass?function Gh(i,s,a,l,c,p,y,b,C){const S=s.consts,M=Vc(s,i,4,y||null,si(S,b));km(s,a,M,si(S,C)),kd(s,M);const k=M.tViews=wp(2,M,l,c,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,M),k.queries=s.queries.embeddedTView(M)),M}(M,S,C,s,a,l,c,p,y):S.data[M];Ir(k,!1);const j=C[11].createComment("");Ot(S,C,j,k),je(j,C),Rp(C,C[M]=Fm(j,C,j,k)),ra(k)&&Cp(S,C,k),null!=y&&Du(C,k,b)}function zh(i,s=et.Default){const a=be();return null===a?w(i,s):Ii(tn(),a,ie(i),s)}function wE(){throw new Error("invalid")}function h_(i,s,a){const l=be();return ir(l,Eo(),s)&&Wi(At(),Gt(),l,i,s,l[11],a,!1),h_}function qh(i,s,a,l,c){const y=c?"class":"style";$v(i,a,s.inputs[y],y,l)}function jp(i,s,a,l){const c=be(),p=At(),y=20+i,b=c[11],C=c[y]=Dt(b,s,function pc(){return lt.lFrame.currentNamespace}()),S=p.firstCreatePass?function DE(i,s,a,l,c,p,y){const b=s.consts,S=Vc(s,i,2,c,si(b,p));return km(s,a,S,si(b,y)),null!==S.attrs&&Uc(S,S.attrs,!1),null!==S.mergedAttrs&&Uc(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,p,c,0,s,a,l):p.data[y];Ir(S,!0);const M=S.mergedAttrs;null!==M&&To(b,C,M);const k=S.classes;null!==k&&Cm(b,C,k);const j=S.styles;return null!==j&&Sh(b,C,j),64!=(64&S.flags)&&Ot(p,c,C,S),0===function ca(){return lt.lFrame.elementDepthCount}()&&je(C,c),function da(){lt.lFrame.elementDepthCount++}(),ra(S)&&(Cp(p,c,S),function Lh(i,s,a){if(uo(s)){const c=s.directiveEnd;for(let p=s.directiveStart;p<c;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,S,c)),null!==l&&Du(c,S),jp}function Kh(){let i=tn();fa()?_o():(i=i.parent,Ir(i,!1));const s=i;!function Hl(){lt.lFrame.elementDepthCount--}();const a=At();return a.firstCreatePass&&(kd(a,i),uo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Zl(i){return 0!=(16&i.flags)}(s)&&qh(a,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Vf(i){return 0!=(32&i.flags)}(s)&&qh(a,s,be(),s.stylesWithoutHost,!1),Kh}function f_(i,s,a,l){return jp(i,s,a,l),Kh(),f_}function p_(){return be()}function Wp(i){return!!i&&"function"==typeof i.then}function g_(i){return!!i&&"function"==typeof i.subscribe}const Zh=g_;function zp(i,s,a,l){const c=be(),p=At(),y=tn();return function jt(i,s,a,l,c,p,y,b){const C=ra(l),M=i.firstCreatePass&&Hv(i),k=s[8],j=Hm(s);let J=!0;if(3&l.type||b){const Le=jn(l,s),Ke=b?b(Le):Le,Ce=j.length,st=b?Lt=>b(Wt(Lt[l.index])):l.index;if(an(a)){let Lt=null;if(!b&&C&&(Lt=function Zt(i,s,a,l){const c=i.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const y=c[p];if(y===a&&c[p+1]===l){const b=s[7],C=c[p+2];return b.length>C?b[C]:null}"string"==typeof y&&(p+=2)}return null}(i,s,c,l.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=p,Lt.__ngLastListenerFn__=p,J=!1;else{p=Ko(l,s,k,p,!1);const zt=a.listen(Ke,c,p);j.push(p,zt),M&&M.push(c,st,Ce,Ce+1)}}else p=Ko(l,s,k,p,!0),Ke.addEventListener(c,p,y),j.push(p),M&&M.push(c,st,Ce,y)}else p=Ko(l,s,k,p,!1);const me=l.outputs;let xe;if(J&&null!==me&&(xe=me[c])){const Le=xe.length;if(Le)for(let Ke=0;Ke<Le;Ke+=2){const pi=s[xe[Ke]][xe[Ke+1]].subscribe(p),Ju=j.length;j.push(p,pi),M&&M.push(c,l.index,Ju,-(Ju+1))}}}(p,c,c[11],y,i,s,!!a,l),zp}function Mt(i,s,a,l){try{return!1!==a(l)}catch(c){return Rr(i,c),!1}}function Ko(i,s,a,l,c){return function p(y){if(y===Function)return l;const b=2&i.flags?$n(i.index,s):s;0==(32&s[2])&&Vh(b);let C=Mt(s,0,l,y),S=p.__ngNextListenerFn__;for(;S;)C=Mt(s,0,S,y)&&C,S=S.__ngNextListenerFn__;return c&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function nn(i=1){return function Ei(i){return(lt.lFrame.contextLView=function Kl(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function __(i,s){let a=null;const l=function QC(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const p=s[c];if("*"!==p){if(null===l?pv(i,p,!0):gv(l,p))return c}else a=c}return a}function AE(i){const s=be()[16][6];if(!s.projection){const l=s.projection=zs(i?i.length:1,null),c=l.slice();let p=s.child;for(;null!==p;){const y=i?__(p,i):0;null!==y&&(c[y]?c[y].projectionNext=p:l[y]=p,c[y]=p),p=p.next}}}function td(i,s=0,a){const l=be(),c=At(),p=Vc(c,20+i,16,null,a||null);null===p.projection&&(p.projection=s),_o(),64!=(64&p.flags)&&function qC(i,s,a){Th(s[11],0,s,a,pr(i,a,s),lv(a.parent||s[6],a,s))}(c,l,p)}function qp(i,s,a){return gn(i,"",s,"",a),qp}function gn(i,s,a,l,c){const p=be(),y=qo(p,s,a,l);return y!==vt&&Wi(At(),Gt(),p,i,y,p[11],c,!1),gn}function nd(i,s,a,l,c){const p=i[a+1],y=null===s;let b=l?Qs(p):Ho(p),C=!1;for(;0!==b&&(!1===C||y);){const M=i[b+1];J0(i[b],s)&&(C=!0,i[b+1]=l?Am(M):Oh(M)),b=l?Qs(M):Ho(M)}C&&(i[a+1]=l?Oh(p):Am(p))}function J0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ar(i,s)>=0}function E_(i,s){return function vs(i,s,a,l){const c=be(),p=At(),y=function ai(i){const s=lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function C_(i,s,a,l){const c=i.data;if(null===c[a+1]){const p=c[Ln()],y=function xu(i,s){return s>=i.expandoStartIndex}(i,a);(function FE(i,s){return 0!=(i.flags&(s?16:32))})(p,l)&&null===s&&!y&&(s=!1),s=function kE(i,s,a,l){const c=function Co(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Yh(a=rn(null,i,s,a,l),s.attrs,l),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=rn(c,i,s,a,l),null===p){let C=function nw(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Ho(l))return i[Qs(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=rn(null,i,s,C[1],l),C=Yh(C,s.attrs,l),function rw(i,s,a,l){i[Qs(a?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else p=function iw(i,s,a){let l;const c=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<c;p++)l=Yh(l,i[p].hostAttrs,a);return Yh(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(c,p,s,l),function Pu(i,s,a,l,c,p){let y=p?s.classBindings:s.styleBindings,b=Qs(y),C=Ho(y);i[l]=a;let M,S=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||Ar(k,M)>0)&&(S=!0)}else M=a;if(c)if(0!==C){const j=Qs(i[b+1]);i[l+1]=Mh(j,b),0!==j&&(i[j+1]=Nh(i[j+1],l)),i[b+1]=function _v(i,s){return 131071&i|s<<17}(i[b+1],l)}else i[l+1]=Mh(b,0),0!==b&&(i[b+1]=Nh(i[b+1],l)),b=l;else i[l+1]=Mh(C,0),0===b?b=l:i[C+1]=Nh(i[C+1],l),C=l;S&&(i[l+1]=Oh(i[l+1])),nd(i,M,l,!0),nd(i,M,l,!1),function y_(i,s,a,l,c){const p=c?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Ar(p,s)>=0&&(a[l+1]=Am(a[l+1]))}(s,M,i,l,p),y=Mh(b,C),p?s.classBindings=y:s.styleBindings=y}(c,p,s,a,y,l)}}(p,i,y,l),s!==vt&&ir(c,y,s)&&function ku(i,s,a,l,c,p,y,b){if(!(3&s.type))return;const C=i.data,S=C[b+1];wl(function fp(i){return 1==(1&i)}(S)?Zo(C,s,a,c,Ho(S),y):void 0)||(wl(p)||function Rh(i){return 2==(2&i)}(S)&&(p=Zo(C,null,a,c,b,y)),function dv(i,s,a,l,c){const p=an(i);if(s)c?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Si.DashCase;if(null==c)p?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const b="string"==typeof c&&c.endsWith("!important");b&&(c=c.slice(0,-10),y|=Si.Important),p?i.setStyle(a,l,c,y):a.style.setProperty(l,c,b?"important":"")}}}(l,y,fo(Ln(),a),c,p))}(p,p.data[Ln()],c,c[11],i,c[y+1]=function It(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=X(us(i)))),i}(s,a),l,y)}(i,s,null,!0),E_}function rn(i,s,a,l,c){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=s[b],l=Yh(l,p.hostAttrs,c),p!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function Yh(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Yn(i,y,!!a||s[++p]))}return void 0===i?null:i}function Zo(i,s,a,l,c,p){const y=null===s;let b;for(;c>0;){const C=i[c],S=Array.isArray(C),M=S?C[1]:C,k=null===M;let j=a[c+1];j===vt&&(j=k?tt:void 0);let J=k?ss(j,l):M===l?j:void 0;if(S&&!wl(J)&&(J=ss(C,l)),wl(J)&&(b=J,y))return b;const me=i[c+1];c=y?Qs(me):Ho(me)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(b=ss(C,l))}return b}function wl(i){return void 0!==i}function rd(i,s=""){const a=be(),l=At(),c=i+20,p=l.firstCreatePass?Vc(l,c,1,s,null):l.data[c],y=a[c]=function Pn(i,s){return an(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Ot(l,a,y,p),Ir(p,!1)}function D_(i){return mn("",i,""),D_}function mn(i,s,a){const l=be(),c=qo(l,i,s,a);return c!==vt&&$o(l,Ln(),c),mn}const Dl=void 0;var pw=["en",[["a","p"],["AM","PM"],Dl],[["AM","PM"],Dl,Dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dl,"{1} 'at' {0}",Dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fw(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let sd={};function sf(i){const s=function od(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=of(s);if(a)return a;const l=s.split("-")[0];if(a=of(l),a)return a;if("en"===l)return pw;throw new Error(`Missing locale data for the locale "${i}".`)}function rg(i){return sf(i)[it.PluralCase]}function of(i){return i in sd||(sd[i]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[i]),sd[i]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const sg="en-US";let N_=sg;function ud(i,s,a,l,c){if(i=ie(i),Array.isArray(i))for(let p=0;p<i.length;p++)ud(i[p],s,a,l,c);else{const p=At(),y=be();let b=Gc(i)?i:ie(i.provide),C=zv(i);const S=tn(),M=1048575&S.providerIndexes,k=S.directiveStart,j=S.providerIndexes>>20;if(Gc(i)||!i.multi){const J=new Do(C,c,zh),me=q_(b,s,c?M:M+j,k);-1===me?(tl(tr(S,y),p,b),cd(p,i,s.length),s.push(b),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(J),y.push(J)):(a[me]=J,y[me]=J)}else{const J=q_(b,s,M+j,k),me=q_(b,s,M,M+j),xe=J>=0&&a[J],Le=me>=0&&a[me];if(c&&!Le||!c&&!xe){tl(tr(S,y),p,b);const Ke=function Bw(i,s,a,l,c){const p=new Do(i,a,zh);return p.multi=[],p.index=s,p.componentProviders=0,fb(p,c,l&&!a),p}(c?pb:Vw,a.length,c,l,C);!c&&Le&&(a[me].providerFactory=Ke),cd(p,i,s.length,0),s.push(b),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(Ke),y.push(Ke)}else cd(p,i,J>-1?J:me,fb(a[c?me:J],C,!c&&l));!c&&l&&Le&&a[me].componentProviders++}}}function cd(i,s,a,l){const c=Gc(s),p=function Km(i){return!!i.useClass}(s);if(c||p){const C=(p?ie(s.useClass):s).prototype.ngOnDestroy;if(C){const S=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const M=S.indexOf(a);-1===M?S.push(a,[l,C]):S[M+1].push(l,C)}else S.push(a,C)}}}function fb(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function q_(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function Vw(i,s,a,l){return hf(this.multi,[])}function pb(i,s,a,l){const c=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=So(a,a[1],this.providerFactory.index,l);p=b.slice(0,y),hf(c,p);for(let C=y;C<b.length;C++)p.push(b[C])}else p=[],hf(c,p);return p}function hf(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function ka(i,s=[]){return a=>{a.providersResolver=(l,c)=>function Al(i,s,a){const l=At();if(l.firstCreatePass){const c=Cr(i);ud(a,l.data,l.blueprint,c,!0),ud(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class gb{}class Hw{resolveComponentFactory(s){throw function Uw(i){const s=Error(`No component factory found for ${X(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let gg=(()=>{class i{}return i.NULL=new Hw,i})();function yb(){return Fa(tn(),be())}function Fa(i,s){return new pf(jn(i,s))}let pf=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=yb,i})();function dd(i){return i instanceof pf?i.nativeElement:i}class K_{}let vb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function _g(){const i=be(),a=$n(tn().index,i);return function mg(i){return i[11]}(cr(a)?a:i)}(),i})(),Z_=(()=>{class i{}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>null}),i})();class yg{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const vg=new yg("13.3.4"),Y_={};function Sl(i,s,a,l,c=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(Wt(p)),Fr(p))for(let b=10;b<p.length;b++){const C=p[b],S=C[1].firstChild;null!==S&&Sl(C[1],C,S,l)}const y=a.type;if(8&y)Sl(i,s,a.child,l);else if(32&y){const b=d(a,s);let C;for(;C=b();)l.push(C)}else if(16&y){const b=uv(s,a);if(Array.isArray(b))l.push(...b);else{const C=T(s[16]);Sl(C[1],C,b,l,!0)}}a=c?a.projectionNext:a.next}return l}class gf{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Sl(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Fr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(di(s,l),Ws(a,l))}this._attachedToViewContainer=!1}Ih(this._lView[1],this._lView)}onDestroy(s){Dp(this._lView[1],this._lView,null,s)}markForCheck(){Vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Uv(i,s,a){vo(!0);try{Bm(i,s,a)}finally{vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dh(i,s){kc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=s}}class $w extends gf{constructor(s){super(s),this._view=s}detectChanges(){Op(this._view)}checkNoChanges(){!function w0(i){vo(!0);try{Op(i)}finally{vo(!1)}}(this._view)}get context(){return null}}class Eb extends gg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=yt(s);return new bg(a,this.ngModule)}}function Eg(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class bg extends gb{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Sa(i){return i.map(Im).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Eg(this.componentDef.inputs)}get outputs(){return Eg(this.componentDef.outputs)}create(s,a,l,c){const p=(c=c||this.ngModule)?function Gw(i,s){return{get:(a,l,c)=>{const p=i.get(a,Y_,c);return p!==Y_||l===Y_?p:s.get(a,l,c)}}}(s,c.injector):s,y=p.get(K_,Wa),b=p.get(Z_,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=l?function Mv(i,s,a){if(an(i))return i.selectRootElement(s,a===Bt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(C,l,this.componentDef.encapsulation):Dt(y.createRenderer(null,this.componentDef),S,function Q_(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(S)),k=this.componentDef.onPush?576:528,j=function Jm(i,s){return{components:[],scheduler:i||fl,clean:D0,playerHandler:s||null,flags:0}}(),J=wp(0,null,null,1,0,null,null,null,null,null),me=vl(null,J,j,k,null,null,y,C,b,p);let xe,Le;Vs(me);try{const Ke=function B0(i,s,a,l,c,p){const y=a[1];a[20]=i;const C=Vc(y,20,2,"#host",null),S=C.mergedAttrs=s.hostAttrs;null!==S&&(Uc(C,S,!0),null!==i&&(To(c,i,S),null!==C.classes&&Cm(c,i,C.classes),null!==C.styles&&Sh(c,i,C.styles)));const M=l.createRenderer(i,s),k=vl(a,Pm(s),null,s.onPush?64:16,a[20],C,l,M,p||null,null);return y.firstCreatePass&&(tl(tr(C,a),y,s.type),Pv(y,C),kv(C,a.length,1)),Rp(a,k),a[20]=k}(M,this.componentDef,me,y,C);if(M)if(l)To(C,M,["ng-version",vg.full]);else{const{attrs:Ce,classes:st}=function Fc(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===c?""!==p&&s.push(p,i[++l]):8===c&&a.push(p);else{if(!Ri(c))break;c=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ce&&To(C,M,Ce),st&&st.length>0&&Cm(C,M,st.join(" "))}if(Le=ks(J,20),void 0!==a){const Ce=Le.projection=[];for(let st=0;st<this.ngContentSelectors.length;st++){const Lt=a[st];Ce.push(null!=Lt?Array.from(Lt):null)}}xe=function U0(i,s,a,l,c){const p=a[1],y=function d0(i,s,a){const l=tn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Fv(i,l,s,Bc(i,s,1,null),a));const c=So(s,i,l.directiveStart,l);je(c,s);const p=jn(l,s);return p&&je(p,s),c}(p,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(C=>C(y,s)),s.contentQueries){const C=tn();s.contentQueries(1,y,C.directiveStart)}const b=tn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(bi(b.index),Ov(a[1],b,0,b.directiveStart,b.directiveEnd,s),Nv(s,y)),y}(Ke,this.componentDef,me,j,[Qv]),Fh(J,me,null)}finally{ma()}return new bb(this.componentType,xe,Fa(Le,me),me,Le)}}class bb extends class ff{}{constructor(s,a,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new $w(c),this.componentType=s}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ml{}class Cg{}const La=new Map;class wb extends Ml{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Eb(this);const l=Ut(s);this._bootstrapComponents=fs(l.bootstrap),this._r3Injector=Wm(s,a,[{provide:Ml,useValue:this},{provide:gg,useValue:this.componentFactoryResolver}],X(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Go.THROW_IF_NOT_FOUND,l=et.Default){return s===Go||s===Ml||s===jm?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Gu extends Cg{constructor(s){super(),this.moduleType=s,null!==Ut(s)&&function Cb(i){const s=new Set;!function a(l){const c=Ut(l,!0),p=c.id;null!==p&&(function wg(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${X(s)} vs ${X(s.name)}`)}(p,La.get(p),l),La.set(p,l));const y=fs(c.imports);for(const b of y)s.has(b)||(s.add(b),a(b))}(i)}(s)}create(s){return new wb(this.moduleType,s)}}function Ag(i){return s=>{setTimeout(i,void 0,s)}}const Qo=class Xw extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,p,y;let b=s,C=a||(()=>null),S=l;if(s&&"object"==typeof s){const k=s;b=null===(c=k.next)||void 0===c?void 0:c.bind(k),C=null===(p=k.error)||void 0===p?void 0:p.bind(k),S=null===(y=k.complete)||void 0===y?void 0:y.bind(k)}this.__isAsync&&(C=Ag(C),b&&(b=Ag(b)),S&&(S=Ag(S)));const M=super.subscribe({next:b,error:C,complete:S});return s instanceof de.w0&&s.add(M),M}};function eD(){return this._results[Au()]()}class ry{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Au(),l=ry.prototype;l[a]||(l[a]=eD)}get changes(){return this._changes||(this._changes=new Qo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=li(s);(this._changesDetected=!function bc(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],p=s[l];if(a&&(c=a(c),p=a(p)),p!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let md=(()=>{class i{}return i.__NG_ELEMENT_ID__=Sb,i})();const yf=md,Ab=class extends yf{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=vl(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),Fh(a,l,s),new gf(l)}};function Sb(){return Sg(tn(),be())}function Sg(i,s){return 4&i.type?new Ab(s,i,Fa(i,s)):null}let _d=(()=>{class i{}return i.__NG_ELEMENT_ID__=Mg,i})();function Mg(){return Rb(tn(),be())}const tD=_d,Rg=class extends tD{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Fa(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){const s=ya(this._hostTNode,this._hostLView);if(_c(s)){const a=_n(s,this._hostLView),l=wi(s);return new Br(a[1].data[l+8],a)}return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Mb(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,p){const y=s&&!function dr(i){return"function"==typeof i}(s);let b;if(y)b=a;else{const k=a||{};b=k.index,l=k.injector,c=k.projectableNodes,p=k.ngModuleRef}const C=y?s:new bg(yt(s)),S=l||this.parentInjector;if(!p&&null==C.ngModule){const j=(y?S:this.parentInjector).get(Ml,null);j&&(p=j)}const M=C.create(S,c,void 0,p);return this.insert(M.hostView,b),M}insert(s,a){const l=s._lView,c=l[1];if(function ua(i){return Fr(i[3])}(l)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const k=l[3],j=new Rg(k,k[6],k[3]);j.detach(j.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function op(i,s,a,l){const c=10+l,p=a.length;l>0&&(a[c-1][4]=s),l<p-10?(s[4]=a[c],iu(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function ap(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=128}(c,l,y,p);const b=Aa(p,y),C=l[11],S=up(C,y[7]);return null!==S&&function Ta(i,s,a,l,c,p){l[0]=c,l[6]=s,kc(i,l,a,1,c,p)}(c,y[6],C,l,S,b),s.attachToViewContainerRef(),iu(iy(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Mb(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=di(this._lContainer,a);l&&(Ws(iy(this._lContainer),a),Ih(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=di(this._lContainer,a);return l&&null!=Ws(iy(this._lContainer),a)?new gf(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Mb(i){return i[8]}function iy(i){return i[8]||(i[8]=[])}function Rb(i,s){let a;const l=s[i.index];if(Fr(l))a=l;else{let c;if(8&i.type)c=Wt(l);else{const p=s[11];c=p.createComment("");const y=jn(i,s);yu(p,up(p,y),c,function av(i,s){return an(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=a=Fm(l,s,c,i),Rp(s,a)}return new Rg(a,i,s)}class sy{constructor(s){this.queryList=s,this.matches=null}clone(){return new sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class vf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);c.push(this.queries[y.indexInDeclarationView].clone())}return new vf(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==xb(s,a).matches&&this.queries[a].setDirty()}}class oy{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class ay{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,c);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new ay(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Rl{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Rl(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(s,a,Ol(a,p)),this.matchTNodeWithReadOption(s,a,Hs(a,s,p,!1,!1))}else l===md?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Hs(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===pf||c===_d||c===md&&4&a.type)this.addMatch(a.index,-2);else{const p=Hs(a,s,c,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Ol(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function ly(i,s,a,l){return-1===a?function rD(i,s){return 11&i.type?Fa(i,s):4&i.type?Sg(i,s):null}(s,i):-2===a?function Og(i,s,a){return a===pf?Fa(s,i):a===md?Sg(s,i):a===_d?Rb(s,i):void 0}(i,s,l):So(i,i[1],a,s)}function Nb(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const p=i.data,y=a.matches,b=[];for(let C=0;C<y.length;C+=2){const S=y[C];b.push(S<0?null:ly(s,p[S],y[C+1],a.metadata.read))}c.matches=b}return c.matches}function Nl(i,s,a,l){const c=i.queries.getByIndex(a),p=c.matches;if(null!==p){const y=Nb(i,s,c,a);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)l.push(y[b/2]);else{const S=p[b+1],M=s[-C];for(let k=10;k<M.length;k++){const j=M[k];j[17]===j[3]&&Nl(j[1],j,S,l)}if(null!==M[9]){const k=M[9];for(let j=0;j<k.length;j++){const J=k[j];Nl(J[1],J,S,l)}}}}}return l}function Pb(i){const s=be(),a=At(),l=Gl();ga(l+1);const c=xb(a,l);if(i.dirty&&po(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const p=c.crossesNgTemplate?Nl(a,s,l,[]):Nb(a,s,c,l);i.reset(p,dd),i.notifyOnChanges()}return!0}return!1}function uy(i,s,a){const l=At();l.firstCreatePass&&(xg(l,new oy(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),Pg(l,be(),s)}function cy(i,s,a,l){const c=At();if(c.firstCreatePass){const p=tn();xg(c,new oy(s,a,l),p.index),function iD(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}Pg(c,be(),a)}function dy(){return function Ng(i,s){return i[19].queries[s].queryList}(be(),Gl())}function Pg(i,s,a){const l=new ry(4==(4&a));Dp(i,s,l,l.destroy),null===s[19]&&(s[19]=new vf),s[19].queries.push(new sy(l))}function xg(i,s,a){null===i.queries&&(i.queries=new ay),i.queries.track(new Rl(s,a))}function xb(i,s){return i.queries.getByIndex(s)}function Oi(...i){}const Hg=new Xt("Application Initializer");let jg=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Oi,this.reject=Oi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Wp(p))a.push(p);else if(Zh(p)){const y=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(w(Hg,8))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Zb=new Xt("AppId",{providedIn:"root",factory:function yy(){return`${vy()}${vy()}${vy()}`}});function vy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yb=new Xt("Platform Initializer"),pD=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gD=new Xt("appBootstrapListener");let mD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ey=new Xt("LocaleId",{providedIn:"root",factory:()=>R(Ey,et.Optional|et.SkipSelf)||function _D(){return"undefined"!=typeof $localize&&$localize.locale||sg}()}),yD=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let ED=(()=>{class i{compileModuleSync(a){return new Gu(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=fs(Ut(a).declarations).reduce((y,b)=>{const C=yt(b);return C&&y.push(new bg(C)),y},[]);return new vD(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bD=(()=>Promise.resolve(0))();function by(i){"undefined"==typeof Zone?bD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ds{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function CD(){let i=Tt.requestAnimationFrame,s=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ID(i){const s=()=>{!function DD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Tt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Xo(i),i.isCheckStableRunning=!0,Cy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Xo(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,p,y,b)=>{try{return mr(i),a.invokeTask(c,p,y,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Ni(i)}},onInvoke:(a,l,c,p,y,b,C)=>{try{return mr(i),a.invoke(c,p,y,b,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),Ni(i)}},onHasTask:(a,l,c,p)=>{a.hasTask(c,p),l===c&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Xo(i),Cy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,c,p)=>(a.handleError(c,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ds.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ds.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+c,s,wD,Oi,Oi);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const wD={};function Cy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Xo(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function mr(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ni(i){i._nesting--,Cy(i)}class Cf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qo,this.onMicrotaskEmpty=new Qo,this.onStable=new Qo,this.onError=new Qo}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let Qb=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ds.assertNotInAngularZone(),by(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())by(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(w(Ds))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac}),i})(),TD=(()=>{class i{constructor(){this._applications=new Map,yd.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return yd.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class AD{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function SD(i){yd=i}let yd=new AD,Ku=null;const Jb=new Xt("AllowMultipleToken"),wy=new Xt("PlatformOnDestroy");class $g{constructor(s,a){this.name=s,this.token=a}}function RD(i,s,a=[]){const l=`Platform: ${s}`,c=new Xt(l);return(p=[])=>{let y=nC();if(!y||y.injector.get(Jb,!1)){const b=[...a,...p,{provide:c,useValue:!0}];i?i(b):function MD(i){if(Ku&&!Ku.get(Jb,!1))throw new Re(400,"");Ku=i;const s=i.get(rC),a=i.get(Yb,null);a&&a.forEach(l=>l())}(function Dy(i=[],s){return Go.create({name:s,providers:[{provide:Gm,useValue:"platform"},{provide:wy,useValue:()=>Ku=null},...i]})}(b,l))}return function OD(i){const s=nC();if(!s)throw new Re(401,"");return s}()}}function nC(){var i;return null!==(i=null==Ku?void 0:Ku.get(rC))&&void 0!==i?i:null}let rC=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const b=function ND(i,s){let a;return a="noop"===i?new Cf:("zone.js"===i?void 0:i)||new Ds({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:Ds,useValue:b}];return b.run(()=>{const S=Go.create({providers:C,parent:this.injector,name:a.moduleType.name}),M=a.create(S),k=M.injector.get(Wn,null);if(!k)throw new Re(402,"");return b.runOutsideAngular(()=>{const j=b.onError.subscribe({next:J=>{k.handleError(J)}});M.onDestroy(()=>{sC(this._modules,M),j.unsubscribe()})}),function TT(i,s,a){try{const l=a();return Wp(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,b,()=>{const j=M.injector.get(jg);return j.runInitializers(),j.donePromise.then(()=>(function ug(i){pt(i,"Expected localeId to be defined"),"string"==typeof i&&(N_=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Ey,sg)||sg),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,l=[]){const c=PD({},l);return function Xb(i,s,a){const l=new Gu(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(a){const l=a.injector.get(iC);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Re(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(wy,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(w(Go))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function PD(i,s){return Array.isArray(s)?s.reduce(PD,i):Object.assign(Object.assign({},i),s)}let iC=(()=>{class i{constructor(a,l,c,p){this._zone=a,this._injector=l,this._exceptionHandler=c,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new x.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new x.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ds.assertNotInAngularZone(),by(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ds.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(y,b.pipe((0,Y.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Re(405,"");let c;c=a instanceof gb?a:this._injector.get(gg).resolveComponentFactory(a),this.componentTypes.push(c.componentType);const p=function tC(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Ml),b=c.create(Go.NULL,[],l||c.selector,p),C=b.location.nativeElement,S=b.injector.get(Qb,null),M=S&&b.injector.get(TD);return S&&M&&M.registerApplication(C,S),b.onDestroy(()=>{this.detachView(b.hostView),sC(this.components,b),M&&M.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;sC(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(gD,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(w(Ds),w(Go),w(Wn),w(jg))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function sC(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let kD=!0,FD=!1;function Iy(){return FD=!0,kD}function cn(){if(FD)throw new Error("Cannot enable prod mode after platform setup.");kD=!1}let VD=(()=>{class i{}return i.__NG_ELEMENT_ID__=BD,i})();function BD(i){return function MT(i,s,a){if(Os(i)&&!a){const l=$n(i.index,s);return new gf(l,l)}return 47&i.type?new gf(s[16],s):null}(tn(),be(),16==(16&i))}class Gg{constructor(){}supports(s){return Vn(s)}create(s){return new GD(s)}}const Ny=(i,s)=>s;class GD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Ny}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<cC(l,c,p)?a:l,b=cC(y,c,p),C=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{p||(p=[]);const S=b-c,M=C-c;if(S!=M){for(let j=0;j<S;j++){const J=j<p.length?p[j]:p[j]=0,me=J+j;M<=me&&me<S&&(p[j]=J+1)}p[y.previousIndex]=M-S}}b!==C&&s(y,b,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Vn(s))throw new Re(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,p,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)p=s[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),l=!0),a=a._next}else c=0,function n_(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Au()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{y=this._trackByFn(c,b),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,b,y,c)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,c)):s=this._addAfter(new WD(a,l),p,c),s}_verifyReinsertion(s,a,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,p=s._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new uC),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uC),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class WD{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class uC{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new zD,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cC(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class vd{constructor(){}supports(s){return s instanceof Map||gs(s)}create(){return new dC}}class dC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||gs(s)))throw new Re(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const p=c._prev,y=c._next;return p&&(p._next=y),y&&(y._prev=p),c._next=null,c._prev=null,c}const l=new Wg(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class Wg{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Py(){return new xy([new Gg])}let xy=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Py()),deps:[[i,new ct,new at]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Re(901,"")}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:Py}),i})();function hC(){return new ky([new vd])}let ky=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||hC()),deps:[[i,new ct,new at]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new Re(901,"")}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:hC}),i})();const gC=RD(null,"core",[]);let wf=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(w(iC))},i.\u0275mod=$({type:i}),i.\u0275inj=Tn({}),i})()},2412:(rt,De,F)=>{F.d(De,{Z:()=>ve});var h=F(2090),de=F(4859),x=F(9182);const se=[];var Y=(()=>{return(Ie=Y||(Y={}))[Ie.DEBUG=0]="DEBUG",Ie[Ie.VERBOSE=1]="VERBOSE",Ie[Ie.INFO=2]="INFO",Ie[Ie.WARN=3]="WARN",Ie[Ie.ERROR=4]="ERROR",Ie[Ie.SILENT=5]="SILENT",Y;var Ie})();const fe={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},Q=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ge=(Ie,_e,...Ve)=>{if(_e<Ie.logLevel)return;const qe=(new Date).toISOString(),ne=X[_e];if(!ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[ne](`[${qe}]  ${Ie.name}:`,...Ve)};class $e{constructor(_e,Ve){this._delegate=_e,this.firebase=Ve,(0,x._addComponent)(_e,new de.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(_e,Ve=x._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const ne=this._delegate.container.getProvider(_e);return!ne.isInitialized()&&"EXPLICIT"===(null===(qe=ne.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&ne.initialize(),ne.getImmediate({identifier:Ve})}_removeServiceInstance(_e,Ve=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Ve)}_addComponent(_e){(0,x._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,x._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ke=function Ee(){const Ie=function He(Ie){const _e={},Ve={__esModule:!0,initializeApp:function oe(we,ue={}){const ut=x.initializeApp(we,ue);if((0,h.r3)(_e,ut.name))return _e[ut.name];const pt=new Ie(ut,Ve);return _e[ut.name]=pt,pt},app:ne,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function ye(we){const ue=we.name,ut=ue.replace("-compat","");if(x._registerComponent(we)&&"PUBLIC"===we.type){const pt=(Be=ne())=>{if("function"!=typeof Be[ut])throw Re.create("invalid-app-argument",{appName:ue});return Be[ut]()};void 0!==we.serviceProps&&(0,h.ZB)(pt,we.serviceProps),Ve[ut]=pt,Ie.prototype[ut]=function(...Be){return this._getService.bind(this,ue).apply(this,we.multipleInstances?Be:[])}}return"PUBLIC"===we.type?Ve[ut]:null},removeApp:function qe(we){delete _e[we]},useAsService:function le(we,ue){return"serverAuth"===ue?null:ue},modularAPIs:x}};function ne(we){if(!(0,h.r3)(_e,we=we||x._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:we});return _e[we]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function re(){return Object.keys(_e).map(we=>_e[we])}}),ne.App=Ie,Ve}($e);return Ie.INTERNAL=Object.assign(Object.assign({},Ie.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function _e(Ve){(0,h.ZB)(Ie,Ve)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ie}(),Je=new class q{constructor(_e){this.name=_e,this._logLevel=Q,this._logHandler=ge,this._userLogHandler=null,se.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in Y))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?fe[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,..._e),this._logHandler(this,Y.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,..._e),this._logHandler(this,Y.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,..._e),this._logHandler(this,Y.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,..._e),this._logHandler(this,Y.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,..._e),this._logHandler(this,Y.ERROR,..._e)}}("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){Je.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ie=self.firebase.SDK_VERSION;Ie&&Ie.indexOf("LITE")>=0&&Je.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ve=ke;!function Te(Ie){(0,x.registerVersion)("@firebase/app-compat","0.1.22",Ie)}()},9182:(rt,De,F)=>{F.r(De),F.d(De,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>hn,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>yr,_addOrOverwriteComponent:()=>Qi,_apps:()=>Jn,_clearComponents:()=>dn,_components:()=>Bn,_getProvider:()=>Ji,_registerComponent:()=>Zr,_removeServiceInstance:()=>Kt,deleteApp:()=>An,getApp:()=>Yr,getApps:()=>Un,initializeApp:()=>mi,onLog:()=>Bt,registerVersion:()=>Qr,setLogLevel:()=>Xe});var h=F(5861),de=F(4859);const x=[];var se=(()=>{return(L=se||(se={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",se;var L})();const Y={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},fe=se.INFO,Q={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},X=(L,B,...$)=>{if(B<L.logLevel)return;const pe=(new Date).toISOString(),Pe=Q[B];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Pe](`[${pe}]  ${L.name}:`,...$)};var ie=F(2090);class $e{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map($=>{if(function Se(L){const B=L.getComponent();return"VERSION"===(null==B?void 0:B.type)}($)){const pe=$.getImmediate();return`${pe.library}/${pe.version}`}return null}).filter($=>$).join(" ")}}const Re="@firebase/app",Ee=new class ge{constructor(B){this.name=B,this._logLevel=fe,this._logHandler=X,this._userLogHandler=null,x.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in se))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?Y[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...B),this._logHandler(this,se.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...B),this._logHandler(this,se.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,se.INFO,...B),this._logHandler(this,se.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,se.WARN,...B),this._logHandler(this,se.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...B),this._logHandler(this,se.ERROR,...B)}}("@firebase/app"),Tn="[DEFAULT]",kn={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jn=new Map,Bn=new Map;function yr(L,B){try{L.container.addComponent(B)}catch($){Ee.debug(`Component ${B.name} failed to register with FirebaseApp ${L.name}`,$)}}function Qi(L,B){L.container.addOrOverwriteComponent(B)}function Zr(L){const B=L.name;if(Bn.has(B))return Ee.debug(`There were multiple attempts to register component ${B}.`),!1;Bn.set(B,L);for(const $ of Jn.values())yr($,L);return!0}function Ji(L,B){const $=L.container.getProvider("heartbeat").getImmediate({optional:!0});return $&&$.triggerHeartbeat(),L.container.getProvider(B)}function Kt(L,B,$=Tn){Ji(L,B).clearInstance($)}function dn(){Bn.clear()}const Xn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Fn{constructor(B,$,pe){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=pe,this.container.addComponent(new de.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const hn="9.6.11";function mi(L,B={}){"object"!=typeof B&&(B={name:B});const $=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},B),pe=$.name;if("string"!=typeof pe||!pe)throw Xn.create("bad-app-name",{appName:String(pe)});const Pe=Jn.get(pe);if(Pe){if((0,ie.vZ)(L,Pe.options)&&(0,ie.vZ)($,Pe.config))return Pe;throw Xn.create("duplicate-app",{appName:pe})}const Ze=new de.H0(pe);for(const yt of Bn.values())Ze.addComponent(yt);const kt=new Fn(L,$,Ze);return Jn.set(pe,kt),kt}function Yr(L=Tn){const B=Jn.get(L);if(!B)throw Xn.create("no-app",{appName:L});return B}function Un(){return Array.from(Jn.values())}function An(L){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(L){const B=L.name;Jn.has(B)&&(Jn.delete(B),yield Promise.all(L.container.getProviders().map($=>$.delete())),L.isDeleted=!0)})).apply(this,arguments)}function Qr(L,B,$){var pe;let Pe=null!==(pe=kn[L])&&void 0!==pe?pe:L;$&&(Pe+=`-${$}`);const Ze=Pe.match(/\s|\//),kt=B.match(/\s|\//);if(Ze||kt){const yt=[`Unable to register library "${Pe}" with version "${B}":`];return Ze&&yt.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),Ze&&kt&&yt.push("and"),kt&&yt.push(`version name "${B}" contains illegal characters (whitespace or "/")`),void Ee.warn(yt.join(" "))}Zr(new de.wA(`${Pe}-version`,()=>({library:Pe,version:B}),"VERSION"))}function Bt(L,B){if(null!==L&&"function"!=typeof L)throw Xn.create("invalid-log-argument");!function ee(L,B){for(const $ of x){let pe=null;B&&B.level&&(pe=Y[B.level]),$.userLogHandler=null===L?null:(Pe,Ze,...kt)=>{const yt=kt.map(Ft=>{if(null==Ft)return null;if("string"==typeof Ft)return Ft;if("number"==typeof Ft||"boolean"==typeof Ft)return Ft.toString();if(Ft instanceof Error)return Ft.message;try{return JSON.stringify(Ft)}catch(mt){return null}}).filter(Ft=>Ft).join(" ");Ze>=(null!=pe?pe:Pe.logLevel)&&L({level:se[Ze].toLowerCase(),message:yt,args:kt,type:Pe.name})}}}(L,B)}function Xe(L){!function q(L){x.forEach(B=>{B.setLogLevel(L)})}(L)}const Hn="firebase-heartbeat-store";let Tt=null;function Xi(){return Tt||(Tt=(0,ie.X3)("firebase-heartbeat-database",1,(L,B)=>{0===B&&L.createObjectStore(Hn)}).catch(L=>{throw Xn.create("storage-open",{originalErrorMessage:L.message})})),Tt}function or(){return(or=(0,h.Z)(function*(L){try{return(yield Xi()).transaction(Hn).objectStore(Hn).get(gt(L))}catch(B){throw Xn.create("storage-get",{originalErrorMessage:B.message})}})).apply(this,arguments)}function tt(L,B){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(L,B){try{const pe=(yield Xi()).transaction(Hn,"readwrite");return yield pe.objectStore(Hn).put(B,gt(L)),pe.complete}catch($){throw Xn.create("storage-set",{originalErrorMessage:$.message})}})).apply(this,arguments)}function gt(L){return`${L.name}!${L.options.appId}`}class lr{constructor(B){this.container=B,this._heartbeatsCache=null;const $=this.container.getProvider("app").getImmediate();this._storage=new xr($),this._heartbeatsCachePromise=this._storage.read().then(pe=>(this._heartbeatsCache=pe,pe))}triggerHeartbeat(){var B=this;return(0,h.Z)(function*(){const pe=B.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=ur();if(null===B._heartbeatsCache&&(B._heartbeatsCache=yield B._heartbeatsCachePromise),B._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!B._heartbeatsCache.heartbeats.some(Ze=>Ze.date===Pe))return B._heartbeatsCache.heartbeats.push({date:Pe,agent:pe}),B._heartbeatsCache.heartbeats=B._heartbeatsCache.heartbeats.filter(Ze=>{const kt=new Date(Ze.date).valueOf();return Date.now()-kt<=2592e6}),B._storage.overwrite(B._heartbeatsCache)})()}getHeartbeatsHeader(){var B=this;return(0,h.Z)(function*(){if(null===B._heartbeatsCache&&(yield B._heartbeatsCachePromise),null===B._heartbeatsCache||0===B._heartbeatsCache.heartbeats.length)return"";const $=ur(),{heartbeatsToSend:pe,unsentEntries:Pe}=function ei(L,B=1024){const $=[];let pe=L.slice();for(const Pe of L){const Ze=$.find(kt=>kt.agent===Pe.agent);if(Ze){if(Ze.dates.push(Pe.date),W($)>B){Ze.dates.pop();break}}else if($.push({agent:Pe.agent,dates:[Pe.date]}),W($)>B){$.pop();break}pe=pe.slice(1)}return{heartbeatsToSend:$,unsentEntries:pe}}(B._heartbeatsCache.heartbeats),Ze=(0,ie.L)(JSON.stringify({version:2,heartbeats:pe}));return B._heartbeatsCache.lastSentHeartbeatDate=$,Pe.length>0?(B._heartbeatsCache.heartbeats=Pe,yield B._storage.overwrite(B._heartbeatsCache)):(B._heartbeatsCache.heartbeats=[],B._storage.overwrite(B._heartbeatsCache)),Ze})()}}function ur(){return(new Date).toISOString().substring(0,10)}class xr{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var B=this;return(0,h.Z)(function*(){return(yield B._canUseIndexedDBPromise)&&(yield function er(L){return or.apply(this,arguments)}(B.app))||{heartbeats:[]}})()}overwrite(B){var $=this;return(0,h.Z)(function*(){var pe;if(yield $._canUseIndexedDBPromise){const Ze=yield $.read();return tt($.app,{lastSentHeartbeatDate:null!==(pe=B.lastSentHeartbeatDate)&&void 0!==pe?pe:Ze.lastSentHeartbeatDate,heartbeats:B.heartbeats})}})()}add(B){var $=this;return(0,h.Z)(function*(){var pe;if(yield $._canUseIndexedDBPromise){const Ze=yield $.read();return tt($.app,{lastSentHeartbeatDate:null!==(pe=B.lastSentHeartbeatDate)&&void 0!==pe?pe:Ze.lastSentHeartbeatDate,heartbeats:[...Ze.heartbeats,...B.heartbeats]})}})()}}function W(L){return(0,ie.L)(JSON.stringify({version:2,heartbeats:L})).length}!function H(L){Zr(new de.wA("platform-logger",B=>new $e(B),"PRIVATE")),Zr(new de.wA("heartbeat",B=>new lr(B),"PRIVATE")),Qr(Re,"0.7.21",L),Qr(Re,"0.7.21","esm2017"),Qr("fire-js","")}("")},4859:(rt,De,F)=>{F.d(De,{H0:()=>X,wA:()=>x,zt:()=>Y});var h=F(5861),de=F(2090);class x{constructor(q,ee,ie){this.name=q,this.instanceFactory=ee,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const se="[DEFAULT]";class Y{constructor(q,ee){this.name=q,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const ee=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(ee)){const ie=new de.BH;if(this.instancesDeferred.set(ee,ie),this.isInitialized(ee)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ee});$e&&ie.resolve($e)}catch($e){}}return this.instancesDeferred.get(ee).promise}getImmediate(q){var ee;const ie=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),$e=null!==(ee=null==q?void 0:q.optional)&&void 0!==ee&&ee;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Se){if($e)return null;throw Se}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Q(ge){return"EAGER"===ge.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:se})}catch(ee){}for(const[ee,ie]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ee);try{const Se=this.getOrInitializeService({instanceIdentifier:$e});ie.resolve(Se)}catch(Se){}}}}clearInstance(q=se){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,h.Z)(function*(){const ee=Array.from(q.instances.values());yield Promise.all([...ee.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...ee.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=se){return this.instances.has(q)}getOptions(q=se){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:ee={}}=q,ie=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ie,options:ee});for(const[Se,Re]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Se)&&Re.resolve($e);return $e}onInit(q,ee){var ie;const $e=this.normalizeInstanceIdentifier(ee),Se=null!==(ie=this.onInitCallbacks.get($e))&&void 0!==ie?ie:new Set;Se.add(q),this.onInitCallbacks.set($e,Se);const Re=this.instances.get($e);return Re&&q(Re,$e),()=>{Se.delete(q)}}invokeOnInitCallbacks(q,ee){const ie=this.onInitCallbacks.get(ee);if(ie)for(const $e of ie)try{$e(q,ee)}catch(Se){}}getOrInitializeService({instanceIdentifier:q,options:ee={}}){let ie=this.instances.get(q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=q,ge===se?void 0:ge),options:ee}),this.instances.set(q,ie),this.instancesOptions.set(q,ee),this.invokeOnInitCallbacks(ie,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ie)}catch($e){}var ge;return ie||null}normalizeInstanceIdentifier(q=se){return this.component?this.component.multipleInstances?q:se:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const ee=this.getProvider(q.name);if(ee.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);ee.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const ee=new Y(q,this);return this.providers.set(q,ee),ee}getProviders(){return Array.from(this.providers.values())}}},5861:(rt,De,F)=>{function h(x,se,Y,fe,Q,X,ge){try{var q=x[X](ge),ee=q.value}catch(ie){return void Y(ie)}q.done?se(ee):Promise.resolve(ee).then(fe,Q)}function de(x){return function(){var se=this,Y=arguments;return new Promise(function(fe,Q){var X=x.apply(se,Y);function ge(ee){h(X,fe,Q,ge,q,"next",ee)}function q(ee){h(X,fe,Q,ge,q,"throw",ee)}ge(void 0)})}}F.d(De,{Z:()=>de})}},rt=>{rt(rt.s=5765)}]);